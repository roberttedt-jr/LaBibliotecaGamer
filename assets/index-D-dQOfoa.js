function Bw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Fw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ww(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var xm={exports:{}},Ea={},bm={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=Symbol.for("react.element"),Hw=Symbol.for("react.portal"),Kw=Symbol.for("react.fragment"),Gw=Symbol.for("react.strict_mode"),qw=Symbol.for("react.profiler"),Jw=Symbol.for("react.provider"),Qw=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Zw=Symbol.for("react.memo"),ex=Symbol.for("react.lazy"),mh=Symbol.iterator;function tx(e){return e===null||typeof e!="object"?null:(e=mh&&e[mh]||e["@@iterator"],typeof e=="function"?e:null)}var _m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},km=Object.assign,Sm={};function ds(e,t,n){this.props=e,this.context=t,this.refs=Sm,this.updater=n||_m}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Em(){}Em.prototype=ds.prototype;function Tc(e,t,n){this.props=e,this.context=t,this.refs=Sm,this.updater=n||_m}var jc=Tc.prototype=new Em;jc.constructor=Tc;km(jc,ds.prototype);jc.isPureReactComponent=!0;var gh=Array.isArray,Tm=Object.prototype.hasOwnProperty,Cc={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function Cm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Tm.call(t,r)&&!jm.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ai,type:e,key:i,ref:o,props:s,_owner:Cc.current}}function nx(e,t){return{$$typeof:Ai,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ai}function rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yh=/\/+/g;function Ja(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rx(""+e.key):t.toString(36)}function So(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ai:case Hw:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ja(o,0):r,gh(s)?(n="",e!=null&&(n=e.replace(yh,"$&/")+"/"),So(s,t,n,"",function(u){return u})):s!=null&&(Pc(s)&&(s=nx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",gh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Ja(i,a);o+=So(i,t,n,l,s)}else if(l=tx(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Ja(i,a++),o+=So(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Hi(e,t,n){if(e==null)return e;var r=[],s=0;return So(e,r,"","",function(i){return t.call(n,i,s++)}),r}function sx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},Eo={transition:null},ix={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:Eo,ReactCurrentOwner:Cc};function Pm(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Hi,forEach:function(e,t,n){Hi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hi(e,function(){t++}),t},toArray:function(e){return Hi(e,function(t){return t})||[]},only:function(e){if(!Pc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=ds;H.Fragment=Kw;H.Profiler=qw;H.PureComponent=Tc;H.StrictMode=Gw;H.Suspense=Xw;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;H.act=Pm;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=km({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Cc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Tm.call(t,l)&&!jm.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ai,type:e.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:Qw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jw,_context:e},e.Consumer=e};H.createElement=Cm;H.createFactory=function(e){var t=Cm.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Yw,render:e}};H.isValidElement=Pc;H.lazy=function(e){return{$$typeof:ex,_payload:{_status:-1,_result:e},_init:sx}};H.memo=function(e,t){return{$$typeof:Zw,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Eo.transition;Eo.transition={};try{e()}finally{Eo.transition=t}};H.unstable_act=Pm;H.useCallback=function(e,t){return He.current.useCallback(e,t)};H.useContext=function(e){return He.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return He.current.useDeferredValue(e)};H.useEffect=function(e,t){return He.current.useEffect(e,t)};H.useId=function(){return He.current.useId()};H.useImperativeHandle=function(e,t,n){return He.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return He.current.useMemo(e,t)};H.useReducer=function(e,t,n){return He.current.useReducer(e,t,n)};H.useRef=function(e){return He.current.useRef(e)};H.useState=function(e){return He.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return He.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return He.current.useTransition()};H.version="18.3.1";bm.exports=H;var E=bm.exports;const ox=Fw(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax=E,lx=Symbol.for("react.element"),ux=Symbol.for("react.fragment"),cx=Object.prototype.hasOwnProperty,dx=ax.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hx={key:!0,ref:!0,__self:!0,__source:!0};function Am(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)cx.call(t,r)&&!hx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:lx,type:e,key:i,ref:o,props:s,_owner:dx.current}}Ea.Fragment=ux;Ea.jsx=Am;Ea.jsxs=Am;xm.exports=Ea;var f=xm.exports,Ql={},Rm={exports:{}},ht={},Om={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var $=T.length;T.push(M);e:for(;0<$;){var J=$-1>>>1,se=T[J];if(0<s(se,M))T[J]=M,T[$]=se,$=J;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var M=T[0],$=T.pop();if($!==M){T[0]=$;e:for(var J=0,se=T.length,X=se>>>1;J<X;){var Q=2*(J+1)-1,rt=T[Q],Ge=Q+1,B=T[Ge];if(0>s(rt,$))Ge<se&&0>s(B,rt)?(T[J]=B,T[Ge]=$,J=Ge):(T[J]=rt,T[Q]=$,J=Q);else if(Ge<se&&0>s(B,$))T[J]=B,T[Ge]=$,J=Ge;else break e}}return M}function s(T,M){var $=T.sortIndex-M.sortIndex;return $!==0?$:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=T)r(u),M.sortIndex=M.expirationTime,t(l,M);else break;M=n(u)}}function b(T){if(w=!1,g(T),!v)if(n(l)!==null)v=!0,Se(_);else{var M=n(u);M!==null&&G(b,M.startTime-T)}}function _(T,M){v=!1,w&&(w=!1,y(k),k=-1),p=!0;var $=h;try{for(g(M),d=n(l);d!==null&&(!(d.expirationTime>M)||T&&!K());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var se=J(d.expirationTime<=M);M=e.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),g(M)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var Q=n(u);Q!==null&&G(b,Q.startTime-M),X=!1}return X}finally{d=null,h=$,p=!1}}var S=!1,j=null,k=-1,A=5,D=-1;function K(){return!(e.unstable_now()-D<A)}function je(){if(j!==null){var T=e.unstable_now();D=T;var M=!0;try{M=j(!0,T)}finally{M?Ne():(S=!1,j=null)}}else S=!1}var Ne;if(typeof m=="function")Ne=function(){m(je)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ie=Ue.port2;Ue.port1.onmessage=je,Ne=function(){Ie.postMessage(null)}}else Ne=function(){x(je,0)};function Se(T){j=T,S||(S=!0,Ne())}function G(T,M){k=x(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,Se(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return T()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var $=h;h=T;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(T,M,$){var J=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,T){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=$+se,T={id:c++,callback:M,priorityLevel:T,startTime:$,expirationTime:se,sortIndex:-1},$>J?(T.sortIndex=$,t(u,T),n(l)===null&&T===n(u)&&(w?(y(k),k=-1):w=!0,G(b,$-J))):(T.sortIndex=se,t(l,T),v||p||(v=!0,Se(_))),T},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(T){var M=h;return function(){var $=h;h=M;try{return T.apply(this,arguments)}finally{h=$}}}})(Nm);Om.exports=Nm;var fx=Om.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=E,dt=fx;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Im=new Set,ni={};function mr(e,t){ts(e,t),ts(e+"Capture",t)}function ts(e,t){for(ni[e]=t,e=0;e<t.length;e++)Im.add(t[e])}var Xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=Object.prototype.hasOwnProperty,mx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vh={},wh={};function gx(e){return Yl.call(wh,e)?!0:Yl.call(vh,e)?!1:mx.test(e)?wh[e]=!0:(vh[e]=!0,!1)}function yx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vx(e,t,n,r){if(t===null||typeof t>"u"||yx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ac=/[\-:]([a-z])/g;function Rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ac,Rc);Oe[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ac,Rc);Oe[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ac,Rc);Oe[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function Oc(e,t,n,r){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vx(t,n,s,r)&&(n=null),r||s===null?gx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var sn=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ki=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Rr=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),Xl=Symbol.for("react.profiler"),Dm=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),Ic=Symbol.for("react.forward_ref"),Zl=Symbol.for("react.suspense"),eu=Symbol.for("react.suspense_list"),Dc=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Mm=Symbol.for("react.offscreen"),xh=Symbol.iterator;function Ss(e){return e===null||typeof e!="object"?null:(e=xh&&e[xh]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,Qa;function Is(e){if(Qa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qa=t&&t[1]||""}return`
`+Qa+e}var Ya=!1;function Xa(e,t){if(!e||Ya)return"";Ya=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ya=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Is(e):""}function wx(e){switch(e.tag){case 5:return Is(e.type);case 16:return Is("Lazy");case 13:return Is("Suspense");case 19:return Is("SuspenseList");case 0:case 2:case 15:return e=Xa(e.type,!1),e;case 11:return e=Xa(e.type.render,!1),e;case 1:return e=Xa(e.type,!0),e;default:return""}}function tu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rr:return"Fragment";case Ar:return"Portal";case Xl:return"Profiler";case Nc:return"StrictMode";case Zl:return"Suspense";case eu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lm:return(e.displayName||"Context")+".Consumer";case Dm:return(e._context.displayName||"Context")+".Provider";case Ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Dc:return t=e.displayName||null,t!==null?t:tu(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return tu(e(t))}catch{}}return null}function xx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tu(t);case 8:return t===Nc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function An(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $m(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bx(e){var t=$m(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=bx(e))}function Vm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$m(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nu(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=An(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Um(e,t){t=t.checked,t!=null&&Oc(e,"checked",t,!1)}function ru(e,t){Um(e,t);var n=An(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?su(e,t.type,n):t.hasOwnProperty("defaultValue")&&su(e,t.type,An(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _h(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function su(e,t,n){(t!=="number"||zo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ds=Array.isArray;function Gr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+An(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function iu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Ds(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:An(n)}}function zm(e,t){var n=An(t.value),r=An(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qi,Fm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qi=qi||document.createElement("div"),qi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ri(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_x=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(e){_x.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Us[t]=Us[e]})});function Wm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Us.hasOwnProperty(e)&&Us[e]?(""+t).trim():t+"px"}function Hm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Wm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var kx=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function au(e,t){if(t){if(kx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function lu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cu=null,qr=null,Jr=null;function Eh(e){if(e=Ni(e)){if(typeof cu!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Aa(t),cu(e.stateNode,e.type,t))}}function Km(e){qr?Jr?Jr.push(e):Jr=[e]:qr=e}function Gm(){if(qr){var e=qr,t=Jr;if(Jr=qr=null,Eh(e),t)for(e=0;e<t.length;e++)Eh(t[e])}}function qm(e,t){return e(t)}function Jm(){}var Za=!1;function Qm(e,t,n){if(Za)return e(t,n);Za=!0;try{return qm(e,t,n)}finally{Za=!1,(qr!==null||Jr!==null)&&(Jm(),Gm())}}function si(e,t){var n=e.stateNode;if(n===null)return null;var r=Aa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var du=!1;if(Xt)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){du=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{du=!1}function Sx(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var zs=!1,Bo=null,Fo=!1,hu=null,Ex={onError:function(e){zs=!0,Bo=e}};function Tx(e,t,n,r,s,i,o,a,l){zs=!1,Bo=null,Sx.apply(Ex,arguments)}function jx(e,t,n,r,s,i,o,a,l){if(Tx.apply(this,arguments),zs){if(zs){var u=Bo;zs=!1,Bo=null}else throw Error(P(198));Fo||(Fo=!0,hu=u)}}function gr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ym(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Th(e){if(gr(e)!==e)throw Error(P(188))}function Cx(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Th(s),e;if(i===r)return Th(s),t;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function Xm(e){return e=Cx(e),e!==null?Zm(e):null}function Zm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zm(e);if(t!==null)return t;e=e.sibling}return null}var eg=dt.unstable_scheduleCallback,jh=dt.unstable_cancelCallback,Px=dt.unstable_shouldYield,Ax=dt.unstable_requestPaint,me=dt.unstable_now,Rx=dt.unstable_getCurrentPriorityLevel,Mc=dt.unstable_ImmediatePriority,tg=dt.unstable_UserBlockingPriority,Wo=dt.unstable_NormalPriority,Ox=dt.unstable_LowPriority,ng=dt.unstable_IdlePriority,Ta=null,Vt=null;function Nx(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Ta,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Lx,Ix=Math.log,Dx=Math.LN2;function Lx(e){return e>>>=0,e===0?32:31-(Ix(e)/Dx|0)|0}var Ji=64,Qi=4194304;function Ls(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ho(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ls(a):(i&=o,i!==0&&(r=Ls(i)))}else o=n&~s,o!==0?r=Ls(o):i!==0&&(r=Ls(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Nt(t),s=1<<n,r|=e[n],t&=~s;return r}function Mx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $x(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Nt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Mx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function fu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rg(){var e=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),e}function el(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ri(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Vx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Nt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function $c(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Nt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Y=0;function sg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ig,Vc,og,ag,lg,pu=!1,Yi=[],_n=null,kn=null,Sn=null,ii=new Map,oi=new Map,gn=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ch(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":ii.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oi.delete(t.pointerId)}}function Ts(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ni(t),t!==null&&Vc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function zx(e,t,n,r,s){switch(t){case"focusin":return _n=Ts(_n,e,t,n,r,s),!0;case"dragenter":return kn=Ts(kn,e,t,n,r,s),!0;case"mouseover":return Sn=Ts(Sn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ii.set(i,Ts(ii.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oi.set(i,Ts(oi.get(i)||null,e,t,n,r,s)),!0}return!1}function ug(e){var t=Zn(e.target);if(t!==null){var n=gr(t);if(n!==null){if(t=n.tag,t===13){if(t=Ym(n),t!==null){e.blockedOn=t,lg(e.priority,function(){og(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function To(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uu=r,n.target.dispatchEvent(r),uu=null}else return t=Ni(n),t!==null&&Vc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ph(e,t,n){To(e)&&n.delete(t)}function Bx(){pu=!1,_n!==null&&To(_n)&&(_n=null),kn!==null&&To(kn)&&(kn=null),Sn!==null&&To(Sn)&&(Sn=null),ii.forEach(Ph),oi.forEach(Ph)}function js(e,t){e.blockedOn===t&&(e.blockedOn=null,pu||(pu=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Bx)))}function ai(e){function t(s){return js(s,e)}if(0<Yi.length){js(Yi[0],e);for(var n=1;n<Yi.length;n++){var r=Yi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&js(_n,e),kn!==null&&js(kn,e),Sn!==null&&js(Sn,e),ii.forEach(t),oi.forEach(t),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)ug(n),n.blockedOn===null&&gn.shift()}var Qr=sn.ReactCurrentBatchConfig,Ko=!0;function Fx(e,t,n,r){var s=Y,i=Qr.transition;Qr.transition=null;try{Y=1,Uc(e,t,n,r)}finally{Y=s,Qr.transition=i}}function Wx(e,t,n,r){var s=Y,i=Qr.transition;Qr.transition=null;try{Y=4,Uc(e,t,n,r)}finally{Y=s,Qr.transition=i}}function Uc(e,t,n,r){if(Ko){var s=mu(e,t,n,r);if(s===null)cl(e,t,r,Go,n),Ch(e,r);else if(zx(s,e,t,n,r))r.stopPropagation();else if(Ch(e,r),t&4&&-1<Ux.indexOf(e)){for(;s!==null;){var i=Ni(s);if(i!==null&&ig(i),i=mu(e,t,n,r),i===null&&cl(e,t,r,Go,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else cl(e,t,r,null,n)}}var Go=null;function mu(e,t,n,r){if(Go=null,e=Lc(r),e=Zn(e),e!==null)if(t=gr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ym(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Go=e,null}function cg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rx()){case Mc:return 1;case tg:return 4;case Wo:case Ox:return 16;case ng:return 536870912;default:return 16}default:return 16}}var xn=null,zc=null,jo=null;function dg(){if(jo)return jo;var e,t=zc,n=t.length,r,s="value"in xn?xn.value:xn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return jo=s.slice(e,1<r?1-r:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function Ah(){return!1}function ft(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xi:Ah,this.isPropagationStopped=Ah,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),t}var hs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bc=ft(hs),Oi=de({},hs,{view:0,detail:0}),Hx=ft(Oi),tl,nl,Cs,ja=de({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(tl=e.screenX-Cs.screenX,nl=e.screenY-Cs.screenY):nl=tl=0,Cs=e),tl)},movementY:function(e){return"movementY"in e?e.movementY:nl}}),Rh=ft(ja),Kx=de({},ja,{dataTransfer:0}),Gx=ft(Kx),qx=de({},Oi,{relatedTarget:0}),rl=ft(qx),Jx=de({},hs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qx=ft(Jx),Yx=de({},hs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xx=ft(Yx),Zx=de({},hs,{data:0}),Oh=ft(Zx),eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nb[e])?!!t[e]:!1}function Fc(){return rb}var sb=de({},Oi,{key:function(e){if(e.key){var t=eb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ib=ft(sb),ob=de({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=ft(ob),ab=de({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),lb=ft(ab),ub=de({},hs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cb=ft(ub),db=de({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hb=ft(db),fb=[9,13,27,32],Wc=Xt&&"CompositionEvent"in window,Bs=null;Xt&&"documentMode"in document&&(Bs=document.documentMode);var pb=Xt&&"TextEvent"in window&&!Bs,hg=Xt&&(!Wc||Bs&&8<Bs&&11>=Bs),Ih=" ",Dh=!1;function fg(e,t){switch(e){case"keyup":return fb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function mb(e,t){switch(e){case"compositionend":return pg(t);case"keypress":return t.which!==32?null:(Dh=!0,Ih);case"textInput":return e=t.data,e===Ih&&Dh?null:e;default:return null}}function gb(e,t){if(Or)return e==="compositionend"||!Wc&&fg(e,t)?(e=dg(),jo=zc=xn=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hg&&t.locale!=="ko"?null:t.data;default:return null}}var yb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yb[e.type]:t==="textarea"}function mg(e,t,n,r){Km(r),t=qo(t,"onChange"),0<t.length&&(n=new Bc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fs=null,li=null;function vb(e){Tg(e,0)}function Ca(e){var t=Dr(e);if(Vm(t))return e}function wb(e,t){if(e==="change")return t}var gg=!1;if(Xt){var sl;if(Xt){var il="oninput"in document;if(!il){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),il=typeof Mh.oninput=="function"}sl=il}else sl=!1;gg=sl&&(!document.documentMode||9<document.documentMode)}function $h(){Fs&&(Fs.detachEvent("onpropertychange",yg),li=Fs=null)}function yg(e){if(e.propertyName==="value"&&Ca(li)){var t=[];mg(t,li,e,Lc(e)),Qm(vb,t)}}function xb(e,t,n){e==="focusin"?($h(),Fs=t,li=n,Fs.attachEvent("onpropertychange",yg)):e==="focusout"&&$h()}function bb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ca(li)}function _b(e,t){if(e==="click")return Ca(t)}function kb(e,t){if(e==="input"||e==="change")return Ca(t)}function Sb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Sb;function ui(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yl.call(t,s)||!Dt(e[s],t[s]))return!1}return!0}function Vh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var n=Vh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vh(n)}}function vg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wg(){for(var e=window,t=zo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zo(e.document)}return t}function Hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Eb(e){var t=wg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&vg(n.ownerDocument.documentElement,n)){if(r!==null&&Hc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Uh(n,i);var o=Uh(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tb=Xt&&"documentMode"in document&&11>=document.documentMode,Nr=null,gu=null,Ws=null,yu=!1;function zh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yu||Nr==null||Nr!==zo(r)||(r=Nr,"selectionStart"in r&&Hc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ws&&ui(Ws,r)||(Ws=r,r=qo(gu,"onSelect"),0<r.length&&(t=new Bc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function Zi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},ol={},xg={};Xt&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Pa(e){if(ol[e])return ol[e];if(!Ir[e])return e;var t=Ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xg)return ol[e]=t[n];return e}var bg=Pa("animationend"),_g=Pa("animationiteration"),kg=Pa("animationstart"),Sg=Pa("transitionend"),Eg=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function In(e,t){Eg.set(e,t),mr(t,[e])}for(var al=0;al<Bh.length;al++){var ll=Bh[al],jb=ll.toLowerCase(),Cb=ll[0].toUpperCase()+ll.slice(1);In(jb,"on"+Cb)}In(bg,"onAnimationEnd");In(_g,"onAnimationIteration");In(kg,"onAnimationStart");In("dblclick","onDoubleClick");In("focusin","onFocus");In("focusout","onBlur");In(Sg,"onTransitionEnd");ts("onMouseEnter",["mouseout","mouseover"]);ts("onMouseLeave",["mouseout","mouseover"]);ts("onPointerEnter",["pointerout","pointerover"]);ts("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function Fh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jx(r,t,void 0,e),e.currentTarget=null}function Tg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Fh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Fh(s,a,u),i=l}}}if(Fo)throw e=hu,Fo=!1,hu=null,e}function ne(e,t){var n=t[_u];n===void 0&&(n=t[_u]=new Set);var r=e+"__bubble";n.has(r)||(jg(t,e,2,!1),n.add(r))}function ul(e,t,n){var r=0;t&&(r|=4),jg(n,e,r,t)}var eo="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[eo]){e[eo]=!0,Im.forEach(function(n){n!=="selectionchange"&&(Pb.has(n)||ul(n,!1,e),ul(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eo]||(t[eo]=!0,ul("selectionchange",!1,t))}}function jg(e,t,n,r){switch(cg(t)){case 1:var s=Fx;break;case 4:s=Wx;break;default:s=Uc}n=s.bind(null,t,n,e),s=void 0,!du||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function cl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Zn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Qm(function(){var u=i,c=Lc(n),d=[];e:{var h=Eg.get(e);if(h!==void 0){var p=Bc,v=e;switch(e){case"keypress":if(Co(n)===0)break e;case"keydown":case"keyup":p=ib;break;case"focusin":v="focus",p=rl;break;case"focusout":v="blur",p=rl;break;case"beforeblur":case"afterblur":p=rl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lb;break;case bg:case _g:case kg:p=Qx;break;case Sg:p=cb;break;case"scroll":p=Hx;break;case"wheel":p=hb;break;case"copy":case"cut":case"paste":p=Xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Nh}var w=(t&4)!==0,x=!w&&e==="scroll",y=w?h!==null?h+"Capture":null:h;w=[];for(var m=u,g;m!==null;){g=m;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,y!==null&&(b=si(m,y),b!=null&&w.push(di(m,b,g)))),x)break;m=m.return}0<w.length&&(h=new p(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==uu&&(v=n.relatedTarget||n.fromElement)&&(Zn(v)||v[Zt]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?Zn(v):null,v!==null&&(x=gr(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(w=Rh,b="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Nh,b="onPointerLeave",y="onPointerEnter",m="pointer"),x=p==null?h:Dr(p),g=v==null?h:Dr(v),h=new w(b,m+"leave",p,n,c),h.target=x,h.relatedTarget=g,b=null,Zn(c)===u&&(w=new w(y,m+"enter",v,n,c),w.target=g,w.relatedTarget=x,b=w),x=b,p&&v)t:{for(w=p,y=v,m=0,g=w;g;g=wr(g))m++;for(g=0,b=y;b;b=wr(b))g++;for(;0<m-g;)w=wr(w),m--;for(;0<g-m;)y=wr(y),g--;for(;m--;){if(w===y||y!==null&&w===y.alternate)break t;w=wr(w),y=wr(y)}w=null}else w=null;p!==null&&Wh(d,h,p,w,!1),v!==null&&x!==null&&Wh(d,x,v,w,!0)}}e:{if(h=u?Dr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=wb;else if(Lh(h))if(gg)_=kb;else{_=bb;var S=xb}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=_b);if(_&&(_=_(e,u))){mg(d,_,n,c);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&su(h,"number",h.value)}switch(S=u?Dr(u):window,e){case"focusin":(Lh(S)||S.contentEditable==="true")&&(Nr=S,gu=u,Ws=null);break;case"focusout":Ws=gu=Nr=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,zh(d,n,c);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":zh(d,n,c)}var j;if(Wc)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Or?fg(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(hg&&n.locale!=="ko"&&(Or||k!=="onCompositionStart"?k==="onCompositionEnd"&&Or&&(j=dg()):(xn=c,zc="value"in xn?xn.value:xn.textContent,Or=!0)),S=qo(u,k),0<S.length&&(k=new Oh(k,e,null,n,c),d.push({event:k,listeners:S}),j?k.data=j:(j=pg(n),j!==null&&(k.data=j)))),(j=pb?mb(e,n):gb(e,n))&&(u=qo(u,"onBeforeInput"),0<u.length&&(c=new Oh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=j))}Tg(d,t)})}function di(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qo(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=si(e,n),i!=null&&r.unshift(di(e,i,s)),i=si(e,t),i!=null&&r.push(di(e,i,s))),e=e.return}return r}function wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wh(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=si(n,i),l!=null&&o.unshift(di(n,l,a))):s||(l=si(n,i),l!=null&&o.push(di(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ab=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function Hh(e){return(typeof e=="string"?e:""+e).replace(Ab,`
`).replace(Rb,"")}function to(e,t,n){if(t=Hh(t),Hh(e)!==t&&n)throw Error(P(425))}function Jo(){}var vu=null,wu=null;function xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bu=typeof setTimeout=="function"?setTimeout:void 0,Ob=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,Nb=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(e){return Kh.resolve(null).then(e).catch(Ib)}:bu;function Ib(e){setTimeout(function(){throw e})}function dl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ai(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fs=Math.random().toString(36).slice(2),$t="__reactFiber$"+fs,hi="__reactProps$"+fs,Zt="__reactContainer$"+fs,_u="__reactEvents$"+fs,Db="__reactListeners$"+fs,Lb="__reactHandles$"+fs;function Zn(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gh(e);e!==null;){if(n=e[$t])return n;e=Gh(e)}return t}e=n,n=e.parentNode}return null}function Ni(e){return e=e[$t]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Aa(e){return e[hi]||null}var ku=[],Lr=-1;function Dn(e){return{current:e}}function re(e){0>Lr||(e.current=ku[Lr],ku[Lr]=null,Lr--)}function te(e,t){Lr++,ku[Lr]=e.current,e.current=t}var Rn={},Ve=Dn(Rn),et=Dn(!1),cr=Rn;function ns(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tt(e){return e=e.childContextTypes,e!=null}function Qo(){re(et),re(Ve)}function qh(e,t,n){if(Ve.current!==Rn)throw Error(P(168));te(Ve,t),te(et,n)}function Cg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,xx(e)||"Unknown",s));return de({},n,r)}function Yo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,cr=Ve.current,te(Ve,e),te(et,et.current),!0}function Jh(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Cg(e,t,cr),r.__reactInternalMemoizedMergedChildContext=e,re(et),re(Ve),te(Ve,e)):re(et),te(et,n)}var qt=null,Ra=!1,hl=!1;function Pg(e){qt===null?qt=[e]:qt.push(e)}function Mb(e){Ra=!0,Pg(e)}function Ln(){if(!hl&&qt!==null){hl=!0;var e=0,t=Y;try{var n=qt;for(Y=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,Ra=!1}catch(s){throw qt!==null&&(qt=qt.slice(e+1)),eg(Mc,Ln),s}finally{Y=t,hl=!1}}return null}var Mr=[],$r=0,Xo=null,Zo=0,yt=[],vt=0,dr=null,Jt=1,Qt="";function Kn(e,t){Mr[$r++]=Zo,Mr[$r++]=Xo,Xo=e,Zo=t}function Ag(e,t,n){yt[vt++]=Jt,yt[vt++]=Qt,yt[vt++]=dr,dr=e;var r=Jt;e=Qt;var s=32-Nt(r)-1;r&=~(1<<s),n+=1;var i=32-Nt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jt=1<<32-Nt(t)+s|n<<s|r,Qt=i+e}else Jt=1<<i|n<<s|r,Qt=e}function Kc(e){e.return!==null&&(Kn(e,1),Ag(e,1,0))}function Gc(e){for(;e===Xo;)Xo=Mr[--$r],Mr[$r]=null,Zo=Mr[--$r],Mr[$r]=null;for(;e===dr;)dr=yt[--vt],yt[vt]=null,Qt=yt[--vt],yt[vt]=null,Jt=yt[--vt],yt[vt]=null}var ct=null,ut=null,ie=!1,Ot=null;function Rg(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Qh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,ut=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dr!==null?{id:Jt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,ut=null,!0):!1;default:return!1}}function Su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eu(e){if(ie){var t=ut;if(t){var n=t;if(!Qh(e,t)){if(Su(e))throw Error(P(418));t=En(n.nextSibling);var r=ct;t&&Qh(e,t)?Rg(r,n):(e.flags=e.flags&-4097|2,ie=!1,ct=e)}}else{if(Su(e))throw Error(P(418));e.flags=e.flags&-4097|2,ie=!1,ct=e}}}function Yh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function no(e){if(e!==ct)return!1;if(!ie)return Yh(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xu(e.type,e.memoizedProps)),t&&(t=ut)){if(Su(e))throw Og(),Error(P(418));for(;t;)Rg(e,t),t=En(t.nextSibling)}if(Yh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=En(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=ct?En(e.stateNode.nextSibling):null;return!0}function Og(){for(var e=ut;e;)e=En(e.nextSibling)}function rs(){ut=ct=null,ie=!1}function qc(e){Ot===null?Ot=[e]:Ot.push(e)}var $b=sn.ReactCurrentBatchConfig;function Ps(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ro(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xh(e){var t=e._init;return t(e._payload)}function Ng(e){function t(y,m){if(e){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Pn(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,g,b){return m===null||m.tag!==6?(m=wl(g,y.mode,b),m.return=y,m):(m=s(m,g),m.return=y,m)}function l(y,m,g,b){var _=g.type;return _===Rr?c(y,m,g.props.children,b,g.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pn&&Xh(_)===m.type)?(b=s(m,g.props),b.ref=Ps(y,m,g),b.return=y,b):(b=Do(g.type,g.key,g.props,null,y.mode,b),b.ref=Ps(y,m,g),b.return=y,b)}function u(y,m,g,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=xl(g,y.mode,b),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function c(y,m,g,b,_){return m===null||m.tag!==7?(m=ar(g,y.mode,b,_),m.return=y,m):(m=s(m,g),m.return=y,m)}function d(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wl(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ki:return g=Do(m.type,m.key,m.props,null,y.mode,g),g.ref=Ps(y,null,m),g.return=y,g;case Ar:return m=xl(m,y.mode,g),m.return=y,m;case pn:var b=m._init;return d(y,b(m._payload),g)}if(Ds(m)||Ss(m))return m=ar(m,y.mode,g,null),m.return=y,m;ro(y,m)}return null}function h(y,m,g,b){var _=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(y,m,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ki:return g.key===_?l(y,m,g,b):null;case Ar:return g.key===_?u(y,m,g,b):null;case pn:return _=g._init,h(y,m,_(g._payload),b)}if(Ds(g)||Ss(g))return _!==null?null:c(y,m,g,b,null);ro(y,g)}return null}function p(y,m,g,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(g)||null,a(m,y,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ki:return y=y.get(b.key===null?g:b.key)||null,l(m,y,b,_);case Ar:return y=y.get(b.key===null?g:b.key)||null,u(m,y,b,_);case pn:var S=b._init;return p(y,m,g,S(b._payload),_)}if(Ds(b)||Ss(b))return y=y.get(g)||null,c(m,y,b,_,null);ro(m,b)}return null}function v(y,m,g,b){for(var _=null,S=null,j=m,k=m=0,A=null;j!==null&&k<g.length;k++){j.index>k?(A=j,j=null):A=j.sibling;var D=h(y,j,g[k],b);if(D===null){j===null&&(j=A);break}e&&j&&D.alternate===null&&t(y,j),m=i(D,m,k),S===null?_=D:S.sibling=D,S=D,j=A}if(k===g.length)return n(y,j),ie&&Kn(y,k),_;if(j===null){for(;k<g.length;k++)j=d(y,g[k],b),j!==null&&(m=i(j,m,k),S===null?_=j:S.sibling=j,S=j);return ie&&Kn(y,k),_}for(j=r(y,j);k<g.length;k++)A=p(j,y,k,g[k],b),A!==null&&(e&&A.alternate!==null&&j.delete(A.key===null?k:A.key),m=i(A,m,k),S===null?_=A:S.sibling=A,S=A);return e&&j.forEach(function(K){return t(y,K)}),ie&&Kn(y,k),_}function w(y,m,g,b){var _=Ss(g);if(typeof _!="function")throw Error(P(150));if(g=_.call(g),g==null)throw Error(P(151));for(var S=_=null,j=m,k=m=0,A=null,D=g.next();j!==null&&!D.done;k++,D=g.next()){j.index>k?(A=j,j=null):A=j.sibling;var K=h(y,j,D.value,b);if(K===null){j===null&&(j=A);break}e&&j&&K.alternate===null&&t(y,j),m=i(K,m,k),S===null?_=K:S.sibling=K,S=K,j=A}if(D.done)return n(y,j),ie&&Kn(y,k),_;if(j===null){for(;!D.done;k++,D=g.next())D=d(y,D.value,b),D!==null&&(m=i(D,m,k),S===null?_=D:S.sibling=D,S=D);return ie&&Kn(y,k),_}for(j=r(y,j);!D.done;k++,D=g.next())D=p(j,y,k,D.value,b),D!==null&&(e&&D.alternate!==null&&j.delete(D.key===null?k:D.key),m=i(D,m,k),S===null?_=D:S.sibling=D,S=D);return e&&j.forEach(function(je){return t(y,je)}),ie&&Kn(y,k),_}function x(y,m,g,b){if(typeof g=="object"&&g!==null&&g.type===Rr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ki:e:{for(var _=g.key,S=m;S!==null;){if(S.key===_){if(_=g.type,_===Rr){if(S.tag===7){n(y,S.sibling),m=s(S,g.props.children),m.return=y,y=m;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===pn&&Xh(_)===S.type){n(y,S.sibling),m=s(S,g.props),m.ref=Ps(y,S,g),m.return=y,y=m;break e}n(y,S);break}else t(y,S);S=S.sibling}g.type===Rr?(m=ar(g.props.children,y.mode,b,g.key),m.return=y,y=m):(b=Do(g.type,g.key,g.props,null,y.mode,b),b.ref=Ps(y,m,g),b.return=y,y=b)}return o(y);case Ar:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=xl(g,y.mode,b),m.return=y,y=m}return o(y);case pn:return S=g._init,x(y,m,S(g._payload),b)}if(Ds(g))return v(y,m,g,b);if(Ss(g))return w(y,m,g,b);ro(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,g),m.return=y,y=m):(n(y,m),m=wl(g,y.mode,b),m.return=y,y=m),o(y)):n(y,m)}return x}var ss=Ng(!0),Ig=Ng(!1),ea=Dn(null),ta=null,Vr=null,Jc=null;function Qc(){Jc=Vr=ta=null}function Yc(e){var t=ea.current;re(ea),e._currentValue=t}function Tu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yr(e,t){ta=e,Jc=Vr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Jc!==e)if(e={context:e,memoizedValue:t,next:null},Vr===null){if(ta===null)throw Error(P(308));Vr=e,ta.dependencies={lanes:0,firstContext:e}}else Vr=Vr.next=e;return t}var er=null;function Xc(e){er===null?er=[e]:er.push(e)}function Dg(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xc(t)):(n.next=s.next,s.next=n),t.interleaved=n,en(e,r)}function en(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function Zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,en(e,n)}return s=r.interleaved,s===null?(t.next=t,Xc(r)):(t.next=s.next,s.next=t),r.interleaved=t,en(e,n)}function Po(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$c(e,n)}}function Zh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function na(e,t,n,r){var s=e.updateQueue;mn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,w=a;switch(h=t,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=de({},d,h);break e;case 2:mn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fr|=o,e.lanes=o,e.memoizedState=d}}function ef(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var Ii={},Ut=Dn(Ii),fi=Dn(Ii),pi=Dn(Ii);function tr(e){if(e===Ii)throw Error(P(174));return e}function ed(e,t){switch(te(pi,t),te(fi,e),te(Ut,Ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ou(t,e)}re(Ut),te(Ut,t)}function is(){re(Ut),re(fi),re(pi)}function Mg(e){tr(pi.current);var t=tr(Ut.current),n=ou(t,e.type);t!==n&&(te(fi,e),te(Ut,n))}function td(e){fi.current===e&&(re(Ut),re(fi))}var le=Dn(0);function ra(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fl=[];function nd(){for(var e=0;e<fl.length;e++)fl[e]._workInProgressVersionPrimary=null;fl.length=0}var Ao=sn.ReactCurrentDispatcher,pl=sn.ReactCurrentBatchConfig,hr=0,ce=null,_e=null,Ee=null,sa=!1,Hs=!1,mi=0,Vb=0;function De(){throw Error(P(321))}function rd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function sd(e,t,n,r,s,i){if(hr=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ao.current=e===null||e.memoizedState===null?Fb:Wb,e=n(r,s),Hs){i=0;do{if(Hs=!1,mi=0,25<=i)throw Error(P(301));i+=1,Ee=_e=null,t.updateQueue=null,Ao.current=Hb,e=n(r,s)}while(Hs)}if(Ao.current=ia,t=_e!==null&&_e.next!==null,hr=0,Ee=_e=ce=null,sa=!1,t)throw Error(P(300));return e}function id(){var e=mi!==0;return mi=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ce.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function St(){if(_e===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Ee===null?ce.memoizedState:Ee.next;if(t!==null)Ee=t,_e=e;else{if(e===null)throw Error(P(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Ee===null?ce.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function gi(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=St(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=_e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((hr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ce.lanes|=c,fr|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Dt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ce.lanes|=i,fr|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gl(e){var t=St(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Dt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $g(){}function Vg(e,t){var n=ce,r=St(),s=t(),i=!Dt(r.memoizedState,s);if(i&&(r.memoizedState=s,Xe=!0),r=r.queue,od(Bg.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,yi(9,zg.bind(null,n,r,s,t),void 0,null),Te===null)throw Error(P(349));hr&30||Ug(n,t,s)}return s}function Ug(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zg(e,t,n,r){t.value=n,t.getSnapshot=r,Fg(t)&&Wg(e)}function Bg(e,t,n){return n(function(){Fg(t)&&Wg(e)})}function Fg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Wg(e){var t=en(e,1);t!==null&&It(t,e,1,-1)}function tf(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:e},t.queue=e,e=e.dispatch=Bb.bind(null,ce,e),[t.memoizedState,e]}function yi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Hg(){return St().memoizedState}function Ro(e,t,n,r){var s=Mt();ce.flags|=e,s.memoizedState=yi(1|t,n,void 0,r===void 0?null:r)}function Oa(e,t,n,r){var s=St();r=r===void 0?null:r;var i=void 0;if(_e!==null){var o=_e.memoizedState;if(i=o.destroy,r!==null&&rd(r,o.deps)){s.memoizedState=yi(t,n,i,r);return}}ce.flags|=e,s.memoizedState=yi(1|t,n,i,r)}function nf(e,t){return Ro(8390656,8,e,t)}function od(e,t){return Oa(2048,8,e,t)}function Kg(e,t){return Oa(4,2,e,t)}function Gg(e,t){return Oa(4,4,e,t)}function qg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jg(e,t,n){return n=n!=null?n.concat([e]):null,Oa(4,4,qg.bind(null,t,e),n)}function ad(){}function Qg(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yg(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&rd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xg(e,t,n){return hr&21?(Dt(n,t)||(n=rg(),ce.lanes|=n,fr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function Ub(e,t){var n=Y;Y=n!==0&&4>n?n:4,e(!0);var r=pl.transition;pl.transition={};try{e(!1),t()}finally{Y=n,pl.transition=r}}function Zg(){return St().memoizedState}function zb(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ey(e))ty(t,n);else if(n=Dg(e,t,n,r),n!==null){var s=We();It(n,e,r,s),ny(n,t,r)}}function Bb(e,t,n){var r=Cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ey(e))ty(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Dt(a,o)){var l=t.interleaved;l===null?(s.next=s,Xc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Dg(e,t,s,r),n!==null&&(s=We(),It(n,e,r,s),ny(n,t,r))}}function ey(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function ty(e,t){Hs=sa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ny(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$c(e,n)}}var ia={readContext:kt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Fb={readContext:kt,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:nf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ro(4194308,4,qg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ro(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zb.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:tf,useDebugValue:ad,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=tf(!1),t=e[0];return e=Ub.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,s=Mt();if(ie){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),Te===null)throw Error(P(349));hr&30||Ug(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,nf(Bg.bind(null,r,i,e),[e]),r.flags|=2048,yi(9,zg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Te.identifierPrefix;if(ie){var n=Qt,r=Jt;n=(r&~(1<<32-Nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Wb={readContext:kt,useCallback:Qg,useContext:kt,useEffect:od,useImperativeHandle:Jg,useInsertionEffect:Kg,useLayoutEffect:Gg,useMemo:Yg,useReducer:ml,useRef:Hg,useState:function(){return ml(gi)},useDebugValue:ad,useDeferredValue:function(e){var t=St();return Xg(t,_e.memoizedState,e)},useTransition:function(){var e=ml(gi)[0],t=St().memoizedState;return[e,t]},useMutableSource:$g,useSyncExternalStore:Vg,useId:Zg,unstable_isNewReconciler:!1},Hb={readContext:kt,useCallback:Qg,useContext:kt,useEffect:od,useImperativeHandle:Jg,useInsertionEffect:Kg,useLayoutEffect:Gg,useMemo:Yg,useReducer:gl,useRef:Hg,useState:function(){return gl(gi)},useDebugValue:ad,useDeferredValue:function(e){var t=St();return _e===null?t.memoizedState=e:Xg(t,_e.memoizedState,e)},useTransition:function(){var e=gl(gi)[0],t=St().memoizedState;return[e,t]},useMutableSource:$g,useSyncExternalStore:Vg,useId:Zg,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ju(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Na={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),s=Cn(e),i=Yt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Tn(e,i,s),t!==null&&(It(t,e,s,r),Po(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),s=Cn(e),i=Yt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Tn(e,i,s),t!==null&&(It(t,e,s,r),Po(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=Cn(e),s=Yt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Tn(e,s,r),t!==null&&(It(t,e,r,n),Po(t,e,r))}};function rf(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ui(n,r)||!ui(s,i):!0}function ry(e,t,n){var r=!1,s=Rn,i=t.contextType;return typeof i=="object"&&i!==null?i=kt(i):(s=tt(t)?cr:Ve.current,r=t.contextTypes,i=(r=r!=null)?ns(e,s):Rn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Na,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function sf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Na.enqueueReplaceState(t,t.state,null)}function Cu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=kt(i):(i=tt(t)?cr:Ve.current,s.context=ns(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ju(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Na.enqueueReplaceState(s,s.state,null),na(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,t){try{var n="",r=t;do n+=wx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function yl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Kb=typeof WeakMap=="function"?WeakMap:Map;function sy(e,t,n){n=Yt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){aa||(aa=!0,Vu=r),Pu(e,t)},n}function iy(e,t,n){n=Yt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Pu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pu(e,t),typeof r!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function of(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Kb;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=o1.bind(null,e,t,n),t.then(e,e))}function af(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lf(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yt(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e)}var Gb=sn.ReactCurrentOwner,Xe=!1;function ze(e,t,n,r){t.child=e===null?Ig(t,null,n,r):ss(t,e.child,n,r)}function uf(e,t,n,r,s){n=n.render;var i=t.ref;return Yr(t,s),r=sd(e,t,n,r,i,s),n=id(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tn(e,t,s)):(ie&&n&&Kc(t),t.flags|=1,ze(e,t,r,s),t.child)}function cf(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!md(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,oy(e,t,i,r,s)):(e=Do(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ui,n(o,r)&&e.ref===t.ref)return tn(e,t,s)}return t.flags|=1,e=Pn(i,r),e.ref=t.ref,e.return=t,t.child=e}function oy(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ui(i,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,tn(e,t,s)}return Au(e,t,n,r,s)}function ay(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(zr,ot),ot|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(zr,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(zr,ot),ot|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,te(zr,ot),ot|=r;return ze(e,t,s,n),t.child}function ly(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,n,r,s){var i=tt(n)?cr:Ve.current;return i=ns(t,i),Yr(t,s),n=sd(e,t,n,r,i,s),r=id(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,tn(e,t,s)):(ie&&r&&Kc(t),t.flags|=1,ze(e,t,n,s),t.child)}function df(e,t,n,r,s){if(tt(n)){var i=!0;Yo(t)}else i=!1;if(Yr(t,s),t.stateNode===null)Oo(e,t),ry(t,n,r),Cu(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=tt(n)?cr:Ve.current,u=ns(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sf(t,o,r,u),mn=!1;var h=t.memoizedState;o.state=h,na(t,r,o,s),l=t.memoizedState,a!==r||h!==l||et.current||mn?(typeof c=="function"&&(ju(t,n,c,r),l=t.memoizedState),(a=mn||rf(t,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Lg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ct(t.type,a),o.props=u,d=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=tt(n)?cr:Ve.current,l=ns(t,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&sf(t,o,r,l),mn=!1,h=t.memoizedState,o.state=h,na(t,r,o,s);var v=t.memoizedState;a!==d||h!==v||et.current||mn?(typeof p=="function"&&(ju(t,n,p,r),v=t.memoizedState),(u=mn||rf(t,n,u,r,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,i,s)}function Ru(e,t,n,r,s,i){ly(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Jh(t,n,!1),tn(e,t,i);r=t.stateNode,Gb.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ss(t,e.child,null,i),t.child=ss(t,null,a,i)):ze(e,t,a,i),t.memoizedState=r.state,s&&Jh(t,n,!0),t.child}function uy(e){var t=e.stateNode;t.pendingContext?qh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qh(e,t.context,!1),ed(e,t.containerInfo)}function hf(e,t,n,r,s){return rs(),qc(s),t.flags|=256,ze(e,t,n,r),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null,transitions:null}}function cy(e,t,n){var r=t.pendingProps,s=le.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),te(le,s&1),e===null)return Eu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=La(o,r,0,null),e=ar(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Nu(n),t.memoizedState=Ou,e):ld(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return qb(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Pn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Pn(a,i):(i=ar(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ou,r}return i=e.child,e=i.sibling,r=Pn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ld(e,t){return t=La({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function so(e,t,n,r){return r!==null&&qc(r),ss(t,e.child,null,n),e=ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=yl(Error(P(422))),so(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=La({mode:"visible",children:r.children},s,0,null),i=ar(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&ss(t,e.child,null,o),t.child.memoizedState=Nu(o),t.memoizedState=Ou,i);if(!(t.mode&1))return so(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=yl(i,r,void 0),so(e,t,o,r)}if(a=(o&e.childLanes)!==0,Xe||a){if(r=Te,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,en(e,s),It(r,e,s,-1))}return pd(),r=yl(Error(P(421))),so(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=a1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ut=En(s.nextSibling),ct=t,ie=!0,Ot=null,e!==null&&(yt[vt++]=Jt,yt[vt++]=Qt,yt[vt++]=dr,Jt=e.id,Qt=e.overflow,dr=t),t=ld(t,r.children),t.flags|=4096,t)}function ff(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Tu(e.return,t,n)}function vl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dy(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ze(e,t,r.children,n),r=le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ff(e,n,t);else if(e.tag===19)ff(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ra(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),vl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ra(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}vl(t,!0,n,null,i);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Pn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jb(e,t,n){switch(t.tag){case 3:uy(t),rs();break;case 5:Mg(t);break;case 1:tt(t.type)&&Yo(t);break;case 4:ed(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;te(ea,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),t.flags|=128,null):n&t.child.childLanes?cy(e,t,n):(te(le,le.current&1),e=tn(e,t,n),e!==null?e.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dy(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return t.lanes=0,ay(e,t,n)}return tn(e,t,n)}var hy,Iu,fy,py;hy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iu=function(){};fy=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,tr(Ut.current);var i=null;switch(n){case"input":s=nu(e,s),r=nu(e,r),i=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":s=iu(e,s),r=iu(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Jo)}au(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ni.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ni.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};py=function(e,t,n,r){n!==r&&(t.flags|=4)};function As(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qb(e,t,n){var r=t.pendingProps;switch(Gc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return tt(t.type)&&Qo(),Le(t),null;case 3:return r=t.stateNode,is(),re(et),re(Ve),nd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(no(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ot!==null&&(Bu(Ot),Ot=null))),Iu(e,t),Le(t),null;case 5:td(t);var s=tr(pi.current);if(n=t.type,e!==null&&t.stateNode!=null)fy(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Le(t),null}if(e=tr(Ut.current),no(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[$t]=t,r[hi]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<Ms.length;s++)ne(Ms[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":bh(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":kh(r,i),ne("invalid",r)}au(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&to(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&to(r.textContent,a,e),s=["children",""+a]):ni.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ne("scroll",r)}switch(n){case"input":Gi(r),_h(r,i,!0);break;case"textarea":Gi(r),Sh(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Jo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[$t]=t,e[hi]=r,hy(e,t,!1,!1),t.stateNode=e;e:{switch(o=lu(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ms.length;s++)ne(Ms[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":bh(e,r),s=nu(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),ne("invalid",e);break;case"textarea":kh(e,r),s=iu(e,r),ne("invalid",e);break;default:s=r}au(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Hm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fm(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ri(e,l):typeof l=="number"&&ri(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ni.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",e):l!=null&&Oc(e,i,l,o))}switch(n){case"input":Gi(e),_h(e,r,!1);break;case"textarea":Gi(e),Sh(e);break;case"option":r.value!=null&&e.setAttribute("value",""+An(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Gr(e,!!r.multiple,i,!1):r.defaultValue!=null&&Gr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)py(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=tr(pi.current),tr(Ut.current),no(t)){if(r=t.stateNode,n=t.memoizedProps,r[$t]=t,(i=r.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:to(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&to(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$t]=t,t.stateNode=r}return Le(t),null;case 13:if(re(le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&ut!==null&&t.mode&1&&!(t.flags&128))Og(),rs(),t.flags|=98560,i=!1;else if(i=no(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[$t]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else Ot!==null&&(Bu(Ot),Ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||le.current&1?ke===0&&(ke=3):pd())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return is(),Iu(e,t),e===null&&ci(t.stateNode.containerInfo),Le(t),null;case 10:return Yc(t.type._context),Le(t),null;case 17:return tt(t.type)&&Qo(),Le(t),null;case 19:if(re(le),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)As(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ra(e),o!==null){for(t.flags|=128,As(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(le,le.current&1|2),t.child}e=e.sibling}i.tail!==null&&me()>as&&(t.flags|=128,r=!0,As(i,!1),t.lanes=4194304)}else{if(!r)if(e=ra(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),As(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ie)return Le(t),null}else 2*me()-i.renderingStartTime>as&&n!==1073741824&&(t.flags|=128,r=!0,As(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=me(),t.sibling=null,n=le.current,te(le,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return fd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ot&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Yb(e,t){switch(Gc(t),t.tag){case 1:return tt(t.type)&&Qo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return is(),re(et),re(Ve),nd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return td(t),null;case 13:if(re(le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(le),null;case 4:return is(),null;case 10:return Yc(t.type._context),null;case 22:case 23:return fd(),null;case 24:return null;default:return null}}var io=!1,Me=!1,Xb=typeof WeakSet=="function"?WeakSet:Set,R=null;function Ur(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function Du(e,t,n){try{n()}catch(r){fe(e,t,r)}}var pf=!1;function Zb(e,t){if(vu=Ko,e=wg(),Hc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wu={focusedElem:e,selectionRange:n},Ko=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?w:Ct(t.type,w),x);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(b){fe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=pf,pf=!1,v}function Ks(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Du(t,n,i)}s=s.next}while(s!==r)}}function Ia(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Lu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function my(e){var t=e.alternate;t!==null&&(e.alternate=null,my(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[hi],delete t[_u],delete t[Db],delete t[Lb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gy(e){return e.tag===5||e.tag===3||e.tag===4}function mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jo));else if(r!==4&&(e=e.child,e!==null))for(Mu(e,t,n),e=e.sibling;e!==null;)Mu(e,t,n),e=e.sibling}function $u(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for($u(e,t,n),e=e.sibling;e!==null;)$u(e,t,n),e=e.sibling}var Pe=null,At=!1;function cn(e,t,n){for(n=n.child;n!==null;)yy(e,t,n),n=n.sibling}function yy(e,t,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Ta,n)}catch{}switch(n.tag){case 5:Me||Ur(n,t);case 6:var r=Pe,s=At;Pe=null,cn(e,t,n),Pe=r,At=s,Pe!==null&&(At?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(At?(e=Pe,n=n.stateNode,e.nodeType===8?dl(e.parentNode,n):e.nodeType===1&&dl(e,n),ai(e)):dl(Pe,n.stateNode));break;case 4:r=Pe,s=At,Pe=n.stateNode.containerInfo,At=!0,cn(e,t,n),Pe=r,At=s;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Du(n,t,o),s=s.next}while(s!==r)}cn(e,t,n);break;case 1:if(!Me&&(Ur(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,cn(e,t,n),Me=r):cn(e,t,n);break;default:cn(e,t,n)}}function gf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Xb),t.forEach(function(r){var s=l1.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,At=!1;break e;case 3:Pe=a.stateNode.containerInfo,At=!0;break e;case 4:Pe=a.stateNode.containerInfo,At=!0;break e}a=a.return}if(Pe===null)throw Error(P(160));yy(i,o,s),Pe=null,At=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){fe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vy(t,e),t=t.sibling}function vy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Lt(e),r&4){try{Ks(3,e,e.return),Ia(3,e)}catch(w){fe(e,e.return,w)}try{Ks(5,e,e.return)}catch(w){fe(e,e.return,w)}}break;case 1:Et(t,e),Lt(e),r&512&&n!==null&&Ur(n,n.return);break;case 5:if(Et(t,e),Lt(e),r&512&&n!==null&&Ur(n,n.return),e.flags&32){var s=e.stateNode;try{ri(s,"")}catch(w){fe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Um(s,i),lu(a,o);var u=lu(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Hm(s,d):c==="dangerouslySetInnerHTML"?Fm(s,d):c==="children"?ri(s,d):Oc(s,c,d,u)}switch(a){case"input":ru(s,i);break;case"textarea":zm(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Gr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[hi]=i}catch(w){fe(e,e.return,w)}}break;case 6:if(Et(t,e),Lt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){fe(e,e.return,w)}}break;case 3:if(Et(t,e),Lt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ai(t.containerInfo)}catch(w){fe(e,e.return,w)}break;case 4:Et(t,e),Lt(e);break;case 13:Et(t,e),Lt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(dd=me())),r&4&&gf(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Me=(u=Me)||c,Et(t,e),Me=u):Et(t,e),Lt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(R=e,c=e.child;c!==null;){for(d=R=c;R!==null;){switch(h=R,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ks(4,h,h.return);break;case 1:Ur(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(w){fe(r,n,w)}}break;case 5:Ur(h,h.return);break;case 22:if(h.memoizedState!==null){vf(d);continue}}p!==null?(p.return=h,R=p):vf(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wm("display",o))}catch(w){fe(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){fe(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(t,e),Lt(e),r&4&&gf(e);break;case 21:break;default:Et(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gy(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ri(s,""),r.flags&=-33);var i=mf(e);$u(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mf(e);Mu(e,a,o);break;default:throw Error(P(161))}}catch(l){fe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e1(e,t,n){R=e,wy(e)}function wy(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||io;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Me;a=io;var u=Me;if(io=o,(Me=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?wf(s):l!==null?(l.return=o,R=l):wf(s);for(;i!==null;)R=i,wy(i),i=i.sibling;R=s,io=a,Me=u}yf(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):yf(e)}}function yf(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Ia(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Me)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ct(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ef(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ef(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Me||t.flags&512&&Lu(t)}catch(h){fe(t,t.return,h)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function vf(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function wf(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ia(4,t)}catch(l){fe(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){fe(t,s,l)}}var i=t.return;try{Lu(t)}catch(l){fe(t,i,l)}break;case 5:var o=t.return;try{Lu(t)}catch(l){fe(t,o,l)}}}catch(l){fe(t,t.return,l)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var t1=Math.ceil,oa=sn.ReactCurrentDispatcher,ud=sn.ReactCurrentOwner,bt=sn.ReactCurrentBatchConfig,q=0,Te=null,ve=null,Re=0,ot=0,zr=Dn(0),ke=0,vi=null,fr=0,Da=0,cd=0,Gs=null,Ye=null,dd=0,as=1/0,Kt=null,aa=!1,Vu=null,jn=null,oo=!1,bn=null,la=0,qs=0,Uu=null,No=-1,Io=0;function We(){return q&6?me():No!==-1?No:No=me()}function Cn(e){return e.mode&1?q&2&&Re!==0?Re&-Re:$b.transition!==null?(Io===0&&(Io=rg()),Io):(e=Y,e!==0||(e=window.event,e=e===void 0?16:cg(e.type)),e):1}function It(e,t,n,r){if(50<qs)throw qs=0,Uu=null,Error(P(185));Ri(e,n,r),(!(q&2)||e!==Te)&&(e===Te&&(!(q&2)&&(Da|=n),ke===4&&yn(e,Re)),nt(e,r),n===1&&q===0&&!(t.mode&1)&&(as=me()+500,Ra&&Ln()))}function nt(e,t){var n=e.callbackNode;$x(e,t);var r=Ho(e,e===Te?Re:0);if(r===0)n!==null&&jh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&jh(n),t===1)e.tag===0?Mb(xf.bind(null,e)):Pg(xf.bind(null,e)),Nb(function(){!(q&6)&&Ln()}),n=null;else{switch(sg(r)){case 1:n=Mc;break;case 4:n=tg;break;case 16:n=Wo;break;case 536870912:n=ng;break;default:n=Wo}n=jy(n,xy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xy(e,t){if(No=-1,Io=0,q&6)throw Error(P(327));var n=e.callbackNode;if(Xr()&&e.callbackNode!==n)return null;var r=Ho(e,e===Te?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ua(e,r);else{t=r;var s=q;q|=2;var i=_y();(Te!==e||Re!==t)&&(Kt=null,as=me()+500,or(e,t));do try{s1();break}catch(a){by(e,a)}while(!0);Qc(),oa.current=i,q=s,ve!==null?t=0:(Te=null,Re=0,t=ke)}if(t!==0){if(t===2&&(s=fu(e),s!==0&&(r=s,t=zu(e,s))),t===1)throw n=vi,or(e,0),yn(e,r),nt(e,me()),n;if(t===6)yn(e,r);else{if(s=e.current.alternate,!(r&30)&&!n1(s)&&(t=ua(e,r),t===2&&(i=fu(e),i!==0&&(r=i,t=zu(e,i))),t===1))throw n=vi,or(e,0),yn(e,r),nt(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:Gn(e,Ye,Kt);break;case 3:if(yn(e,r),(r&130023424)===r&&(t=dd+500-me(),10<t)){if(Ho(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bu(Gn.bind(null,e,Ye,Kt),t);break}Gn(e,Ye,Kt);break;case 4:if(yn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Nt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t1(r/1960))-r,10<r){e.timeoutHandle=bu(Gn.bind(null,e,Ye,Kt),r);break}Gn(e,Ye,Kt);break;case 5:Gn(e,Ye,Kt);break;default:throw Error(P(329))}}}return nt(e,me()),e.callbackNode===n?xy.bind(null,e):null}function zu(e,t){var n=Gs;return e.current.memoizedState.isDehydrated&&(or(e,t).flags|=256),e=ua(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&Bu(t)),e}function Bu(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function n1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Dt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yn(e,t){for(t&=~cd,t&=~Da,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),r=1<<n;e[n]=-1,t&=~r}}function xf(e){if(q&6)throw Error(P(327));Xr();var t=Ho(e,0);if(!(t&1))return nt(e,me()),null;var n=ua(e,t);if(e.tag!==0&&n===2){var r=fu(e);r!==0&&(t=r,n=zu(e,r))}if(n===1)throw n=vi,or(e,0),yn(e,t),nt(e,me()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gn(e,Ye,Kt),nt(e,me()),null}function hd(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(as=me()+500,Ra&&Ln())}}function pr(e){bn!==null&&bn.tag===0&&!(q&6)&&Xr();var t=q;q|=1;var n=bt.transition,r=Y;try{if(bt.transition=null,Y=1,e)return e()}finally{Y=r,bt.transition=n,q=t,!(q&6)&&Ln()}}function fd(){ot=zr.current,re(zr)}function or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ob(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Gc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qo();break;case 3:is(),re(et),re(Ve),nd();break;case 5:td(r);break;case 4:is();break;case 13:re(le);break;case 19:re(le);break;case 10:Yc(r.type._context);break;case 22:case 23:fd()}n=n.return}if(Te=e,ve=e=Pn(e.current,null),Re=ot=t,ke=0,vi=null,cd=Da=fr=0,Ye=Gs=null,er!==null){for(t=0;t<er.length;t++)if(n=er[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}er=null}return e}function by(e,t){do{var n=ve;try{if(Qc(),Ao.current=ia,sa){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sa=!1}if(hr=0,Ee=_e=ce=null,Hs=!1,mi=0,ud.current=null,n===null||n.return===null){ke=1,vi=t,ve=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Re,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=af(o);if(p!==null){p.flags&=-257,lf(p,o,a,i,t),p.mode&1&&of(i,u,t),t=p,l=u;var v=t.updateQueue;if(v===null){var w=new Set;w.add(l),t.updateQueue=w}else v.add(l);break e}else{if(!(t&1)){of(i,u,t),pd();break e}l=Error(P(426))}}else if(ie&&a.mode&1){var x=af(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),lf(x,o,a,i,t),qc(os(l,a));break e}}i=l=os(l,a),ke!==4&&(ke=2),Gs===null?Gs=[i]:Gs.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=sy(i,l,t);Zh(i,y);break e;case 1:a=l;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(jn===null||!jn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=iy(i,a,t);Zh(i,b);break e}}i=i.return}while(i!==null)}Sy(n)}catch(_){t=_,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function _y(){var e=oa.current;return oa.current=ia,e===null?ia:e}function pd(){(ke===0||ke===3||ke===2)&&(ke=4),Te===null||!(fr&268435455)&&!(Da&268435455)||yn(Te,Re)}function ua(e,t){var n=q;q|=2;var r=_y();(Te!==e||Re!==t)&&(Kt=null,or(e,t));do try{r1();break}catch(s){by(e,s)}while(!0);if(Qc(),q=n,oa.current=r,ve!==null)throw Error(P(261));return Te=null,Re=0,ke}function r1(){for(;ve!==null;)ky(ve)}function s1(){for(;ve!==null&&!Px();)ky(ve)}function ky(e){var t=Ty(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Sy(e):ve=t,ud.current=null}function Sy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yb(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,ve=null;return}}else if(n=Qb(n,t,ot),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);ke===0&&(ke=5)}function Gn(e,t,n){var r=Y,s=bt.transition;try{bt.transition=null,Y=1,i1(e,t,n,r)}finally{bt.transition=s,Y=r}return null}function i1(e,t,n,r){do Xr();while(bn!==null);if(q&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Vx(e,i),e===Te&&(ve=Te=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oo||(oo=!0,jy(Wo,function(){return Xr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=bt.transition,bt.transition=null;var o=Y;Y=1;var a=q;q|=4,ud.current=null,Zb(e,n),vy(n,e),Eb(wu),Ko=!!vu,wu=vu=null,e.current=n,e1(n),Ax(),q=a,Y=o,bt.transition=i}else e.current=n;if(oo&&(oo=!1,bn=e,la=s),i=e.pendingLanes,i===0&&(jn=null),Nx(n.stateNode),nt(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(aa)throw aa=!1,e=Vu,Vu=null,e;return la&1&&e.tag!==0&&Xr(),i=e.pendingLanes,i&1?e===Uu?qs++:(qs=0,Uu=e):qs=0,Ln(),null}function Xr(){if(bn!==null){var e=sg(la),t=bt.transition,n=Y;try{if(bt.transition=null,Y=16>e?16:e,bn===null)var r=!1;else{if(e=bn,bn=null,la=0,q&6)throw Error(P(331));var s=q;for(q|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:Ks(8,c,i)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var h=c.sibling,p=c.return;if(my(c),c===u){R=null;break}if(h!==null){h.return=p,R=h;break}R=p}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ks(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,R=y;break e}R=i.return}}var m=e.current;for(R=m;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ia(9,a)}}catch(_){fe(a,a.return,_)}if(a===o){R=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,R=b;break e}R=a.return}}if(q=s,Ln(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Ta,e)}catch{}r=!0}return r}finally{Y=n,bt.transition=t}}return!1}function bf(e,t,n){t=os(n,t),t=sy(e,t,1),e=Tn(e,t,1),t=We(),e!==null&&(Ri(e,1,t),nt(e,t))}function fe(e,t,n){if(e.tag===3)bf(e,e,n);else for(;t!==null;){if(t.tag===3){bf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jn===null||!jn.has(r))){e=os(n,e),e=iy(t,e,1),t=Tn(t,e,1),e=We(),t!==null&&(Ri(t,1,e),nt(t,e));break}}t=t.return}}function o1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Re&n)===n&&(ke===4||ke===3&&(Re&130023424)===Re&&500>me()-dd?or(e,0):cd|=n),nt(e,t)}function Ey(e,t){t===0&&(e.mode&1?(t=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):t=1);var n=We();e=en(e,t),e!==null&&(Ri(e,t,n),nt(e,n))}function a1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ey(e,n)}function l1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Ey(e,n)}var Ty;Ty=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,Jb(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,ie&&t.flags&1048576&&Ag(t,Zo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oo(e,t),e=t.pendingProps;var s=ns(t,Ve.current);Yr(t,n),s=sd(null,t,r,e,s,n);var i=id();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(i=!0,Yo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zc(t),s.updater=Na,t.stateNode=s,s._reactInternals=t,Cu(t,r,e,n),t=Ru(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&Kc(t),ze(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oo(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=c1(r),e=Ct(r,e),s){case 0:t=Au(null,t,r,e,n);break e;case 1:t=df(null,t,r,e,n);break e;case 11:t=uf(null,t,r,e,n);break e;case 14:t=cf(null,t,r,Ct(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),Au(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),df(e,t,r,s,n);case 3:e:{if(uy(t),e===null)throw Error(P(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Lg(e,t),na(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=os(Error(P(423)),t),t=hf(e,t,r,n,s);break e}else if(r!==s){s=os(Error(P(424)),t),t=hf(e,t,r,n,s);break e}else for(ut=En(t.stateNode.containerInfo.firstChild),ct=t,ie=!0,Ot=null,n=Ig(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rs(),r===s){t=tn(e,t,n);break e}ze(e,t,r,n)}t=t.child}return t;case 5:return Mg(t),e===null&&Eu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xu(r,s)?o=null:i!==null&&xu(r,i)&&(t.flags|=32),ly(e,t),ze(e,t,o,n),t.child;case 6:return e===null&&Eu(t),null;case 13:return cy(e,t,n);case 4:return ed(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ss(t,null,r,n):ze(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),uf(e,t,r,s,n);case 7:return ze(e,t,t.pendingProps,n),t.child;case 8:return ze(e,t,t.pendingProps.children,n),t.child;case 12:return ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,te(ea,r._currentValue),r._currentValue=o,i!==null)if(Dt(i.value,o)){if(i.children===s.children&&!et.current){t=tn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Yt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Tu(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Tu(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ze(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Yr(t,n),s=kt(s),r=r(s),t.flags|=1,ze(e,t,r,n),t.child;case 14:return r=t.type,s=Ct(r,t.pendingProps),s=Ct(r.type,s),cf(e,t,r,s,n);case 15:return oy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ct(r,s),Oo(e,t),t.tag=1,tt(r)?(e=!0,Yo(t)):e=!1,Yr(t,n),ry(t,r,s),Cu(t,r,s,n),Ru(null,t,r,!0,e,n);case 19:return dy(e,t,n);case 22:return ay(e,t,n)}throw Error(P(156,t.tag))};function jy(e,t){return eg(e,t)}function u1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,r){return new u1(e,t,n,r)}function md(e){return e=e.prototype,!(!e||!e.isReactComponent)}function c1(e){if(typeof e=="function")return md(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ic)return 11;if(e===Dc)return 14}return 2}function Pn(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Do(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")md(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Rr:return ar(n.children,s,i,t);case Nc:o=8,s|=8;break;case Xl:return e=wt(12,n,t,s|2),e.elementType=Xl,e.lanes=i,e;case Zl:return e=wt(13,n,t,s),e.elementType=Zl,e.lanes=i,e;case eu:return e=wt(19,n,t,s),e.elementType=eu,e.lanes=i,e;case Mm:return La(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Dm:o=10;break e;case Lm:o=9;break e;case Ic:o=11;break e;case Dc:o=14;break e;case pn:o=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=wt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function ar(e,t,n,r){return e=wt(7,e,r,t),e.lanes=n,e}function La(e,t,n,r){return e=wt(22,e,r,t),e.elementType=Mm,e.lanes=n,e.stateNode={isHidden:!1},e}function wl(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d1(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gd(e,t,n,r,s,i,o,a,l){return e=new d1(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=wt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zc(i),e}function h1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cy(e){if(!e)return Rn;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(tt(n))return Cg(e,n,t)}return t}function Py(e,t,n,r,s,i,o,a,l){return e=gd(n,r,!0,e,s,i,o,a,l),e.context=Cy(null),n=e.current,r=We(),s=Cn(n),i=Yt(r,s),i.callback=t??null,Tn(n,i,s),e.current.lanes=s,Ri(e,s,r),nt(e,r),e}function Ma(e,t,n,r){var s=t.current,i=We(),o=Cn(s);return n=Cy(n),t.context===null?t.context=n:t.pendingContext=n,t=Yt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(s,t,o),e!==null&&(It(e,s,o,i),Po(e,s,o)),o}function ca(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yd(e,t){_f(e,t),(e=e.alternate)&&_f(e,t)}function f1(){return null}var Ay=typeof reportError=="function"?reportError:function(e){console.error(e)};function vd(e){this._internalRoot=e}$a.prototype.render=vd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Ma(e,t,null,null)};$a.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){Ma(null,e,null,null)}),t[Zt]=null}};function $a(e){this._internalRoot=e}$a.prototype.unstable_scheduleHydration=function(e){if(e){var t=ag();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&ug(e)}};function wd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Va(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kf(){}function p1(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ca(o);i.call(u)}}var o=Py(t,r,e,0,null,!1,!1,"",kf);return e._reactRootContainer=o,e[Zt]=o.current,ci(e.nodeType===8?e.parentNode:e),pr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ca(l);a.call(u)}}var l=gd(e,0,!1,null,null,!1,!1,"",kf);return e._reactRootContainer=l,e[Zt]=l.current,ci(e.nodeType===8?e.parentNode:e),pr(function(){Ma(t,l,n,r)}),l}function Ua(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ca(o);a.call(l)}}Ma(t,o,e,s)}else o=p1(n,t,e,s,r);return ca(o)}ig=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ls(t.pendingLanes);n!==0&&($c(t,n|1),nt(t,me()),!(q&6)&&(as=me()+500,Ln()))}break;case 13:pr(function(){var r=en(e,1);if(r!==null){var s=We();It(r,e,1,s)}}),yd(e,1)}};Vc=function(e){if(e.tag===13){var t=en(e,134217728);if(t!==null){var n=We();It(t,e,134217728,n)}yd(e,134217728)}};og=function(e){if(e.tag===13){var t=Cn(e),n=en(e,t);if(n!==null){var r=We();It(n,e,t,r)}yd(e,t)}};ag=function(){return Y};lg=function(e,t){var n=Y;try{return Y=e,t()}finally{Y=n}};cu=function(e,t,n){switch(t){case"input":if(ru(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Aa(r);if(!s)throw Error(P(90));Vm(r),ru(r,s)}}}break;case"textarea":zm(e,n);break;case"select":t=n.value,t!=null&&Gr(e,!!n.multiple,t,!1)}};qm=hd;Jm=pr;var m1={usingClientEntryPoint:!1,Events:[Ni,Dr,Aa,Km,Gm,hd]},Rs={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g1={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xm(e),e===null?null:e.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||f1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Ta=ao.inject(g1),Vt=ao}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wd(t))throw Error(P(200));return h1(e,t,null,n)};ht.createRoot=function(e,t){if(!wd(e))throw Error(P(299));var n=!1,r="",s=Ay;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gd(e,1,!1,null,null,n,!1,r,s),e[Zt]=t.current,ci(e.nodeType===8?e.parentNode:e),new vd(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=Xm(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return pr(e)};ht.hydrate=function(e,t,n){if(!Va(t))throw Error(P(200));return Ua(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!wd(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ay;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Py(t,null,e,1,n??null,s,!1,i,o),e[Zt]=t.current,ci(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $a(t)};ht.render=function(e,t,n){if(!Va(t))throw Error(P(200));return Ua(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!Va(e))throw Error(P(40));return e._reactRootContainer?(pr(function(){Ua(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};ht.unstable_batchedUpdates=hd;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Va(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Ua(e,t,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function Ry(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ry)}catch(e){console.error(e)}}Ry(),Rm.exports=ht;var y1=Rm.exports,Sf=y1;Ql.createRoot=Sf.createRoot,Ql.hydrateRoot=Sf.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(e,t)=>{const n=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>E.createElement("svg",{ref:c,...v1,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${w1(e)}`,a].join(" "),...u},[...t.map(([d,h])=>E.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=W("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=W("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=W("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=W("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=W("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=W("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=W("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=W("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=W("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=W("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=W("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=W("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=W("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=W("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=W("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=W("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=W("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=W("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=W("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=W("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=W("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),bd=E.createContext({});function _d(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const kd=typeof window<"u",Iy=kd?E.useLayoutEffect:E.useEffect,za=E.createContext(null);function Sd(e,t){e.indexOf(t)===-1&&e.push(t)}function Ed(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const nn=(e,t,n)=>n>t?t:n<e?e:n;let Td=()=>{};const rn={},Dy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ly(e){return typeof e=="object"&&e!==null}const My=e=>/^0[^.\s]+$/u.test(e);function jd(e){let t;return()=>(t===void 0&&(t=e()),t)}const _t=e=>e,J1=(e,t)=>n=>t(e(n)),Li=(...e)=>e.reduce(J1),bi=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Cd{constructor(){this.subscriptions=[]}add(t){return Sd(this.subscriptions,t),()=>Ed(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zt=e=>e*1e3,xt=e=>e/1e3;function $y(e,t){return t?e*(1e3/t):0}const Vy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Q1=1e-7,Y1=12;function X1(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=Vy(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>Q1&&++a<Y1);return o}function Mi(e,t,n,r){if(e===t&&n===r)return _t;const s=i=>X1(i,0,1,e,n);return i=>i===0||i===1?i:Vy(s(i),t,r)}const Uy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zy=e=>t=>1-e(1-t),By=Mi(.33,1.53,.69,.99),Pd=zy(By),Fy=Uy(Pd),Wy=e=>(e*=2)<1?.5*Pd(e):.5*(2-Math.pow(2,-10*(e-1))),Ad=e=>1-Math.sin(Math.acos(e)),Hy=zy(Ad),Ky=Uy(Ad),Z1=Mi(.42,0,1,1),e_=Mi(0,0,.58,1),Gy=Mi(.42,0,.58,1),t_=e=>Array.isArray(e)&&typeof e[0]!="number",qy=e=>Array.isArray(e)&&typeof e[0]=="number",n_={linear:_t,easeIn:Z1,easeInOut:Gy,easeOut:e_,circIn:Ad,circInOut:Ky,circOut:Hy,backIn:Pd,backInOut:Fy,backOut:By,anticipate:Wy},r_=e=>typeof e=="string",Tf=e=>{if(qy(e)){Td(e.length===4);const[t,n,r,s]=e;return Mi(t,n,r,s)}else if(r_(e))return n_[e];return e},lo=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function s_(e,t){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){o.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,d=!1,h=!1)=>{const v=h&&s?n:r;return d&&o.add(c),v.has(c)||v.add(c),c},cancel:c=>{r.delete(c),o.delete(c)},process:c=>{if(a=c,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,u.process(c))}};return u}const i_=40;function Jy(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=lo.reduce((g,b)=>(g[b]=s_(i),g),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:h,render:p,postRender:v}=o,w=()=>{const g=rn.useManualTiming?s.timestamp:performance.now();n=!1,rn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,i_),1)),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),c.process(s),d.process(s),h.process(s),p.process(s),v.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(w))},x=()=>{n=!0,r=!0,s.isProcessing||e(w)};return{schedule:lo.reduce((g,b)=>{const _=o[b];return g[b]=(S,j=!1,k=!1)=>(n||x(),_.schedule(S,j,k)),g},{}),cancel:g=>{for(let b=0;b<lo.length;b++)o[lo[b]].cancel(g)},state:s,steps:o}}const{schedule:oe,cancel:On,state:Ae,steps:bl}=Jy(typeof requestAnimationFrame<"u"?requestAnimationFrame:_t,!0);let Lo;function o_(){Lo=void 0}const Ze={now:()=>(Lo===void 0&&Ze.set(Ae.isProcessing||rn.useManualTiming?Ae.timestamp:performance.now()),Lo),set:e=>{Lo=e,queueMicrotask(o_)}},Qy=e=>t=>typeof t=="string"&&t.startsWith(e),Rd=Qy("--"),a_=Qy("var(--"),Od=e=>a_(e)?l_.test(e.split("/*")[0].trim()):!1,l_=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ms={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_i={...ms,transform:e=>nn(0,1,e)},uo={...ms,default:1},Js=e=>Math.round(e*1e5)/1e5,Nd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function u_(e){return e==null}const c_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Id=(e,t)=>n=>!!(typeof n=="string"&&c_.test(n)&&n.startsWith(e)||t&&!u_(n)&&Object.prototype.hasOwnProperty.call(n,t)),Yy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(Nd);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},d_=e=>nn(0,255,e),_l={...ms,transform:e=>Math.round(d_(e))},nr={test:Id("rgb","red"),parse:Yy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+_l.transform(e)+", "+_l.transform(t)+", "+_l.transform(n)+", "+Js(_i.transform(r))+")"};function h_(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Wu={test:Id("#"),parse:h_,transform:nr.transform},$i=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fn=$i("deg"),Bt=$i("%"),U=$i("px"),f_=$i("vh"),p_=$i("vw"),jf={...Bt,parse:e=>Bt.parse(e)/100,transform:e=>Bt.transform(e*100)},Br={test:Id("hsl","hue"),parse:Yy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Bt.transform(Js(t))+", "+Bt.transform(Js(n))+", "+Js(_i.transform(r))+")"},ye={test:e=>nr.test(e)||Wu.test(e)||Br.test(e),parse:e=>nr.test(e)?nr.parse(e):Br.test(e)?Br.parse(e):Wu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?nr.transform(e):Br.transform(e),getAnimatableNone:e=>{const t=ye.parse(e);return t.alpha=0,ye.transform(t)}},m_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function g_(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Nd))==null?void 0:t.length)||0)+(((n=e.match(m_))==null?void 0:n.length)||0)>0}const Xy="number",Zy="color",y_="var",v_="var(",Cf="${}",w_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ki(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(w_,l=>(ye.test(l)?(r.color.push(i),s.push(Zy),n.push(ye.parse(l))):l.startsWith(v_)?(r.var.push(i),s.push(y_),n.push(l)):(r.number.push(i),s.push(Xy),n.push(parseFloat(l))),++i,Cf)).split(Cf);return{values:n,split:a,indexes:r,types:s}}function e0(e){return ki(e).values}function t0(e){const{split:t,types:n}=ki(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===Xy?i+=Js(s[o]):a===Zy?i+=ye.transform(s[o]):i+=s[o]}return i}}const x_=e=>typeof e=="number"?0:ye.test(e)?ye.getAnimatableNone(e):e;function b_(e){const t=e0(e);return t0(e)(t.map(x_))}const Nn={test:g_,parse:e0,createTransformer:t0,getAnimatableNone:b_};function kl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function __({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=kl(l,a,e+1/3),i=kl(l,a,e),o=kl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ha(e,t){return n=>n>0?t:e}const ue=(e,t,n)=>e+(t-e)*n,Sl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},k_=[Wu,nr,Br],S_=e=>k_.find(t=>t.test(e));function Pf(e){const t=S_(e);if(!t)return!1;let n=t.parse(e);return t===Br&&(n=__(n)),n}const Af=(e,t)=>{const n=Pf(e),r=Pf(t);if(!n||!r)return ha(e,t);const s={...n};return i=>(s.red=Sl(n.red,r.red,i),s.green=Sl(n.green,r.green,i),s.blue=Sl(n.blue,r.blue,i),s.alpha=ue(n.alpha,r.alpha,i),nr.transform(s))},Hu=new Set(["none","hidden"]);function E_(e,t){return Hu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function T_(e,t){return n=>ue(e,t,n)}function Dd(e){return typeof e=="number"?T_:typeof e=="string"?Od(e)?ha:ye.test(e)?Af:P_:Array.isArray(e)?n0:typeof e=="object"?ye.test(e)?Af:j_:ha}function n0(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Dd(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function j_(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Dd(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function C_(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],o=e.indexes[i][r[i]],a=e.values[o]??0;n[s]=a,r[i]++}return n}const P_=(e,t)=>{const n=Nn.createTransformer(t),r=ki(e),s=ki(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Hu.has(e)&&!s.values.length||Hu.has(t)&&!r.values.length?E_(e,t):Li(n0(C_(r,s),s.values),n):ha(e,t)};function r0(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ue(e,t,n):Dd(e)(e,t)}const A_=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>oe.update(t,n),stop:()=>On(t),now:()=>Ae.isProcessing?Ae.timestamp:Ze.now()}},s0=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fa=2e4;function Ld(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<fa;)t+=n,r=e.next(t);return t>=fa?1/0:t}function R_(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(Ld(r),fa);return{type:"keyframes",ease:i=>r.next(s*i).value/t,duration:xt(s)}}const O_=5;function i0(e,t,n){const r=Math.max(t-O_,0);return $y(n-e(r),t-r)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},El=.001;function N_({duration:e=he.duration,bounce:t=he.bounce,velocity:n=he.velocity,mass:r=he.mass}){let s,i,o=1-t;o=nn(he.minDamping,he.maxDamping,o),e=nn(he.minDuration,he.maxDuration,xt(e)),o<1?(s=u=>{const c=u*o,d=c*e,h=c-n,p=Ku(u,o),v=Math.exp(-d);return El-h/p*v},i=u=>{const d=u*o*e,h=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-d),w=Ku(Math.pow(u,2),o);return(-s(u)+El>0?-1:1)*((h-p)*v)/w}):(s=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-El+c*d},i=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=D_(s,i,a);if(e=zt(e),isNaN(l))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const I_=12;function D_(e,t,n){let r=n;for(let s=1;s<I_;s++)r=r-e(r)/t(r);return r}function Ku(e,t){return e*Math.sqrt(1-t*t)}const L_=["duration","bounce"],M_=["stiffness","damping","mass"];function Rf(e,t){return t.some(n=>e[n]!==void 0)}function $_(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!Rf(e,M_)&&Rf(e,L_))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*nn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:he.mass,stiffness:s,damping:i}}else{const n=N_(e);t={...t,...n,mass:he.mass},t.isResolvedFromDuration=!0}return t}function pa(e=he.visualDuration,t=he.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:c,duration:d,velocity:h,isResolvedFromDuration:p}=$_({...n,velocity:-xt(n.velocity||0)}),v=h||0,w=u/(2*Math.sqrt(l*c)),x=o-i,y=xt(Math.sqrt(l/c)),m=Math.abs(x)<5;r||(r=m?he.restSpeed.granular:he.restSpeed.default),s||(s=m?he.restDelta.granular:he.restDelta.default);let g;if(w<1){const _=Ku(y,w);g=S=>{const j=Math.exp(-w*y*S);return o-j*((v+w*y*x)/_*Math.sin(_*S)+x*Math.cos(_*S))}}else if(w===1)g=_=>o-Math.exp(-y*_)*(x+(v+y*x)*_);else{const _=y*Math.sqrt(w*w-1);g=S=>{const j=Math.exp(-w*y*S),k=Math.min(_*S,300);return o-j*((v+w*y*x)*Math.sinh(k)+_*x*Math.cosh(k))/_}}const b={calculatedDuration:p&&d||null,next:_=>{const S=g(_);if(p)a.done=_>=d;else{let j=_===0?v:0;w<1&&(j=_===0?zt(v):i0(g,_,S));const k=Math.abs(j)<=r,A=Math.abs(o-S)<=s;a.done=k&&A}return a.value=a.done?o:S,a},toString:()=>{const _=Math.min(Ld(b),fa),S=s0(j=>b.next(_*j).value,_,30);return _+"ms "+S},toTransition:()=>{}};return b}pa.applyToOptions=e=>{const t=R_(e,100,pa);return e.ease=t.ease,e.duration=zt(t.duration),e.type="keyframes",e};function Gu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],h={done:!1,value:d},p=k=>a!==void 0&&k<a||l!==void 0&&k>l,v=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let w=n*t;const x=d+w,y=o===void 0?x:o(x);y!==x&&(w=y-d);const m=k=>-w*Math.exp(-k/r),g=k=>y+m(k),b=k=>{const A=m(k),D=g(k);h.done=Math.abs(A)<=u,h.value=h.done?y:D};let _,S;const j=k=>{p(h.value)&&(_=k,S=pa({keyframes:[h.value,v(h.value)],velocity:i0(g,k,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:c}))};return j(0),{calculatedDuration:null,next:k=>{let A=!1;return!S&&_===void 0&&(A=!0,b(k),j(k)),_!==void 0&&k>=_?S.next(k-_):(!A&&b(k),h)}}}function V_(e,t,n){const r=[],s=n||rn.mix||r0,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||_t:t;a=Li(l,a)}r.push(a)}return r}function U_(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Td(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=V_(t,r,s),l=a.length,u=c=>{if(o&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const h=bi(e[d],e[d+1],c);return a[d](h)};return n?c=>u(nn(e[0],e[i-1],c)):u}function z_(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=bi(0,t,r);e.push(ue(n,1,s))}}function B_(e){const t=[0];return z_(t,e.length-1),t}function F_(e,t){return e.map(n=>n*t)}function W_(e,t){return e.map(()=>t||Gy).splice(0,e.length-1)}function Qs({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=t_(r)?r.map(Tf):Tf(r),i={done:!1,value:t[0]},o=F_(n&&n.length===t.length?n:B_(t),e),a=U_(o,t,{ease:Array.isArray(s)?s:W_(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const H_=e=>e!==null;function Md(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(H_),a=s<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const K_={decay:Gu,inertia:Gu,tween:Qs,keyframes:Qs,spring:pa};function o0(e){typeof e.type=="string"&&(e.type=K_[e.type])}class $d{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const G_=e=>e/100;class Vd extends $d{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ze.now()&&this.tick(Ze.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;o0(t);const{type:n=Qs,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=t;let{keyframes:a}=t;const l=n||Qs;l!==Qs&&typeof a[0]!="number"&&(this.mixKeyframes=Li(G_,r0(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ld(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:h,repeatDelay:p,type:v,onUpdate:w,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),m=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,b=r;if(d){const k=Math.min(this.currentTime,s)/a;let A=Math.floor(k),D=k%1;!D&&k>=1&&(D=1),D===1&&A--,A=Math.min(A,d+1),!!(A%2)&&(h==="reverse"?(D=1-D,p&&(D-=p/a)):h==="mirror"&&(b=o)),g=nn(0,1,D)*a}const _=m?{done:!1,value:c[0]}:b.next(g);i&&(_.value=i(_.value));let{done:S}=_;!m&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return j&&v!==Gu&&(_.value=Md(c,this.options,x,this.speed)),w&&w(_.value),j&&this.finish(),_}then(t,n){return this.finished.then(t,n)}get duration(){return xt(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xt(t)}get time(){return xt(this.currentTime)}set time(t){var n;t=zt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ze.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=xt(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=A_,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ze.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function q_(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const rr=e=>e*180/Math.PI,qu=e=>{const t=rr(Math.atan2(e[1],e[0]));return Ju(t)},J_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:qu,rotateZ:qu,skewX:e=>rr(Math.atan(e[1])),skewY:e=>rr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ju=e=>(e=e%360,e<0&&(e+=360),e),Of=qu,Nf=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),If=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Q_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Nf,scaleY:If,scale:e=>(Nf(e)+If(e))/2,rotateX:e=>Ju(rr(Math.atan2(e[6],e[5]))),rotateY:e=>Ju(rr(Math.atan2(-e[2],e[0]))),rotateZ:Of,rotate:Of,skewX:e=>rr(Math.atan(e[4])),skewY:e=>rr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qu(e){return e.includes("scale")?1:0}function Yu(e,t){if(!e||e==="none")return Qu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Q_,s=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=J_,s=a}if(!s)return Qu(t);const i=r[t],o=s[1].split(",").map(X_);return typeof i=="function"?i(o):o[i]}const Y_=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Yu(n,t)};function X_(e){return parseFloat(e.trim())}const gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ys=new Set(gs),Df=e=>e===ms||e===U,Z_=new Set(["x","y","z"]),ek=gs.filter(e=>!Z_.has(e));function tk(e){const t=[];return ek.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const lr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Yu(t,"x"),y:(e,{transform:t})=>Yu(t,"y")};lr.translateX=lr.x;lr.translateY=lr.y;const ur=new Set;let Xu=!1,Zu=!1,ec=!1;function a0(){if(Zu){const e=Array.from(ur).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=tk(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zu=!1,Xu=!1,ur.forEach(e=>e.complete(ec)),ur.clear()}function l0(){ur.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zu=!0)})}function nk(){ec=!0,l0(),a0(),ec=!1}class Ud{constructor(t,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ur.add(this),Xu||(Xu=!0,oe.read(l0),oe.resolveKeyframes(a0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),s&&i===void 0&&s.set(t[0])}q_(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ur.delete(this)}cancel(){this.state==="scheduled"&&(ur.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rk=e=>e.startsWith("--");function sk(e,t,n){rk(t)?e.style.setProperty(t,n):e.style[t]=n}const ik=jd(()=>window.ScrollTimeline!==void 0),ok={};function ak(e,t){const n=jd(e);return()=>ok[t]??n()}const u0=ak(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$s=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Lf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$s([0,.65,.55,1]),circOut:$s([.55,0,1,.45]),backIn:$s([.31,.01,.66,-.59]),backOut:$s([.33,1.53,.69,.99])};function c0(e,t){if(e)return typeof e=="function"?u0()?s0(e,t):"ease-out":qy(e)?$s(e):Array.isArray(e)?e.map(n=>c0(n,t)||Lf.easeOut):Lf[e]}function lk(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const d=c0(a,s);Array.isArray(d)&&(c.easing=d);const h={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(c,h)}function d0(e){return typeof e=="function"&&"applyToOptions"in e}function uk({type:e,...t}){return d0(e)&&u0()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ck extends $d{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Td(typeof t.type!="string");const u=uk(t);this.animation=lk(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const c=Md(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):sk(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xt(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+xt(t)}get time(){return xt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=zt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ik()?(this.animation.timeline=t,_t):n(this)}}const h0={anticipate:Wy,backInOut:Fy,circInOut:Ky};function dk(e){return e in h0}function hk(e){typeof e.ease=="string"&&dk(e.ease)&&(e.ease=h0[e.ease])}const Mf=10;class fk extends ck{constructor(t){hk(t),o0(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new Vd({...o,autoplay:!1}),l=zt(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-Mf).value,a.sample(l).value,Mf),a.stop()}}const $f=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Nn.test(e)||e==="0")&&!e.startsWith("url("));function pk(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mk(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=$f(s,t),a=$f(i,t);return!o||!a?!1:pk(e)||(n==="spring"||d0(n))&&r}function tc(e){e.duration=0,e.type="keyframes"}const gk=new Set(["opacity","clipPath","filter","transform"]),yk=jd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function vk(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return yk()&&n&&gk.has(n)&&(n!=="transform"||!u)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const wk=40;class xk extends $d{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var v;super(),this.stop=()=>{var w,x;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ze.now();const h={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:u,element:c,...d},p=(c==null?void 0:c.KeyframeResolver)||Ud;this.keyframeResolver=new p(a,(w,x,y)=>this.onKeyframesResolved(w,x,h,!y),l,u,c),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Ze.now(),mk(t,i,o,a)||((rn.instantAnimations||!l)&&(c==null||c(Md(t,r,n))),t[0]=t[t.length-1],tc(r),r.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>wk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},p=!u&&vk(h)?new fk({...h,element:h.motionValue.owner.current}):new Vd(h);p.finished.then(()=>this.notifyFinished()).catch(_t),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),nk()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const bk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _k(e){const t=bk.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function f0(e,t,n=1){const[r,s]=_k(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return Dy(o)?parseFloat(o):o}return Od(s)?f0(s,t,n+1):s}function zd(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const p0=new Set(["width","height","top","left","right","bottom",...gs]),kk={test:e=>e==="auto",parse:e=>e},m0=e=>t=>t.test(e),g0=[ms,U,Bt,fn,p_,f_,kk],Vf=e=>g0.find(m0(e));function Sk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||My(e):!0}const Ek=new Set(["brightness","contrast","saturate","opacity"]);function Tk(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Nd)||[];if(!r)return e;const s=n.replace(r,"");let i=Ek.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const jk=/\b([a-z-]*)\(.*?\)/gu,nc={...Nn,getAnimatableNone:e=>{const t=e.match(jk);return t?t.map(Tk).join(" "):e}},Uf={...ms,transform:Math.round},Ck={rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scale:uo,scaleX:uo,scaleY:uo,scaleZ:uo,skew:fn,skewX:fn,skewY:fn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:_i,originX:jf,originY:jf,originZ:U},Bd={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...Ck,zIndex:Uf,fillOpacity:_i,strokeOpacity:_i,numOctaves:Uf},Pk={...Bd,color:ye,backgroundColor:ye,outlineColor:ye,fill:ye,stroke:ye,borderColor:ye,borderTopColor:ye,borderRightColor:ye,borderBottomColor:ye,borderLeftColor:ye,filter:nc,WebkitFilter:nc},y0=e=>Pk[e];function v0(e,t){let n=y0(e);return n!==nc&&(n=Nn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ak=new Set(["auto","none","0"]);function Rk(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!Ak.has(i)&&ki(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=v0(n,s)}class Ok extends Ud{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),Od(u))){const c=f0(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!p0.has(r)||t.length!==2)return;const[s,i]=t,o=Vf(s),a=Vf(i);if(o!==a)if(Df(o)&&Df(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else lr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||Sk(t[s]))&&r.push(s);r.length&&Rk(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=lr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Nk(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const w0=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function x0(e){return Ly(e)&&"offsetHeight"in e}const zf=30,Ik=e=>!isNaN(parseFloat(e));class Dk{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Ze.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ze.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ik(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Cd);const r=this.events[t].add(n);return t==="change"?()=>{r(),oe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ze.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>zf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zf);return $y(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ls(e,t){return new Dk(e,t)}const{schedule:Fd}=Jy(queueMicrotask,!1),jt={x:!1,y:!1};function b0(){return jt.x||jt.y}function Lk(e){return e==="x"||e==="y"?jt[e]?null:(jt[e]=!0,()=>{jt[e]=!1}):jt.x||jt.y?null:(jt.x=jt.y=!0,()=>{jt.x=jt.y=!1})}function _0(e,t){const n=Nk(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Bf(e){return!(e.pointerType==="touch"||b0())}function Mk(e,t,n={}){const[r,s,i]=_0(e,n),o=a=>{if(!Bf(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=d=>{Bf(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const k0=(e,t)=>t?e===t?!0:k0(e,t.parentElement):!1,Wd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,$k=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vk(e){return $k.has(e.tagName)||e.tabIndex!==-1}const Mo=new WeakSet;function Ff(e){return t=>{t.key==="Enter"&&e(t)}}function Tl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Uk=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ff(()=>{if(Mo.has(n))return;Tl(n,"down");const s=Ff(()=>{Tl(n,"up")}),i=()=>Tl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Wf(e){return Wd(e)&&!b0()}function zk(e,t,n={}){const[r,s,i]=_0(e,n),o=a=>{const l=a.currentTarget;if(!Wf(a))return;Mo.add(l);const u=t(l,a),c=(p,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),Mo.has(l)&&Mo.delete(l),Wf(p)&&typeof u=="function"&&u(p,{success:v})},d=p=>{c(p,l===window||l===document||n.useGlobalTarget||k0(l,p.target))},h=p=>{c(p,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",h,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),x0(a)&&(a.addEventListener("focus",u=>Uk(u,s)),!Vk(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function S0(e){return Ly(e)&&"ownerSVGElement"in e}function Bk(e){return S0(e)&&e.tagName==="svg"}const $e=e=>!!(e&&e.getVelocity),Fk=[...g0,ye,Nn],Wk=e=>Fk.find(m0(e)),Hd=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Hf(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hk(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Hf(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Hf(e[s],null)}}}}function Kk(...e){return E.useCallback(Hk(...e),e)}class Gk extends E.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=x0(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qk({children:e,isPresent:t,anchorX:n,root:r}){const s=E.useId(),i=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=E.useContext(Hd),l=Kk(i,e==null?void 0:e.ref);return E.useInsertionEffect(()=>{const{width:u,height:c,top:d,left:h,right:p}=o.current;if(t||!i.current||!u||!c)return;const v=n==="left"?`left: ${h}`:`right: ${p}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");a&&(w.nonce=a);const x=r??document.head;return x.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${c}px !important;
            ${v}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(w)&&x.removeChild(w)}},[t]),f.jsx(Gk,{isPresent:t,childRef:i,sizeRef:o,children:E.cloneElement(e,{ref:l})})}const Jk=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const u=_d(Qk),c=E.useId();let d=!0,h=E.useMemo(()=>(d=!1,{id:c,initial:t,isPresent:n,custom:s,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;r&&r()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[n,u,r]);return i&&d&&(h={...h}),E.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[n]),E.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=f.jsx(qk,{isPresent:n,anchorX:a,root:l,children:e})),f.jsx(za.Provider,{value:h,children:e})};function Qk(){return new Map}function E0(e=!0){const t=E.useContext(za);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=E.useId();E.useEffect(()=>{if(e)return s(i)},[e]);const o=E.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const co=e=>e.key||"";function Kf(e){const t=[];return E.Children.forEach(e,n=>{E.isValidElement(n)&&t.push(n)}),t}const Qe=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[u,c]=E0(o),d=E.useMemo(()=>Kf(e),[e]),h=o&&!u?[]:d.map(co),p=E.useRef(!0),v=E.useRef(d),w=_d(()=>new Map),[x,y]=E.useState(d),[m,g]=E.useState(d);Iy(()=>{p.current=!1,v.current=d;for(let S=0;S<m.length;S++){const j=co(m[S]);h.includes(j)?w.delete(j):w.get(j)!==!0&&w.set(j,!1)}},[m,h.length,h.join("-")]);const b=[];if(d!==x){let S=[...d];for(let j=0;j<m.length;j++){const k=m[j],A=co(k);h.includes(A)||(S.splice(j,0,k),b.push(k))}return i==="wait"&&b.length&&(S=b),g(Kf(S)),y(d),null}const{forceRender:_}=E.useContext(bd);return f.jsx(f.Fragment,{children:m.map(S=>{const j=co(S),k=o&&!u?!1:d===m||h.includes(j),A=()=>{if(w.has(j))w.set(j,!0);else return;let D=!0;w.forEach(K=>{K||(D=!1)}),D&&(_==null||_(),g(v.current),o&&(c==null||c()),r&&r())};return f.jsx(Jk,{isPresent:k,initial:!p.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:k?void 0:A,anchorX:a,children:S},j)})})},T0=E.createContext({strict:!1}),Gf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},us={};for(const e in Gf)us[e]={isEnabled:t=>Gf[e].some(n=>!!t[n])};function Yk(e){for(const t in e)us[t]={...us[t],...e[t]}}const Xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ma(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Xk.has(e)}let j0=e=>!ma(e);function Zk(e){typeof e=="function"&&(j0=t=>t.startsWith("on")?!ma(t):e(t))}try{Zk(require("@emotion/is-prop-valid").default)}catch{}function eS(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(j0(s)||n===!0&&ma(s)||!t&&!ma(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Ba=E.createContext({});function Fa(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Si(e){return typeof e=="string"||Array.isArray(e)}const Kd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gd=["initial",...Kd];function Wa(e){return Fa(e.animate)||Gd.some(t=>Si(e[t]))}function C0(e){return!!(Wa(e)||e.variants)}function tS(e,t){if(Wa(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Si(n)?n:void 0,animate:Si(r)?r:void 0}}return e.inherit!==!1?t:{}}function nS(e){const{initial:t,animate:n}=tS(e,E.useContext(Ba));return E.useMemo(()=>({initial:t,animate:n}),[qf(t),qf(n)])}function qf(e){return Array.isArray(e)?e.join(" "):e}const Ei={};function rS(e){for(const t in e)Ei[t]=e[t],Rd(t)&&(Ei[t].isCSSVariable=!0)}function P0(e,{layout:t,layoutId:n}){return ys.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ei[e]||e==="opacity")}const sS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iS=gs.length;function oS(e,t,n){let r="",s=!0;for(let i=0;i<iS;i++){const o=gs[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=w0(a,Bd[o]);if(!l){s=!1;const c=sS[o]||o;r+=`${c}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function qd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(ys.has(l)){o=!0;continue}else if(Rd(l)){s[l]=u;continue}else{const c=w0(u,Bd[l]);l.startsWith("origin")?(a=!0,i[l]=c):r[l]=c}}if(t.transform||(o||n?r.transform=oS(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=i;r.transformOrigin=`${l} ${u} ${c}`}}const Jd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A0(e,t,n){for(const r in t)!$e(t[r])&&!P0(r,n)&&(e[r]=t[r])}function aS({transformTemplate:e},t){return E.useMemo(()=>{const n=Jd();return qd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lS(e,t){const n=e.style||{},r={};return A0(r,n,e),Object.assign(r,aS(e,t)),r}function uS(e,t){const n={},r=lS(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const cS={offset:"stroke-dashoffset",array:"stroke-dasharray"},dS={offset:"strokeDashoffset",array:"strokeDasharray"};function hS(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?cS:dS;e[i.offset]=U.transform(-r);const o=U.transform(t),a=U.transform(n);e[i.array]=`${o} ${a}`}function R0(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,u,c){if(qd(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&hS(d,s,i,o,!1)}const O0=()=>({...Jd(),attrs:{}}),N0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fS(e,t,n,r){const s=E.useMemo(()=>{const i=O0();return R0(i,t,N0(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};A0(i,e.style,e),s.style={...i,...s.style}}return s}const pS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qd(e){return typeof e!="string"||e.includes("-")?!1:!!(pS.indexOf(e)>-1||/[A-Z]/u.test(e))}function mS(e,t,n,{latestValues:r},s,i=!1){const a=(Qd(e)?fS:uS)(t,r,s,e),l=eS(t,typeof e=="string",i),u=e!==E.Fragment?{...l,...a,ref:n}:{},{children:c}=t,d=E.useMemo(()=>$e(c)?c.get():c,[c]);return E.createElement(e,{...u,children:d})}function Jf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Yd(e,t,n,r){if(typeof t=="function"){const[s,i]=Jf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Jf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}function $o(e){return $e(e)?e.get():e}function gS({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:yS(n,r,s,e),renderState:t()}}function yS(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=$o(i[h]);let{initial:o,animate:a}=e;const l=Wa(e),u=C0(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const d=c?a:o;if(d&&typeof d!="boolean"&&!Fa(d)){const h=Array.isArray(d)?d:[d];for(let p=0;p<h.length;p++){const v=Yd(e,h[p]);if(v){const{transitionEnd:w,transition:x,...y}=v;for(const m in y){let g=y[m];if(Array.isArray(g)){const b=c?g.length-1:0;g=g[b]}g!==null&&(s[m]=g)}for(const m in w)s[m]=w[m]}}}return s}const I0=e=>(t,n)=>{const r=E.useContext(Ba),s=E.useContext(za),i=()=>gS(e,t,r,s);return n?i():_d(i)};function Xd(e,t,n){var i;const{style:r}=e,s={};for(const o in r)($e(r[o])||t.style&&$e(t.style[o])||P0(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const vS=I0({scrapeMotionValuesFromProps:Xd,createRenderState:Jd});function D0(e,t,n){const r=Xd(e,t,n);for(const s in e)if($e(e[s])||$e(t[s])){const i=gs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}const wS=I0({scrapeMotionValuesFromProps:D0,createRenderState:O0}),xS=Symbol.for("motionComponentSymbol");function Fr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bS(e,t,n){return E.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Fr(n)&&(n.current=r))},[t])}const Zd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_S="framerAppearId",L0="data-"+Zd(_S),M0=E.createContext({});function kS(e,t,n,r,s){var w,x;const{visualElement:i}=E.useContext(Ba),o=E.useContext(T0),a=E.useContext(za),l=E.useContext(Hd).reducedMotion,u=E.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=E.useContext(M0);c&&!c.projection&&s&&(c.type==="html"||c.type==="svg")&&SS(u.current,n,s,d);const h=E.useRef(!1);E.useInsertionEffect(()=>{c&&h.current&&c.update(n,a)});const p=n[L0],v=E.useRef(!!p&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,p))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,p)));return Iy(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),E.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),v.current=!1),c.enteringChildren=void 0)}),c}function SS(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:$0(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Fr(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function $0(e){if(e)return e.options.allowProjection!==!1?e.projection:$0(e.parent)}function jl(e,{forwardMotionProps:t=!1}={},n,r){n&&Yk(n);const s=Qd(e)?wS:vS;function i(a,l){let u;const c={...E.useContext(Hd),...a,layoutId:ES(a)},{isStatic:d}=c,h=nS(a),p=s(a,d);if(!d&&kd){TS();const v=jS(c);u=v.MeasureLayout,h.visualElement=kS(e,p,c,r,v.ProjectionNode)}return f.jsxs(Ba.Provider,{value:h,children:[u&&h.visualElement?f.jsx(u,{visualElement:h.visualElement,...c}):null,mS(e,a,bS(p,h.visualElement,l),p,d,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=E.forwardRef(i);return o[xS]=e,o}function ES({layoutId:e}){const t=E.useContext(bd).id;return t&&e!==void 0?t+"-"+e:e}function TS(e,t){E.useContext(T0).strict}function jS(e){const{drag:t,layout:n}=us;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function CS(e,t){if(typeof Proxy>"u")return jl;const n=new Map,r=(i,o)=>jl(i,o,e,t),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,jl(o,void 0,e,t)),n.get(o))})}function V0({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function PS({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AS(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Cl(e){return e===void 0||e===1}function rc({scale:e,scaleX:t,scaleY:n}){return!Cl(e)||!Cl(t)||!Cl(n)}function qn(e){return rc(e)||U0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function U0(e){return Qf(e.x)||Qf(e.y)}function Qf(e){return e&&e!=="0%"}function ga(e,t,n){const r=e-n,s=t*r;return n+s}function Yf(e,t,n,r,s){return s!==void 0&&(e=ga(e,s,r)),ga(e,n,r)+t}function sc(e,t=0,n=1,r,s){e.min=Yf(e.min,t,n,r,s),e.max=Yf(e.max,t,n,r,s)}function z0(e,{x:t,y:n}){sc(e.x,t.translate,t.scale,t.originPoint),sc(e.y,n.translate,n.scale,n.originPoint)}const Xf=.999999999999,Zf=1.0000000000001;function RS(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Hr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,z0(e,o)),r&&qn(i.latestValues)&&Hr(e,i.latestValues))}t.x<Zf&&t.x>Xf&&(t.x=1),t.y<Zf&&t.y>Xf&&(t.y=1)}function Wr(e,t){e.min=e.min+t,e.max=e.max+t}function ep(e,t,n,r,s=.5){const i=ue(e.min,e.max,s);sc(e,t,n,i,r)}function Hr(e,t){ep(e.x,t.x,t.scaleX,t.scale,t.originX),ep(e.y,t.y,t.scaleY,t.scale,t.originY)}function B0(e,t){return V0(AS(e.getBoundingClientRect(),t))}function OS(e,t,n){const r=B0(e,n),{scroll:s}=t;return s&&(Wr(r.x,s.offset.x),Wr(r.y,s.offset.y)),r}const tp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kr=()=>({x:tp(),y:tp()}),np=()=>({min:0,max:0}),pe=()=>({x:np(),y:np()}),ic={current:null},F0={current:!1};function NS(){if(F0.current=!0,!!kd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ic.current=e.matches;e.addEventListener("change",t),t()}else ic.current=!1}const IS=new WeakMap;function DS(e,t,n){for(const r in t){const s=t[r],i=n[r];if($e(s))e.addValue(r,s);else if($e(i))e.addValue(r,ls(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,ls(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const rp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LS{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ud,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ze.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,oe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Wa(n),this.isVariantNode=C0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const p=d[h];l[h]!==void 0&&$e(p)&&p.set(l[h])}}mount(t){var n;this.current=t,IS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),F0.current||NS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ic.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),On(this.notifyUpdate),On(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ys.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&oe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in us){const n=us[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rp.length;r++){const s=rp[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=DS(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=ls(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Dy(r)||My(r))?r=parseFloat(r):!Wk(r)&&Nn.test(n)&&(r=v0(t,n)),this.setBaseTarget(t,$e(r)?r.get():r)),$e(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Yd(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!$e(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Cd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Fd.render(this.render)}}class W0 extends LS{constructor(){super(...arguments),this.KeyframeResolver=Ok}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$e(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function H0(e,{style:t,vars:n},r,s){const i=e.style;let o;for(o in t)i[o]=t[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function MS(e){return window.getComputedStyle(e)}class $S extends W0{constructor(){super(...arguments),this.type="html",this.renderInstance=H0}readValueFromInstance(t,n){var r;if(ys.has(n))return(r=this.projection)!=null&&r.isProjecting?Qu(n):Y_(t,n);{const s=MS(t),i=(Rd(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return B0(t,n)}build(t,n,r){qd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Xd(t,n,r)}}const K0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VS(e,t,n,r){H0(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(K0.has(s)?s:Zd(s),t.attrs[s])}class US extends W0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ys.has(n)){const r=y0(n);return r&&r.default||0}return n=K0.has(n)?n:Zd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return D0(t,n,r)}build(t,n,r){R0(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){VS(t,n,r,s)}mount(t){this.isSVGTag=N0(t.tagName),super.mount(t)}}const zS=(e,t)=>Qd(e)?new US(t):new $S(t,{allowProjection:e!==E.Fragment});function Zr(e,t,n){const r=e.getProps();return Yd(r,t,n!==void 0?n:r.custom,e)}const oc=e=>Array.isArray(e);function BS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ls(n))}function FS(e){return oc(e)?e[e.length-1]||0:e}function WS(e,t){const n=Zr(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=FS(i[o]);BS(e,o,a)}}function HS(e){return!!($e(e)&&e.add)}function ac(e,t){const n=e.getValue("willChange");if(HS(n))return n.add(t);if(!n&&rn.WillChange){const r=new rn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function G0(e){return e.props[L0]}const KS=e=>e!==null;function GS(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(KS),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[i]}const qS={type:"spring",stiffness:500,damping:25,restSpeed:10},JS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),QS={type:"keyframes",duration:.8},YS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XS=(e,{keyframes:t})=>t.length>2?QS:ys.has(e)?e.startsWith("scale")?JS(t[1]):qS:YS;function ZS({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const eh=(e,t,n,r={},s,i)=>o=>{const a=zd(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-zt(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:h=>{t.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};ZS(a)||Object.assign(c,XS(e,c)),c.duration&&(c.duration=zt(c.duration)),c.repeatDelay&&(c.repeatDelay=zt(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(tc(c),c.delay===0&&(d=!0)),(rn.instantAnimations||rn.skipAnimations)&&(d=!0,tc(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!i&&t.get()!==void 0){const h=GS(c.keyframes,a);if(h!==void 0){oe.update(()=>{c.onUpdate(h),c.onComplete()});return}}return a.isSync?new Vd(c):new xk(c)};function eE({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function q0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(i=r);const l=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const c in a){const d=e.getValue(c,e.latestValues[c]??null),h=a[c];if(h===void 0||u&&eE(u,c))continue;const p={delay:n,...zd(i||{},c)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===v&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const y=G0(e);if(y){const m=window.MotionHandoffAnimation(y,c,oe);m!==null&&(p.startTime=m,w=!0)}}ac(e,c),d.start(eh(c,d,h,e.shouldReduceMotion&&p0.has(c)?{type:!1}:p,e,w));const x=d.animation;x&&l.push(x)}return o&&Promise.all(l).then(()=>{oe.update(()=>{o&&WS(e,o)})}),l}function J0(e,t,n,r=0,s=1){const i=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),o=e.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function lc(e,t,n={}){var l;const r=Zr(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(q0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=s;return tE(e,t,u,c,d,h,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,c]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function tE(e,t,n=0,r=0,s=0,i=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(lc(l,t,{...o,delay:n+(typeof r=="function"?0:r)+J0(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function nE(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>lc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=lc(e,t,n);else{const s=typeof t=="function"?Zr(e,t,n.custom):t;r=Promise.all(q0(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Q0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const rE=Gd.length;function Y0(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Y0(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<rE;n++){const r=Gd[n],s=e.props[r];(Si(s)||s===!1)&&(t[r]=s)}return t}const sE=[...Kd].reverse(),iE=Kd.length;function oE(e){return t=>Promise.all(t.map(({animation:n,options:r})=>nE(e,n,r)))}function aE(e){let t=oE(e),n=sp(),r=!0;const s=l=>(u,c)=>{var h;const d=Zr(e,c,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:p,transitionEnd:v,...w}=d;u={...u,...w,...v}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,c=Y0(e.parent)||{},d=[],h=new Set;let p={},v=1/0;for(let x=0;x<iE;x++){const y=sE[x],m=n[y],g=u[y]!==void 0?u[y]:c[y],b=Si(g),_=y===l?m.isActive:null;_===!1&&(v=x);let S=g===c[y]&&g!==u[y]&&b;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),m.protectedKeys={...p},!m.isActive&&_===null||!g&&!m.prevProp||Fa(g)||typeof g=="boolean")continue;const j=lE(m.prevProp,g);let k=j||y===l&&m.isActive&&!S&&b||x>v&&b,A=!1;const D=Array.isArray(g)?g:[g];let K=D.reduce(s(y),{});_===!1&&(K={});const{prevResolvedValues:je={}}=m,Ne={...je,...K},Ue=G=>{k=!0,h.has(G)&&(A=!0,h.delete(G)),m.needsAnimating[G]=!0;const T=e.getValue(G);T&&(T.liveStyle=!1)};for(const G in Ne){const T=K[G],M=je[G];if(p.hasOwnProperty(G))continue;let $=!1;oc(T)&&oc(M)?$=!Q0(T,M):$=T!==M,$?T!=null?Ue(G):h.add(G):T!==void 0&&h.has(G)?Ue(G):m.protectedKeys[G]=!0}m.prevProp=g,m.prevResolvedValues=K,m.isActive&&(p={...p,...K}),r&&e.blockInitialAnimation&&(k=!1);const Ie=S&&j;k&&(!Ie||A)&&d.push(...D.map(G=>{const T={type:y};if(typeof G=="string"&&r&&!Ie&&e.manuallyAnimateOnMount&&e.parent){const{parent:M}=e,$=Zr(M,G);if(M.enteringChildren&&$){const{delayChildren:J}=$.transition||{};T.delay=J0(M.enteringChildren,e,J)}}return{animation:G,options:T}}))}if(h.size){const x={};if(typeof u.initial!="boolean"){const y=Zr(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(x.transition=y.transition)}h.forEach(y=>{const m=e.getBaseTarget(y),g=e.getValue(y);g&&(g.liveStyle=!0),x[y]=m??null}),d.push({animation:x})}let w=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,u)}),n[l].isActive=u;const c=o(l);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=sp()}}}function lE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Q0(t,e):!1}function Un(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sp(){return{animate:Un(!0),whileInView:Un(),whileHover:Un(),whileTap:Un(),whileDrag:Un(),whileFocus:Un(),exit:Un()}}class Mn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class uE extends Mn{constructor(t){super(t),t.animationState||(t.animationState=aE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fa(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cE=0;class dE extends Mn{constructor(){super(...arguments),this.id=cE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hE={animation:{Feature:uE},exit:{Feature:dE}};function Ti(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Vi(e){return{point:{x:e.pageX,y:e.pageY}}}const fE=e=>t=>Wd(t)&&e(t,Vi(t));function Ys(e,t,n,r){return Ti(e,t,fE(n),r)}const X0=1e-4,pE=1-X0,mE=1+X0,Z0=.01,gE=0-Z0,yE=0+Z0;function Fe(e){return e.max-e.min}function vE(e,t,n){return Math.abs(e-t)<=n}function ip(e,t,n,r=.5){e.origin=r,e.originPoint=ue(t.min,t.max,e.origin),e.scale=Fe(n)/Fe(t),e.translate=ue(n.min,n.max,e.origin)-e.originPoint,(e.scale>=pE&&e.scale<=mE||isNaN(e.scale))&&(e.scale=1),(e.translate>=gE&&e.translate<=yE||isNaN(e.translate))&&(e.translate=0)}function Xs(e,t,n,r){ip(e.x,t.x,n.x,r?r.originX:void 0),ip(e.y,t.y,n.y,r?r.originY:void 0)}function op(e,t,n){e.min=n.min+t.min,e.max=e.min+Fe(t)}function wE(e,t,n){op(e.x,t.x,n.x),op(e.y,t.y,n.y)}function ap(e,t,n){e.min=t.min-n.min,e.max=e.min+Fe(t)}function Zs(e,t,n){ap(e.x,t.x,n.x),ap(e.y,t.y,n.y)}function gt(e){return[e("x"),e("y")]}const ev=({current:e})=>e?e.ownerDocument.defaultView:null,lp=(e,t)=>Math.abs(e-t);function xE(e,t){const n=lp(e.x,t.x),r=lp(e.y,t.y);return Math.sqrt(n**2+r**2)}class tv{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Al(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=xE(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:w}=h,{timestamp:x}=Ae;this.history.push({...w,timestamp:x});const{onStart:y,onMove:m}=this.handlers;p||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Pl(p,this.transformPagePoint),oe.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Al(h.type==="pointercancel"?this.lastMoveEventInfo:Pl(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,y),w&&w(h,y)},!Wd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Vi(t),l=Pl(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Ae;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,Al(l,this.history)),this.removeListeners=Li(Ys(this.contextWindow,"pointermove",this.handlePointerMove),Ys(this.contextWindow,"pointerup",this.handlePointerUp),Ys(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),On(this.updatePoint)}}function Pl(e,t){return t?{point:t(e.point)}:e}function up(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Al({point:e},t){return{point:e,delta:up(e,nv(t)),offset:up(e,bE(t)),velocity:_E(t,.1)}}function bE(e){return e[0]}function nv(e){return e[e.length-1]}function _E(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=nv(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>zt(t)));)n--;if(!r)return{x:0,y:0};const i=xt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function kE(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ue(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ue(n,e,r.max):Math.min(e,n)),e}function cp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function SE(e,{top:t,left:n,bottom:r,right:s}){return{x:cp(e.x,n,s),y:cp(e.y,t,r)}}function dp(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function EE(e,t){return{x:dp(e.x,t.x),y:dp(e.y,t.y)}}function TE(e,t){let n=.5;const r=Fe(e),s=Fe(t);return s>r?n=bi(t.min,t.max-r,e.min):r>s&&(n=bi(e.min,e.max-s,t.min)),nn(0,1,n)}function jE(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const uc=.35;function CE(e=uc){return e===!1?e=0:e===!0&&(e=uc),{x:hp(e,"left","right"),y:hp(e,"top","bottom")}}function hp(e,t,n){return{min:fp(e,t),max:fp(e,n)}}function fp(e,t){return typeof e=="number"?e:e[t]||0}const PE=new WeakMap;class AE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vi(d).point)},o=(d,h)=>{const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lk(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gt(y=>{let m=this.getAxisMotionValue(y).get()||0;if(Bt.test(m)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[y];b&&(m=Fe(b)*(parseFloat(m)/100))}}this.originPoint[y]=m}),w&&oe.postRender(()=>w(d,h)),ac(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=h;if(v&&this.currentDirection===null){this.currentDirection=RE(y),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>gt(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new tv(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:ev(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&oe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ho(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=kE(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&Fr(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=SE(r.layoutBox,t):this.constraints=!1,this.elastic=CE(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=jE(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=OS(r,s.root,this.visualElement.getTransformPagePoint());let o=EE(s.layout.layoutBox,i);if(n){const a=n(PS(o));this.hasMutatedConstraints=!!a,a&&(o=V0(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=gt(c=>{if(!ho(c,n,this.currentDirection))return;let d=l&&l[c]||{};o&&(d={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,v={type:"inertia",velocity:r?t[c]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ac(this.visualElement,t),r.start(eh(t,r,0,n,this.visualElement,!1))}stopAnimation(){gt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){gt(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){gt(n=>{const{drag:r}=this.getProps();if(!ho(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-ue(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};gt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=TE({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gt(o=>{if(!ho(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(ue(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;PE.set(this.visualElement,this);const t=this.visualElement.current,n=Ys(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Fr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),oe.read(r);const o=Ti(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(gt(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=uc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function ho(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function RE(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class OE extends Mn{constructor(t){super(t),this.removeGroupControls=_t,this.removeListeners=_t,this.controls=new AE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_t}unmount(){this.removeGroupControls(),this.removeListeners()}}const pp=e=>(t,n)=>{e&&oe.postRender(()=>e(t,n))};class NE extends Mn{constructor(){super(...arguments),this.removePointerDownListener=_t}onPointerDown(t){this.session=new tv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ev(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:pp(t),onStart:pp(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&oe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ys(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Os={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=mp(e,t.target.x),r=mp(e,t.target.y);return`${n}% ${r}%`}},IE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Nn.parse(e);if(s.length>5)return r;const i=Nn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=ue(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};let Rl=!1;class DE extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;rS(LE),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Rl&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Vo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,Rl=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||oe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Fd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Rl=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rv(e){const[t,n]=E0(),r=E.useContext(bd);return f.jsx(DE,{...e,layoutGroup:r,switchLayoutGroup:E.useContext(M0),isPresent:t,safeToRemove:n})}const LE={borderRadius:{...Os,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Os,borderTopRightRadius:Os,borderBottomLeftRadius:Os,borderBottomRightRadius:Os,boxShadow:IE};function ME(e,t,n){const r=$e(e)?e:ls(e);return r.start(eh("",r,t,n)),r.animation}const $E=(e,t)=>e.depth-t.depth;class VE{constructor(){this.children=[],this.isDirty=!1}add(t){Sd(this.children,t),this.isDirty=!0}remove(t){Ed(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($E),this.isDirty=!1,this.children.forEach(t)}}function UE(e,t){const n=Ze.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(On(r),e(i-t))};return oe.setup(r,!0),()=>On(r)}const sv=["TopLeft","TopRight","BottomLeft","BottomRight"],zE=sv.length,gp=e=>typeof e=="string"?parseFloat(e):e,yp=e=>typeof e=="number"||U.test(e);function BE(e,t,n,r,s,i){s?(e.opacity=ue(0,n.opacity??1,FE(r)),e.opacityExit=ue(t.opacity??1,0,WE(r))):i&&(e.opacity=ue(t.opacity??1,n.opacity??1,r));for(let o=0;o<zE;o++){const a=`border${sv[o]}Radius`;let l=vp(t,a),u=vp(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||yp(l)===yp(u)?(e[a]=Math.max(ue(gp(l),gp(u),r),0),(Bt.test(u)||Bt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=ue(t.rotate||0,n.rotate||0,r))}function vp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FE=iv(0,.5,Hy),WE=iv(.5,.95,_t);function iv(e,t,n){return r=>r<e?0:r>t?1:n(bi(e,t,r))}function wp(e,t){e.min=t.min,e.max=t.max}function mt(e,t){wp(e.x,t.x),wp(e.y,t.y)}function xp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function bp(e,t,n,r,s){return e-=t,e=ga(e,1/n,r),s!==void 0&&(e=ga(e,1/s,r)),e}function HE(e,t=0,n=1,r=.5,s,i=e,o=e){if(Bt.test(t)&&(t=parseFloat(t),t=ue(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=ue(i.min,i.max,r);e===i&&(a-=t),e.min=bp(e.min,t,n,a,s),e.max=bp(e.max,t,n,a,s)}function _p(e,t,[n,r,s],i,o){HE(e,t[n],t[r],t[s],t.scale,i,o)}const KE=["x","scaleX","originX"],GE=["y","scaleY","originY"];function kp(e,t,n,r){_p(e.x,t,KE,n?n.x:void 0,r?r.x:void 0),_p(e.y,t,GE,n?n.y:void 0,r?r.y:void 0)}function Sp(e){return e.translate===0&&e.scale===1}function ov(e){return Sp(e.x)&&Sp(e.y)}function Ep(e,t){return e.min===t.min&&e.max===t.max}function qE(e,t){return Ep(e.x,t.x)&&Ep(e.y,t.y)}function Tp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function av(e,t){return Tp(e.x,t.x)&&Tp(e.y,t.y)}function jp(e){return Fe(e.x)/Fe(e.y)}function Cp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class JE{constructor(){this.members=[]}add(t){Sd(this.members,t),t.scheduleRender()}remove(t){if(Ed(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QE(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:h,skewX:p,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),p&&(r+=`skewX(${p}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ol=["","X","Y","Z"],YE=1e3;let XE=0;function Nl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function lv(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=G0(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",oe,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&lv(r)}function uv({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=XE++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tT),this.nodes.forEach(iT),this.nodes.forEach(oT),this.nodes.forEach(nT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new VE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=S0(o)&&!Bk(o),this.instance=o;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,d=0;const h=()=>this.root.updateBlockedByResize=!1;oe.read(()=>{d=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,c&&c(),c=UE(h,250),Vo.hasAnimatedSinceResize&&(Vo.hasAnimatedSinceResize=!1,this.nodes.forEach(Rp)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||dT,{onLayoutAnimationStart:w,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!av(this.targetLayout,p),m=!d&&h;if(this.options.layoutRoot||this.resumeFrom||m||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...zd(v,"layout"),onPlay:w,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(c,m)}else d||Rp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),On(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pp);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ap);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sT),this.nodes.forEach(ZE),this.nodes.forEach(eT)):this.nodes.forEach(Ap),this.clearAllSnapshots();const a=Ze.now();Ae.delta=nn(0,1e3/60,a-Ae.timestamp),Ae.timestamp=a,Ae.isProcessing=!0,bl.update.process(Ae),bl.preRender.process(Ae),bl.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rT),this.sharedNodes.forEach(lT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,oe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){oe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fe(this.snapshot.measuredBox.x)&&!Fe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!ov(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||qn(this.latestValues)||c)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),hT(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return pe();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(fT))){const{scroll:c}=this.root;c&&(Wr(a.x,c.offset.x),Wr(a.y,c.offset.y))}return a}removeElementScroll(o){var l;const a=pe();if(mt(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&mt(a,o),Wr(a.x,d.offset.x),Wr(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=pe();mt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Hr(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),qn(c.latestValues)&&Hr(l,c.latestValues)}return qn(this.latestValues)&&Hr(l,this.latestValues),l}removeTransform(o){const a=pe();mt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!qn(u.latestValues))continue;rc(u.latestValues)&&u.updateSnapshot();const c=pe(),d=u.measurePageBox();mt(c,d),kp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return qn(this.latestValues)&&kp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),Zs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pe(),this.targetWithTransforms=pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mt(this.target,this.layout.layoutBox),z0(this.target,this.targetDelta)):mt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pe(),this.relativeTargetOrigin=pe(),Zs(this.relativeTargetOrigin,this.target,p.target),mt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rc(this.parent.latestValues)||U0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;mt(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;RS(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=pe());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xp(this.prevProjectionDelta.x,this.projectionDelta.x),xp(this.prevProjectionDelta.y,this.projectionDelta.y)),Xs(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!Cp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kr(),this.projectionDelta=Kr(),this.projectionDeltaWithTransform=Kr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=pe(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,x=this.getStack(),y=!x||x.members.length<=1,m=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(cT));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const _=b/1e3;Op(d.x,o.x,_),Op(d.y,o.y,_),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zs(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uT(this.relativeTarget,this.relativeTargetOrigin,h,_),g&&qE(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=pe()),mt(g,this.relativeTarget)),w&&(this.animationValues=c,BE(c,u,this.latestValues,_,m,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(On(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=oe.update(()=>{Vo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ls(0)),this.currentAnimation=ME(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&cv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||pe();const d=Fe(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Fe(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}mt(a,l),Hr(a,c),Xs(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new JE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Nl("z",o,u,this.animationValues);for(let c=0;c<Ol.length;c++)Nl(`rotate${Ol[c]}`,o,u,this.animationValues),Nl(`skew${Ol[c]}`,o,u,this.animationValues);o.render();for(const c in u)o.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=$o(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=$o(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!qn(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=QE(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),o.transform=d;const{x:h,y:p}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:o.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in Ei){if(c[v]===void 0)continue;const{correct:w,applyTo:x,isCSSVariable:y}=Ei[v],m=d==="none"?c[v]:w(c[v],u);if(x){const g=x.length;for(let b=0;b<g;b++)o[x[b]]=m}else y?this.options.visualElement.renderState.vars[v]=m:o[v]=m}this.options.layoutId&&(o.pointerEvents=u===this?$o(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Pp),this.root.sharedNodes.clear()}}}function ZE(e){e.updateLayout()}function eT(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?gt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],p=Fe(h);h.min=r[d].min,h.max=h.min+p}):cv(i,t.layoutBox,r)&&gt(d=>{const h=o?t.measuredBox[d]:t.layoutBox[d],p=Fe(r[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=Kr();Xs(a,r,t.layoutBox);const l=Kr();o?Xs(l,e.applyTransform(s,!0),t.measuredBox):Xs(l,r,t.layoutBox);const u=!ov(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const v=pe();Zs(v,t.layoutBox,h.layoutBox);const w=pe();Zs(w,r,p.layoutBox),av(v,w)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=v,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function tT(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rT(e){e.clearSnapshot()}function Pp(e){e.clearMeasurements()}function Ap(e){e.isLayoutDirty=!1}function sT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Rp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iT(e){e.resolveTargetDelta()}function oT(e){e.calcProjection()}function aT(e){e.resetSkewAndRotation()}function lT(e){e.removeLeadSnapshot()}function Op(e,t,n){e.translate=ue(t.translate,0,n),e.scale=ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Np(e,t,n,r){e.min=ue(t.min,n.min,r),e.max=ue(t.max,n.max,r)}function uT(e,t,n,r){Np(e.x,t.x,n.x,r),Np(e.y,t.y,n.y,r)}function cT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dT={duration:.45,ease:[.4,0,.1,1]},Ip=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Dp=Ip("applewebkit/")&&!Ip("chrome/")?Math.round:_t;function Lp(e){e.min=Dp(e.min),e.max=Dp(e.max)}function hT(e){Lp(e.x),Lp(e.y)}function cv(e,t,n){return e==="position"||e==="preserve-aspect"&&!vE(jp(t),jp(n),.2)}function fT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const pT=uv({attachResizeListener:(e,t)=>Ti(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Il={current:void 0},dv=uv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Il.current){const e=new pT({});e.mount(window),e.setOptions({layoutScroll:!0}),Il.current=e}return Il.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mT={pan:{Feature:NE},drag:{Feature:OE,ProjectionNode:dv,MeasureLayout:rv}};function Mp(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&oe.postRender(()=>i(t,Vi(t)))}class gT extends Mn{mount(){const{current:t}=this.node;t&&(this.unmount=Mk(t,(n,r)=>(Mp(this.node,r,"Start"),s=>Mp(this.node,s,"End"))))}unmount(){}}class yT extends Mn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Li(Ti(this.node.current,"focus",()=>this.onFocus()),Ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $p(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&oe.postRender(()=>i(t,Vi(t)))}class vT extends Mn{mount(){const{current:t}=this.node;t&&(this.unmount=zk(t,(n,r)=>($p(this.node,r,"Start"),(s,{success:i})=>$p(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cc=new WeakMap,Dl=new WeakMap,wT=e=>{const t=cc.get(e.target);t&&t(e)},xT=e=>{e.forEach(wT)};function bT({root:e,...t}){const n=e||document;Dl.has(n)||Dl.set(n,{});const r=Dl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(xT,{root:e,...t})),r[s]}function _T(e,t,n){const r=bT(t);return cc.set(e,n),r.observe(e),()=>{cc.delete(e),r.unobserve(e)}}const kT={some:0,all:1};class ST extends Mn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:kT[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),h=u?c:d;h&&h(l)};return _T(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ET(t,n))&&this.startObserver()}unmount(){}}function ET({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const TT={inView:{Feature:ST},tap:{Feature:vT},focus:{Feature:yT},hover:{Feature:gT}},jT={layout:{ProjectionNode:dv,MeasureLayout:rv}},CT={...hE,...TT,...mT,...jT},Z=CS(CT,zS),xr="e342997caa7411d20122efbf21285b51".trim(),br="https://api.themoviedb.org/3",Vp="https://image.tmdb.org/t/p/w500",PT="https://image.tmdb.org/t/p/w1280",Up={async getTrending(){return(await fetch(`${br}/trending/all/week?api_key=${xr}&language=es-ES`)).json()},async getPopular(e="movie",t=1){return(await fetch(`${br}/trending/${e}/day?api_key=${xr}&language=es-ES&page=${t}`)).json()},async getByGenre(e,t,n=1){return(await fetch(`${br}/discover/${e}?api_key=${xr}&language=es-ES&sort_by=popularity.desc&with_genres=${t}&page=${n}`)).json()},async search(e){return(await fetch(`${br}/search/multi?query=${e}&api_key=${xr}&language=es-ES&include_adult=false`)).json()},async getProviders(e,t){return(await fetch(`${br}/${e}/${t}/watch/providers?api_key=${xr}`)).json()},async getVideos(e,t){return(await fetch(`${br}/${e}/${t}/videos?api_key=${xr}&language=es-ES`)).json()}};function hv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=hv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function AT(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=hv(e))&&(r&&(r+=" "),r+=t);return r}const RT=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},OT=(e,t)=>({classGroupId:e,validator:t}),fv=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),ya="-",zp=[],NT="arbitrary..",IT=e=>{const t=LT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return DT(o);const a=o.split(ya),l=a[0]===""&&a.length>1?1:0;return pv(a,l,t)},getConflictingClassGroupIds:(o,a)=>{if(a){const l=r[o],u=n[o];return l?u?RT(u,l):l:u||zp}return n[o]||zp}}},pv=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],i=n.nextPart.get(s);if(i){const u=pv(e,t+1,i);if(u)return u}const o=n.validators;if(o===null)return;const a=t===0?e.join(ya):e.slice(t).join(ya),l=o.length;for(let u=0;u<l;u++){const c=o[u];if(c.validator(a))return c.classGroupId}},DT=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?NT+r:void 0})(),LT=e=>{const{theme:t,classGroups:n}=e;return MT(n,t)},MT=(e,t)=>{const n=fv();for(const r in e){const s=e[r];th(s,n,r,t)}return n},th=(e,t,n,r)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];$T(o,t,n,r)}},$T=(e,t,n,r)=>{if(typeof e=="string"){VT(e,t,n);return}if(typeof e=="function"){UT(e,t,n,r);return}zT(e,t,n,r)},VT=(e,t,n)=>{const r=e===""?t:mv(t,e);r.classGroupId=n},UT=(e,t,n,r)=>{if(BT(e)){th(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(OT(n,e))},zT=(e,t,n,r)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,l]=s[o];th(l,mv(t,a),n,r)}},mv=(e,t)=>{let n=e;const r=t.split(ya),s=r.length;for(let i=0;i<s;i++){const o=r[i];let a=n.nextPart.get(o);a||(a=fv(),n.nextPart.set(o,a)),n=a}return n},BT=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,FT=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},dc="!",Bp=":",WT=[],Fp=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),HT=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,a=0,l=0,u;const c=s.length;for(let w=0;w<c;w++){const x=s[w];if(o===0&&a===0){if(x===Bp){i.push(s.slice(l,w)),l=w+1;continue}if(x==="/"){u=w;continue}}x==="["?o++:x==="]"?o--:x==="("?a++:x===")"&&a--}const d=i.length===0?s:s.slice(l);let h=d,p=!1;d.endsWith(dc)?(h=d.slice(0,-1),p=!0):d.startsWith(dc)&&(h=d.slice(1),p=!0);const v=u&&u>l?u-l:void 0;return Fp(i,p,h,v)};if(t){const s=t+Bp,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):Fp(WT,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},KT=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],a=o[0]==="[",l=t.has(o);a||l?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},GT=e=>({cache:FT(e.cacheSize),parseClassName:HT(e),sortModifiers:KT(e),...IT(e)}),qT=/\s+/,JT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(qT);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{isExternal:d,modifiers:h,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:w}=n(c);if(d){l=c+(l.length>0?" "+l:l);continue}let x=!!w,y=r(x?v.substring(0,w):v);if(!y){if(!x){l=c+(l.length>0?" "+l:l);continue}if(y=r(v),!y){l=c+(l.length>0?" "+l:l);continue}x=!1}const m=h.length===0?"":h.length===1?h[0]:i(h).join(":"),g=p?m+dc:m,b=g+y;if(o.indexOf(b)>-1)continue;o.push(b);const _=s(y,x);for(let S=0;S<_.length;++S){const j=_[S];o.push(g+j)}l=c+(l.length>0?" "+l:l)}return l},QT=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=gv(n))&&(s&&(s+=" "),s+=r);return s},gv=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=gv(e[r]))&&(n&&(n+=" "),n+=t);return n},YT=(e,...t)=>{let n,r,s,i;const o=l=>{const u=t.reduce((c,d)=>d(c),e());return n=GT(u),r=n.cache.get,s=n.cache.set,i=a,a(l)},a=l=>{const u=r(l);if(u)return u;const c=JT(l,n);return s(l,c),c};return i=o,(...l)=>i(QT(...l))},XT=[],xe=e=>{const t=n=>n[e]||XT;return t.isThemeGetter=!0,t},yv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,vv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZT=/^\d+\/\d+$/,e2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,t2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=e=>ZT.test(e),F=e=>!!e&&!Number.isNaN(Number(e)),dn=e=>!!e&&Number.isInteger(Number(e)),Ll=e=>e.endsWith("%")&&F(e.slice(0,-1)),Ht=e=>e2.test(e),i2=()=>!0,o2=e=>t2.test(e)&&!n2.test(e),wv=()=>!1,a2=e=>r2.test(e),l2=e=>s2.test(e),u2=e=>!O(e)&&!N(e),c2=e=>vs(e,_v,wv),O=e=>yv.test(e),zn=e=>vs(e,kv,o2),Ml=e=>vs(e,m2,F),Wp=e=>vs(e,xv,wv),d2=e=>vs(e,bv,l2),fo=e=>vs(e,Sv,a2),N=e=>vv.test(e),Ns=e=>ws(e,kv),h2=e=>ws(e,g2),Hp=e=>ws(e,xv),f2=e=>ws(e,_v),p2=e=>ws(e,bv),po=e=>ws(e,Sv,!0),vs=(e,t,n)=>{const r=yv.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ws=(e,t,n=!1)=>{const r=vv.exec(e);return r?r[1]?t(r[1]):n:!1},xv=e=>e==="position"||e==="percentage",bv=e=>e==="image"||e==="url",_v=e=>e==="length"||e==="size"||e==="bg-size",kv=e=>e==="length",m2=e=>e==="number",g2=e=>e==="family-name",Sv=e=>e==="shadow",y2=()=>{const e=xe("color"),t=xe("font"),n=xe("text"),r=xe("font-weight"),s=xe("tracking"),i=xe("leading"),o=xe("breakpoint"),a=xe("container"),l=xe("spacing"),u=xe("radius"),c=xe("shadow"),d=xe("inset-shadow"),h=xe("text-shadow"),p=xe("drop-shadow"),v=xe("blur"),w=xe("perspective"),x=xe("aspect"),y=xe("ease"),m=xe("animate"),g=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...b(),N,O],S=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],k=()=>[N,O,l],A=()=>[_r,"full","auto",...k()],D=()=>[dn,"none","subgrid",N,O],K=()=>["auto",{span:["full",dn,N,O]},dn,N,O],je=()=>[dn,"auto",N,O],Ne=()=>["auto","min","max","fr",N,O],Ue=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ie=()=>["start","end","center","stretch","center-safe","end-safe"],Se=()=>["auto",...k()],G=()=>[_r,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],T=()=>[e,N,O],M=()=>[...b(),Hp,Wp,{position:[N,O]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",f2,c2,{size:[N,O]}],se=()=>[Ll,Ns,zn],X=()=>["","none","full",u,N,O],Q=()=>["",F,Ns,zn],rt=()=>["solid","dashed","dotted","double"],Ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[F,Ll,Hp,Wp],ks=()=>["","none",v,N,O],qe=()=>["none",F,N,O],Vn=()=>["none",F,N,O],yr=()=>[F,N,O],on=()=>[_r,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ht],breakpoint:[Ht],color:[i2],container:[Ht],"drop-shadow":[Ht],ease:["in","out","in-out"],font:[u2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ht],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ht],shadow:[Ht],spacing:["px",F],text:[Ht],"text-shadow":[Ht],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",_r,O,N,x]}],container:["container"],columns:[{columns:[F,O,N,a]}],"break-after":[{"break-after":g()}],"break-before":[{"break-before":g()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[dn,"auto",N,O]}],basis:[{basis:[_r,"full","auto",a,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[F,_r,"auto","initial","none",O]}],grow:[{grow:["",F,N,O]}],shrink:[{shrink:["",F,N,O]}],order:[{order:[dn,"first","last","none",N,O]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":je()}],"col-end":[{"col-end":je()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":je()}],"row-end":[{"row-end":je()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ne()}],"auto-rows":[{"auto-rows":Ne()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...Ue(),"normal"]}],"justify-items":[{"justify-items":[...Ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ie()]}],"align-content":[{content:["normal",...Ue()]}],"align-items":[{items:[...Ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ue()}],"place-items":[{"place-items":[...Ie(),"baseline"]}],"place-self":[{"place-self":["auto",...Ie()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:Se()}],mx:[{mx:Se()}],my:[{my:Se()}],ms:[{ms:Se()}],me:[{me:Se()}],mt:[{mt:Se()}],mr:[{mr:Se()}],mb:[{mb:Se()}],ml:[{ml:Se()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[a,"screen",...G()]}],"min-w":[{"min-w":[a,"screen","none",...G()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",n,Ns,zn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,N,Ml]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ll,O]}],"font-family":[{font:[h2,O,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,N,O]}],"line-clamp":[{"line-clamp":[F,"none",N,Ml]}],leading:[{leading:[i,...k()]}],"list-image":[{"list-image":["none",N,O]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",N,O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...rt(),"wavy"]}],"text-decoration-thickness":[{decoration:[F,"from-font","auto",N,zn]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[F,"auto",N,O]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",N,O]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",N,O]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},dn,N,O],radial:["",N,O],conic:[dn,N,O]},p2,d2]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...rt(),"hidden","none"]}],"divide-style":[{divide:[...rt(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...rt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[F,N,O]}],"outline-w":[{outline:["",F,Ns,zn]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",c,po,fo]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",d,po,fo]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[F,zn]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",h,po,fo]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[F,N,O]}],"mix-blend":[{"mix-blend":[...Ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[F]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[N,O]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[F]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",N,O]}],filter:[{filter:["","none",N,O]}],blur:[{blur:ks()}],brightness:[{brightness:[F,N,O]}],contrast:[{contrast:[F,N,O]}],"drop-shadow":[{"drop-shadow":["","none",p,po,fo]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",F,N,O]}],"hue-rotate":[{"hue-rotate":[F,N,O]}],invert:[{invert:["",F,N,O]}],saturate:[{saturate:[F,N,O]}],sepia:[{sepia:["",F,N,O]}],"backdrop-filter":[{"backdrop-filter":["","none",N,O]}],"backdrop-blur":[{"backdrop-blur":ks()}],"backdrop-brightness":[{"backdrop-brightness":[F,N,O]}],"backdrop-contrast":[{"backdrop-contrast":[F,N,O]}],"backdrop-grayscale":[{"backdrop-grayscale":["",F,N,O]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[F,N,O]}],"backdrop-invert":[{"backdrop-invert":["",F,N,O]}],"backdrop-opacity":[{"backdrop-opacity":[F,N,O]}],"backdrop-saturate":[{"backdrop-saturate":[F,N,O]}],"backdrop-sepia":[{"backdrop-sepia":["",F,N,O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",N,O]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[F,"initial",N,O]}],ease:[{ease:["linear","initial",y,N,O]}],delay:[{delay:[F,N,O]}],animate:[{animate:["none",m,N,O]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,N,O]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:Vn()}],"scale-x":[{"scale-x":Vn()}],"scale-y":[{"scale-y":Vn()}],"scale-z":[{"scale-z":Vn()}],"scale-3d":["scale-3d"],skew:[{skew:yr()}],"skew-x":[{"skew-x":yr()}],"skew-y":[{"skew-y":yr()}],transform:[{transform:[N,O,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:on()}],"translate-x":[{"translate-x":on()}],"translate-y":[{"translate-y":on()}],"translate-z":[{"translate-z":on()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",N,O]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",N,O]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[F,Ns,zn,Ml]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},v2=YT(y2);function nh(...e){return v2(AT(e))}const Ev=({children:e,className:t,...n})=>f.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:nh("bg-white/5 backdrop-blur-2xl border border-white/10 shadow-[0_8px_32px_0_rgba(0,0,0,0.36)]",t),...n,children:e}),va=({children:e,className:t,variant:n="primary",...r})=>f.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:nh("backdrop-blur-md border transition-all duration-300 shadow-lg flex items-center justify-center gap-2",n==="primary"&&"bg-white text-black hover:bg-white/90 border-white/20",n==="glass"&&"bg-white/10 text-white hover:bg-white/20 border-white/10",n==="danger"&&"bg-red-500/80 text-white hover:bg-red-600 border-red-500/50",t),...r,children:e}),$l=({children:e,className:t})=>f.jsx("span",{className:nh("px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider text-white/90 bg-white/10 border border-white/10 backdrop-blur-md",t),children:e});var hc=function(e,t){return hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},hc(e,t)};function Tv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hc(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var wa=function(){return wa=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wa.apply(this,arguments)};function xs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function jv(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}function Cv(e,t){return function(n,r){t(n,r,e)}}function Pv(e,t,n,r,s,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?r.static?e:e.prototype:null,c=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),d,h=!1,p=n.length-1;p>=0;p--){var v={};for(var w in r)v[w]=w==="access"?{}:r[w];for(var w in r.access)v.access[w]=r.access[w];v.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var x=(0,n[p])(a==="accessor"?{get:c.get,set:c.set}:c[l],v);if(a==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(d=o(x.get))&&(c.get=d),(d=o(x.set))&&(c.set=d),(d=o(x.init))&&s.unshift(d)}else(d=o(x))&&(a==="field"?s.unshift(d):c[l]=d)}u&&Object.defineProperty(u,r.name,c),h=!0}function Av(e,t,n){for(var r=arguments.length>2,s=0;s<t.length;s++)n=r?t[s].call(e,n):t[s].call(e);return r?n:void 0}function Rv(e){return typeof e=="symbol"?e:"".concat(e)}function Ov(e,t,n){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function Nv(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function I(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function Iv(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,s=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],s=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Ha=Object.create?function(e,t,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(t,n);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,s)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]};function Dv(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&Ha(t,e,n)}function xa(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rh(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return i}function Lv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rh(arguments[t]));return e}function Mv(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),s=0,t=0;t<n;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)r[s]=i[o];return r}function $v(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function cs(e){return this instanceof cs?(this.v=e,this):new cs(e)}function Vv(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(p){return function(v){return Promise.resolve(v).then(p,d)}}function a(p,v){r[p]&&(s[p]=function(w){return new Promise(function(x,y){i.push([p,w,x,y])>1||l(p,w)})},v&&(s[p]=v(s[p])))}function l(p,v){try{u(r[p](v))}catch(w){h(i[0][3],w)}}function u(p){p.value instanceof cs?Promise.resolve(p.value.v).then(c,d):h(i[0][2],p)}function c(p){l("next",p)}function d(p){l("throw",p)}function h(p,v){p(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Uv(e){var t,n;return t={},r("next"),r("throw",function(s){throw s}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(s,i){t[s]=e[s]?function(o){return(n=!n)?{value:cs(e[s](o)),done:!1}:i?i(o):o}:i}}function zv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof xa=="function"?xa(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function Bv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var w2=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},fc=function(e){return fc=Object.getOwnPropertyNames||function(t){var n=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[n.length]=r);return n},fc(e)};function Fv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n=fc(e),r=0;r<n.length;r++)n[r]!=="default"&&Ha(t,e,n[r]);return w2(t,e),t}function Wv(e){return e&&e.__esModule?e:{default:e}}function Hv(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Kv(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n}function Gv(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function qv(e,t,n){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var r,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var x2=typeof SuppressedError=="function"?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function Jv(e){function t(i){e.error=e.hasError?new x2(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var n,r=0;function s(){for(;n=e.stack.pop();)try{if(!n.async&&r===1)return r=0,e.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else r|=1}catch(o){t(o)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Qv(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,s,i,o){return r?t?".jsx":".js":s&&(!i||!o)?n:s+i+"."+o.toLowerCase()+"js"}):e}const b2={__extends:Tv,__assign:wa,__rest:xs,__decorate:jv,__param:Cv,__esDecorate:Pv,__runInitializers:Av,__propKey:Rv,__setFunctionName:Ov,__metadata:Nv,__awaiter:I,__generator:Iv,__createBinding:Ha,__exportStar:Dv,__values:xa,__read:rh,__spread:Lv,__spreadArrays:Mv,__spreadArray:$v,__await:cs,__asyncGenerator:Vv,__asyncDelegator:Uv,__asyncValues:zv,__makeTemplateObject:Bv,__importStar:Fv,__importDefault:Wv,__classPrivateFieldGet:Hv,__classPrivateFieldSet:Kv,__classPrivateFieldIn:Gv,__addDisposableResource:qv,__disposeResources:Jv,__rewriteRelativeImportExtension:Qv},_2=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:qv,get __assign(){return wa},__asyncDelegator:Uv,__asyncGenerator:Vv,__asyncValues:zv,__await:cs,__awaiter:I,__classPrivateFieldGet:Hv,__classPrivateFieldIn:Gv,__classPrivateFieldSet:Kv,__createBinding:Ha,__decorate:jv,__disposeResources:Jv,__esDecorate:Pv,__exportStar:Dv,__extends:Tv,__generator:Iv,__importDefault:Wv,__importStar:Fv,__makeTemplateObject:Bv,__metadata:Nv,__param:Cv,__propKey:Rv,__read:rh,__rest:xs,__rewriteRelativeImportExtension:Qv,__runInitializers:Av,__setFunctionName:Ov,__spread:Lv,__spreadArray:$v,__spreadArrays:Mv,__values:xa,default:b2},Symbol.toStringTag,{value:"Module"})),k2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class sh extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class S2 extends sh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Kp extends sh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gp extends sh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pc||(pc={}));class E2{constructor(t,{headers:n={},customFetch:r,region:s=pc.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=k2(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return I(this,arguments,void 0,function*(n,r={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:d}=r;let h={},{region:p}=r;p||(p=this.region);const v=new URL(`${this.url}/${n}`);p&&p!=="any"&&(h["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let x=c;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),c?(x=o.signal,c.addEventListener("abort",()=>o.abort())):x=o.signal);const y=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:x}).catch(_=>{throw new S2(_)}),m=y.headers.get("x-relay-error");if(m&&m==="true")throw new Kp(y);if(!y.ok)throw new Gp(y);let g=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return g==="application/json"?b=yield y.json():g==="application/octet-stream"||g==="application/pdf"?b=yield y.blob():g==="text/event-stream"?b=y:g==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof Gp||a instanceof Kp?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Be={};const bs=Ww(_2);var mo={},go={},yo={},vo={},wo={},xo={},qp;function Yv(){if(qp)return xo;qp=1,Object.defineProperty(xo,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return xo.default=e,xo}var Jp;function Xv(){if(Jp)return wo;Jp=1,Object.defineProperty(wo,"__esModule",{value:!0});const t=bs.__importDefault(Yv());class n{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,d,h;let p=null,v=null,w=null,x=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const _=await l.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=_:v=JSON.parse(_))}const g=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),b=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");g&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(p={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,x=406,y="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const g=await l.text();try{p=JSON.parse(g),Array.isArray(p)&&l.status===404&&(v=[],p=null,x=200,y="OK")}catch{l.status===404&&g===""?(x=204,y="No Content"):p={message:g}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,x=200,y="OK"),p&&this.shouldThrowOnError)throw new t.default(p)}return{error:p,data:v,count:w,status:x,statusText:y}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,d,h,p,v;let w="";const x=l==null?void 0:l.cause;if(x){const y=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",m=(c=x==null?void 0:x.code)!==null&&c!==void 0?c:"";w=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${y}`,m&&(w+=` (${m})`),x!=null&&x.stack&&(w+=`
${x.stack}`)}else w=(p=l==null?void 0:l.stack)!==null&&p!==void 0?p:"";return{error:{message:`${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return wo.default=n,wo}var Qp;function Zv(){if(Qp)return vo;Qp=1,Object.defineProperty(vo,"__esModule",{value:!0});const t=bs.__importDefault(Xv());class n extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return vo.default=n,vo}var Yp;function ih(){if(Yp)return yo;Yp=1,Object.defineProperty(yo,"__esModule",{value:!0});const t=bs.__importDefault(Zv()),n=new RegExp("[,()]");class r extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return yo.default=r,yo}var Xp;function ew(){if(Xp)return go;Xp=1,Object.defineProperty(go,"__esModule",{value:!0});const t=bs.__importDefault(ih());class n{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(d=>/\s/.test(d)&&!u?"":(d==='"'&&(u=!u),d)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return go.default=n,go}var Zp;function T2(){if(Zp)return mo;Zp=1,Object.defineProperty(mo,"__esModule",{value:!0});const e=bs,t=e.__importDefault(ew()),n=e.__importDefault(ih());class r{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new r(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let d;const h=new URL(`${this.url}/rpc/${i}`);let p;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([w,x])=>x!==void 0).map(([w,x])=>[w,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([w,x])=>{h.searchParams.append(w,x)})):(d="POST",p=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new n.default({method:d,url:h,headers:v,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return mo.default=r,mo}Object.defineProperty(Be,"__esModule",{value:!0});var tw=Be.PostgrestError=dw=Be.PostgrestBuilder=uw=Be.PostgrestTransformBuilder=aw=Be.PostgrestFilterBuilder=iw=Be.PostgrestQueryBuilder=rw=Be.PostgrestClient=void 0;const _s=bs,nw=_s.__importDefault(T2());var rw=Be.PostgrestClient=nw.default;const sw=_s.__importDefault(ew());var iw=Be.PostgrestQueryBuilder=sw.default;const ow=_s.__importDefault(ih());var aw=Be.PostgrestFilterBuilder=ow.default;const lw=_s.__importDefault(Zv());var uw=Be.PostgrestTransformBuilder=lw.default;const cw=_s.__importDefault(Xv());var dw=Be.PostgrestBuilder=cw.default;const hw=_s.__importDefault(Yv());tw=Be.PostgrestError=hw.default;var fw=Be.default={PostgrestClient:nw.default,PostgrestQueryBuilder:sw.default,PostgrestFilterBuilder:ow.default,PostgrestTransformBuilder:lw.default,PostgrestBuilder:cw.default,PostgrestError:hw.default};const j2=Bw({__proto__:null,get PostgrestBuilder(){return dw},get PostgrestClient(){return rw},get PostgrestError(){return tw},get PostgrestFilterBuilder(){return aw},get PostgrestQueryBuilder(){return iw},get PostgrestTransformBuilder(){return uw},default:fw},[Be]),{PostgrestClient:C2,PostgrestQueryBuilder:rP,PostgrestFilterBuilder:sP,PostgrestTransformBuilder:iP,PostgrestBuilder:oP,PostgrestError:aP}=fw||j2;class P2{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const A2="2.84.0",R2=`realtime-js/${A2}`,pw="1.0.0",O2="2.0.0",em=pw,mc=1e4,N2=1e3,I2=100;var Qn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qn||(Qn={}));var be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(be||(be={}));var Rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rt||(Rt={}));var gc;(function(e){e.websocket="websocket"})(gc||(gc={}));var Yn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yn||(Yn={}));class D2{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r,s,i;const o=t.topic,a=(n=t.ref)!==null&&n!==void 0?n:"",l=(r=t.join_ref)!==null&&r!==void 0?r:"",u=t.payload.event,c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let p=new DataView(h),v=0;p.setUint8(v++,this.KINDS.userBroadcastPush),p.setUint8(v++,l.length),p.setUint8(v++,a.length),p.setUint8(v++,o.length),p.setUint8(v++,u.length),p.setUint8(v++,this.BINARY_ENCODING),Array.from(l,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(a,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>p.setUint8(v++,x.charCodeAt(0))),Array.from(u,x=>p.setUint8(v++,x.charCodeAt(0)));var w=new Uint8Array(h.byteLength+c.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(c),h.byteLength),w.buffer}_encodeJsonUserBroadcastPush(t){var n,r,s,i;const o=t.topic,a=(n=t.ref)!==null&&n!==void 0?n:"",l=(r=t.join_ref)!==null&&r!==void 0?r:"",u=t.payload.event,c=(i=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+u.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let w=new DataView(v),x=0;w.setUint8(x++,this.KINDS.userBroadcastPush),w.setUint8(x++,l.length),w.setUint8(x++,a.length),w.setUint8(x++,o.length),w.setUint8(x++,u.length),w.setUint8(x++,this.JSON_ENCODING),Array.from(l,m=>w.setUint8(x++,m.charCodeAt(0))),Array.from(a,m=>w.setUint8(x++,m.charCodeAt(0))),Array.from(o,m=>w.setUint8(x++,m.charCodeAt(0))),Array.from(u,m=>w.setUint8(x++,m.charCodeAt(0)));var y=new Uint8Array(v.byteLength+h.byteLength);return y.set(new Uint8Array(v),0),y.set(new Uint8Array(h),v.byteLength),y.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,o,a,l]=r;return n({join_ref:s,ref:i,topic:o,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const c=r.decode(t.slice(l,l+i));l=l+i;const d=r.decode(t.slice(l,l+o));l=l+o;const h=t.slice(l,t.byteLength),p=a===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,v={type:this.BROADCAST_EVENT,event:c,payload:p};return o>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}class mw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const tm=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=L2(o,e,t,s),i),{}):{}},L2=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?gw(i,o):yc(o)},gw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return U2(t,n)}switch(e){case ee.bool:return M2(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return $2(t);case ee.json:case ee.jsonb:return V2(t);case ee.timestamp:return z2(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return yc(t);default:return yc(t)}},yc=e=>e,M2=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},$2=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},V2=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},U2=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>gw(t,a))}return e},z2=e=>typeof e=="string"?e.replace(" ","T"):e,yw=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vl{constructor(t,n,r={},s=mc){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nm||(nm={}));class ei{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ei.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=ei.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ei.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const h=c.map(x=>x.presence_ref),p=d.map(x=>x.presence_ref),v=c.filter(x=>p.indexOf(x.presence_ref)<0),w=d.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(p=>p.presence_ref),h=c.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...h)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rm||(rm={}));var ti;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ti||(ti={}));var Gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gt||(Gt={}));class oh{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Vl(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new mw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new ei(this),this.broadcastEndpointURL=yw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ti.PRESENCE]&&this.bindings[ti.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Gt.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Gt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(Gt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,y=[];for(let m=0;m<x;m++){const g=w[m],{filter:{event:b,schema:_,table:S,filter:j}}=g,k=p&&p[m];if(k&&k.event===b&&k.schema===_&&k.table===S&&k.filter===j)y.push(Object.assign(Object.assign({},g),{id:k.id}));else{this.unsubscribe(),this.state=be.errored,t==null||t(Gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Gt.SUBSCRIBED);return}}).receive("error",p=>{this.state=be.errored,t==null||t(Gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===be.joined&&t===ti.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Vl(this,Rt.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vl(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>I2){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Rt;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,w,x;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(w=p.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,w,x,y,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const b=p.id,_=(v=p.filter)===null||v===void 0?void 0:v.event;return b&&((w=n.ids)===null||w===void 0?void 0:w.includes(b))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:w,table:x,commit_timestamp:y,type:m,errors:g}=v;h=Object.assign(Object.assign({},{schema:w,table:x,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}p.callback(h,r)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&oh.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rt.close,{},t)}_onError(t){this._on(Rt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=tm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=tm(t.columns,t.old_record)),n}}const Ul=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},B2=[1e3,2e3,5e3,1e4],F2=1e4,W2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class H2{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mc,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ul,this.ref=0,this.reconnectTimer=null,this.vsn=em,this.logger=Ul,this.conn=null,this.sendBuffer=[],this.serializer=new D2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${gc.websocket}`,this.httpEndpoint=yw(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P2.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qn.connecting:return Yn.Connecting;case Qn.open:return Yn.Open;case Qn.closing:return Yn.Closing;default:return Yn.Closed}}isConnected(){return this.connectionState()===Yn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new oh(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(N2,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qn.open||this.conn.readyState===Qn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([W2],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:R2};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new mw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,c,d,h,p;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:mc,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:bo.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ul,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:em,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>B2[v-1]||F2,this.vsn){case pw:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,w)=>w(JSON.parse(v));break;case O2:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ah extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class K2 extends ah{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vc extends ah{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}const lh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G2=()=>Response,wc=e=>{if(Array.isArray(e))return e.map(n=>wc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=wc(r)}),t},q2=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zl=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},J2=(e,t,n)=>I(void 0,void 0,void 0,function*(){const r=yield G2();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new K2(zl(s),i,o))}).catch(s=>{t(new vc(zl(s),s))}):t(new vc(zl(e),e))}),Q2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(q2(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Ui(e,t,n,r,s,i){return I(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,Q2(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>J2(l,a,r))})})}function ji(e,t,n,r){return I(this,void 0,void 0,function*(){return Ui(e,"GET",t,n,r)})}function Pt(e,t,n,r,s){return I(this,void 0,void 0,function*(){return Ui(e,"POST",t,r,s,n)})}function xc(e,t,n,r,s){return I(this,void 0,void 0,function*(){return Ui(e,"PUT",t,r,s,n)})}function Y2(e,t,n,r){return I(this,void 0,void 0,function*(){return Ui(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uh(e,t,n,r,s){return I(this,void 0,void 0,function*(){return Ui(e,"DELETE",t,r,s,n)})}class X2{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return I(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}}var vw;class Z2{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[vw]="BlobDownloadBuilder",this.promise=null}asStream(){return new X2(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return I(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ae(t))return{data:null,error:t};throw t}})}}vw=Symbol.toStringTag;const ej={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class tj{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=lh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return I(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},sm),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(t=="PUT"?xc:Pt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ae(i))return{data:null,error:i};throw i}})}upload(t,n,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return I(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:sm.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield xc(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return I(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ah("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}update(t,n,r){return I(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return I(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}copy(t,n,r){return I(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return I(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return I(this,void 0,void 0,function*(){try{const s=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>ji(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Z2(l,this.shouldThrowOnError)}info(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ji(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:wc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}exists(t){return I(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield Y2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r)&&r instanceof vc){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return I(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}list(t,n,r){return I(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ej),n),{prefix:t||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}listV2(t,n){return I(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ww="2.84.0",xw={"X-Client-Info":`storage-js/${ww}`};class nj{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xw),n),this.fetch=lh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(t);return{data:yield ji(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}createBucket(t){return I(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ae(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield xc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(t){const n={};return t&&("limit"in t&&(n.limit=String(t.limit)),"offset"in t&&(n.offset=String(t.offset)),t.search&&(n.search=t.search),t.sortColumn&&(n.sortColumn=t.sortColumn),t.sortOrder&&(n.sortOrder=t.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class rj{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xw),n),this.fetch=lh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}listBuckets(t){return I(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),s=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield ji(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ae(n))return{data:null,error:n};throw n}})}}const ch={"X-Client-Info":`storage-js/${ww}`,"Content-Type":"application/json"};class bw extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function at(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Bl extends bw{constructor(t,n,r){super(t),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sj extends bw{constructor(t,n){super(t),this.name="StorageVectorsUnknownError",this.originalError=n}}var im;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(im||(im={}));const dh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ij=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},om=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oj=(e,t,n)=>I(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Bl(om(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Bl(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Bl(a,s,o))}}else t(new sj(om(e),e))}),aj=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(ij(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Object.assign(Object.assign({},s),n)):s};function lj(e,t,n,r,s,i){return I(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,aj(t,r,s,i)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>oj(l,a,r))})})}function lt(e,t,n,r,s){return I(this,void 0,void 0,function*(){return lj(e,"POST",t,r,s,n)})}class uj{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ch),n),this.fetch=dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}getIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}listIndexes(t){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}deleteIndex(t,n){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(at(r))return{data:null,error:r};throw r}})}}class cj{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ch),n),this.fetch=dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return I(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}getVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}listVectors(t){return I(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield lt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}queryVectors(t){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}deleteVectors(t){return I(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield lt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}}class dj{constructor(t,n={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ch),n),this.fetch=dh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}getBucket(t){return I(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}listBuckets(){return I(this,arguments,void 0,function*(t={}){try{return{data:yield lt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}deleteBucket(t){return I(this,void 0,void 0,function*(){try{return{data:(yield lt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(at(n))return{data:null,error:n};throw n}})}}class hj extends dj{constructor(t,n={}){super(t,n.headers||{},n.fetch)}from(t){return new fj(this.url,this.headers,t,this.fetch)}}class fj extends uj{constructor(t,n,r,s){super(t,n,s),this.vectorBucketName=r}createIndex(t){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return I(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return I(this,arguments,void 0,function*(n={}){return t.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return I(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return I(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new pj(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class pj extends cj{constructor(t,n,r,s,i){super(t,n,i),this.vectorBucketName=r,this.indexName=s}putVectors(t){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return I(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return I(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return I(this,arguments,void 0,function*(n={}){return t.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return I(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return I(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class mj extends nj{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new tj(this.url,this.headers,t,this.fetch)}get vectors(){return new hj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rj(this.url+"/iceberg",this.headers,this.fetch)}}const gj="2.84.0";let Vs="";typeof Deno<"u"?Vs="deno":typeof document<"u"?Vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vs="react-native":Vs="node";const yj={"X-Client-Info":`supabase-js-${Vs}/${gj}`},vj={headers:yj},wj={schema:"public"},xj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bj={},_j=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kj=()=>Headers,Sj=(e,t,n)=>{const r=_j(n),s=kj();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))}};function Ej(e){return e.endsWith("/")?e:e+"/"}function Tj(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function jj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ej(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _w="2.84.0",Cr=30*1e3,bc=3,Fl=bc*Cr,Cj="http://localhost:9999",Pj="supabase.auth.token",Aj={"X-Client-Info":`gotrue-js/${_w}`},_c="X-Supabase-Api-Version",kw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oj=10*60*1e3;class Ci extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nj extends Ci{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Ij(e){return L(e)&&e.name==="AuthApiError"}class Xn extends Ci{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $n extends Ci{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class it extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dj(e){return L(e)&&e.name==="AuthSessionMissingError"}class kr extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _o extends $n{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ko extends $n{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Lj(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class am extends $n{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kc extends $n{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Wl(e){return L(e)&&e.name==="AuthRetryableFetchError"}class lm extends $n{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Sc extends $n{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),um=` 	
\r=`.split(""),Mj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<um.length;t+=1)e[um[t].charCodeAt(0)]=-2;for(let t=0;t<ba.length;t+=1)e[ba[t].charCodeAt(0)]=t;return e})();function cm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ba[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ba[r]),t.queuedBits-=6}}function Sw(e,t,n){const r=Mj[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function dm(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Uj(o,r,n)};for(let o=0;o<e.length;o+=1)Sw(e.charCodeAt(o),s,i);return t.join("")}function $j(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Vj(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$j(r,t)}}function Uj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function es(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Sw(e.charCodeAt(s),n,r);return new Uint8Array(t)}function zj(e){const t=[];return Vj(e,n=>t.push(n)),new Uint8Array(t)}function sr(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>cm(s,n,r)),cm(null,n,r),t.join("")}function Bj(e){return Math.round(Date.now()/1e3)+e}function Fj(){return Symbol("auth-callback")}const Ce=()=>typeof window<"u"&&typeof document<"u",Bn={tested:!1,writable:!1},Ew=()=>{if(!Ce())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bn.tested)return Bn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bn.tested=!0,Bn.writable=!0}catch{Bn.tested=!0,Bn.writable=!1}return Bn.writable};function Wj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Tw=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Hj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hn=async(e,t)=>{await e.removeItem(t)};class Ka{constructor(){this.promise=new Ka.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ka.promiseConstructor=Promise;function Hl(e){const t=e.split(".");if(t.length!==3)throw new Sc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Rj.test(t[r]))throw new Sc("JWT not in base64url format");return{header:JSON.parse(dm(t[0])),payload:JSON.parse(dm(t[1])),signature:es(t[2]),raw:{header:t[0],payload:t[1]}}}async function Kj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gj(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function qj(e){return("0"+e.toString(16)).substr(-2)}function Jj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,qj).join("")}async function Qj(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Yj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Qj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sr(e,t,n=!1){const r=Jj();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Pr(e,`${t}-code-verifier`,s);const i=await Yj(r);return[i,r===i?"plain":"s256"]}const Xj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zj(e){const t=e.headers.get(_c);if(!t||!t.match(Xj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Er(e){if(!nC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kl(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function rC(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function hm(e){return JSON.parse(JSON.stringify(e))}const Jn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sC=[502,503,504];async function fm(e){var t;if(!Hj(e))throw new kc(Jn(e),0);if(sC.includes(e.status))throw new kc(Jn(e),e.status);let n;try{n=await e.json()}catch(i){throw new Xn(Jn(i),i)}let r;const s=Zj(e);if(s&&s.getTime()>=kw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lm(Jn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new it}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new lm(Jn(n),e.status,n.weak_password.reasons);throw new Nj(Jn(n),e.status||500,r)}const iC=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[_c]||(i[_c]=kw["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await oC(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function oC(e,t,n,r,s,i){const o=iC(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new kc(Jn(l),0)}if(a.ok||await fm(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await fm(l)}}function Tt(e){var t;let n=null;uC(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Bj(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function pm(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function aC(e){return{data:e,error:null}}function lC(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=xs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function mm(e){return e}function uC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gl=["global","local","others"];class cC{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Tw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Gl[0]){if(Gl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gl.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=xs(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:lC,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mm});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Er(t);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Er(t);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Er(t);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vn})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Er(t.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Er(t.userId),Er(t.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await V(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mm});if(c.error)throw c.error;const d=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await V(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await V(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await V(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await V(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}}function gm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Tr={debug:!!(globalThis&&Ew()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dC extends jw{}async function hC(e,t,n){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function fC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Cw(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function pC(e){return parseInt(e,16)}function mC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function gC(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:d,version:h}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=Cw(e.address),v=c?`${c}://${r}`:r,w=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${p}

${w}`;let y=`URI: ${d}
Version: ${h}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}y+=m}return`${x}
${y}`}class ge extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class _a extends ge{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function yC({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Pw(o)){if(i.rp.id!==o)return new ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function vC({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Pw(r)){if(n.rpId!==r)return new ge({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class wC{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const xC=new wC;function bC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=xs(e,["challenge","user","excludeCredentials"]),i=es(t).buffer,o=Object.assign(Object.assign({},n),{id:es(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:es(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function _C(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=xs(e,["challenge","allowCredentials"]),s=es(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:es(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function kC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:sr(new Uint8Array(e.response.attestationObject)),clientDataJSON:sr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:sr(new Uint8Array(s.authenticatorData)),clientDataJSON:sr(new Uint8Array(s.clientDataJSON)),signature:sr(new Uint8Array(s.signature)),userHandle:s.userHandle?sr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pw(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ym(){var e,t;return!!(Ce()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function EC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",t)}:{data:null,error:new _a("Empty credential response",t)}}catch(t){return{data:null,error:yC({error:t,options:e})}}}async function TC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _a("Browser returned unexpected credential type",t)}:{data:null,error:new _a("Empty credential response",t)}}catch(t){return{data:null,error:vC({error:t,options:e})}}}const jC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},CC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ka(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=ka(a,o):r[i]=ka(o)}else r[i]=o}return r}function PC(e,t){return ka(jC,e,t||{})}function AC(e,t){return ka(CC,e,t||{})}class RC{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??xC.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=PC(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await EC({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=AC(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await TC(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ci("rpId is required for WebAuthn authentication")};try{if(!ym())return{data:null,error:new Xn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Ci("rpId is required for WebAuthn registration")};try{if(!ym())return{data:null,error:new Xn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return L(o)?{data:null,error:o}:{data:null,error:new Xn("Unexpected error in register",o)}}}}fC();const OC={url:Cj,storageKey:Pj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Aj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vm(e,t,n){return await n()}const jr={};class Pi{get jwks(){var t,n;return(n=(t=jr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=jr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},OC),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Pi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Pi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ce()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cC({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Tw(i.fetch),this.lock=i.lock||vm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ce()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hC:this.lock=vm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new RC(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Ew()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=gm(this.memoryStorage)),Ce()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${_w}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ce()&&(n=Wj(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ce()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Lj(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?this._returnResult({error:n}):this._returnResult({error:new Xn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Tt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:c,password:d,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Sr(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:Tt})}else if("phone"in t){const{phone:c,password:d,options:h}=t;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tt})}else throw new _o("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pm})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:pm})}else throw new _o("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new kr;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,c,d,h;let p,v;if("message"in t)p=t.message,v=t.signature;else{const{chain:w,wallet:x,statement:y,options:m}=t;let g;if(Ce())if(typeof x=="object")g=x;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")g=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=x}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),_=await g.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Cw(_[0]);let j=(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!j){const A=await g.request({method:"eth_chainId"});j=pC(A)}const k={domain:b.host,address:S,statement:y,uri:b.href,version:"1",chainId:j,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};p=gC(k),v=await g.request({method:"personal_sign",params:[mC(p),S]})}try{const{data:w,error:x}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tt});if(x)throw x;if(!w||!w.session||!w.user){const y=new kr;return this._returnResult({data:{user:null,session:null},error:y})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:x})}catch(w){if(L(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,c,d,h,p;let v,w;if("message"in t)v=t.message,w=t.signature;else{const{chain:x,wallet:y,statement:m,options:g}=t;let b;if(Ce())if(typeof y=="object")b=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))b=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const S=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:x,error:y}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:sr(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Tt});if(y)throw y;if(!x||!x.session||!x.user){const m=new kr;return this._returnResult({data:{user:null,session:null},error:m})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(L(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Tt});if(await hn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Tt}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new kr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Sr(this.storage,this.storageKey));const{error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new _o("You must provide either an email or phone number.")}catch(a){if(L(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Sr(this.storage,this.storageKey));const u=await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:aC});return!((i=u.data)===null||i===void 0)&&i.url&&Ce()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(L(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new it;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(L(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new _o("You must provide either an email or phone number and a type")}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Fl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Fn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Kl()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=rC(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new it}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vn})})}catch(n){if(L(n))return Dj(n)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new it;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Sr(this.storage,this.storageKey));const{data:u,error:c}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:vn});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(r){if(L(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new it;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Hl(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(L(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new it;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(L(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ce())throw new ko("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ko(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new am("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ko("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new am("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ko("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let h=c+d;l&&(h=parseInt(l));const p=h-c;p*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=h-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:w,error:x}=await this._getUser(i);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(L(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({error:i});const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ij(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Fj(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Sr(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ce()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(L(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=t,d=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Tt}),{data:h,error:p}=d;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new kr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(s){if(L(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Gj(async s=>(s>0&&await Kj(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Wl(i)&&Date.now()+o-r<Cr})}catch(r){if(this._debug(n,"error",r),L(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ce()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Fn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Pr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Kl()}else if(s&&!s.user&&!s.user){const o=await Fn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await hn(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,s)):s.user=Kl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Fl;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Fl}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Wl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new it;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ka;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new it;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={data:null,error:i};return Wl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=hm(s);await Pr(this.storage,this.storageKey,i)}else{const s=hm(n);await Pr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await hn(this.storage,this.storageKey),await hn(this.storage,this.storageKey+"-code-verifier"),await hn(this.storage,this.storageKey+"-user"),this.userStorage&&await hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ce()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cr}ms, refresh threshold is ${bc} ticks`),s<=bc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ce()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Sr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await V(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await V(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kC(t.webauthn.credential_response):SC(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await V(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:bC(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:_C(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Hl(r.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await V(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new it})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new it});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ce()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new it});const o=await V(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Ce()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await V(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new it})})}catch(t){if(L(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await V(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new it})})}catch(n){if(L(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+Oj>s)return r;const{data:i,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return this._returnResult({data:null,error:v});r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Hl(r);n!=null&&n.allowExpired||eC(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const c=tC(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,zj(`${a}.${l}`)))throw new Sc("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return this._returnResult({data:null,error:r});throw r}}}Pi.nextInstanceID={};const NC=Pi;class IC extends NC{constructor(t){super(t)}}class DC{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=jj(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:wj,realtime:bj,auth:Object.assign(Object.assign({},xj),{storageKey:l}),global:vj},c=Tj(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Sj(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new C2(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new mj(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new E2(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IC({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new H2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LC=(e,t,n)=>new DC(e,t,n);function MC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $C="https://gfxzsyqcdriojozxfwgt.supabase.co",VC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdmeHpzeXFjZHJpb2pvenhmd2d0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM4MzQxNzksImV4cCI6MjA3OTQxMDE3OX0.DJPZ7sV19w_4x5jFhoEVcpft-rPC6bnCJ_B80dayWV4",wn=LC($C,VC),Aw=E.createContext(),UC=({children:e})=>{const[t,n]=E.useState(null),[r,s]=E.useState(!0);E.useEffect(()=>{(async()=>{const{data:{session:c}}=await wn.auth.getSession();n((c==null?void 0:c.user)??null),s(!1)})();const{data:{subscription:u}}=wn.auth.onAuthStateChange((c,d)=>{n((d==null?void 0:d.user)??null)});return()=>u.unsubscribe()},[]);const i=async(l,u)=>{const{error:c}=await wn.auth.signInWithPassword({email:l,password:u});if(c)throw c},o=async(l,u)=>{const{error:c}=await wn.auth.signUp({email:l,password:u});if(c)throw c},a=async()=>{const{error:l}=await wn.auth.signOut();if(l)throw l};return f.jsx(Aw.Provider,{value:{user:t,signIn:i,signUp:o,signOut:a,loading:r},children:!r&&e})},hh=()=>E.useContext(Aw),zC=({movieId:e,movieTitle:t})=>{const[n,r]=E.useState([]),[s,i]=E.useState(""),[o,a]=E.useState(0),[l,u]=E.useState(0),[c,d]=E.useState(!0),[h,p]=E.useState(!1),{user:v}=hh();E.useEffect(()=>{w()},[e]);const w=async()=>{try{const{data:m,error:g}=await wn.from("reviews").select("*").eq("movie_id",e.toString()).order("created_at",{ascending:!1});if(g)throw g;r(m||[])}catch(m){console.error("Error fetching reviews:",m)}finally{d(!1)}},x=async m=>{if(m.preventDefault(),!(!s.trim()||o===0||!v)){p(!0);try{const{data:g,error:b}=await wn.from("reviews").insert([{movie_id:e.toString(),user_id:v.id,user_email:v.email,rating:o,comment:s}]).select();if(b)throw b;r([g[0],...n]),i(""),a(0)}catch(g){console.error("Error submitting review:",g),alert("Error al enviar la resea. Por favor, intntalo de nuevo.")}finally{p(!1)}}},y=async m=>{try{const{error:g}=await wn.from("reviews").delete().eq("id",m).eq("user_id",v.id);if(g)throw g;r(n.filter(b=>b.id!==m))}catch(g){console.error("Error deleting review:",g)}};return f.jsxs("div",{className:"mt-12 border-t border-white/10 pt-8",children:[f.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Opiniones y Valoraciones"}),f.jsx(Ev,{className:"p-6 rounded-2xl bg-white/5 mb-8",children:v?f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"text-white/60 text-sm",children:"Tu calificacin:"}),f.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(m=>f.jsx("button",{onMouseEnter:()=>u(m),onMouseLeave:()=>u(0),onClick:()=>a(m),className:"focus:outline-none transition-transform hover:scale-110",children:f.jsx(xi,{size:24,fill:m<=(l||o)?"#fbbf24":"none",className:m<=(l||o)?"text-yellow-400":"text-white/20"})},m))})]}),f.jsx("textarea",{value:s,onChange:m=>i(m.target.value),placeholder:`Qu te pareci ${t}?`,className:"w-full bg-black/20 border border-white/10 rounded-xl p-4 text-white placeholder-white/30 focus:border-white/30 focus:outline-none resize-none min-h-[100px]"}),f.jsx("div",{className:"flex justify-end",children:f.jsx(va,{onClick:x,disabled:!s.trim()||o===0||h,className:`px-6 py-2 rounded-xl font-bold text-sm ${!s.trim()||o===0||h?"opacity-50 cursor-not-allowed":""}`,children:h?f.jsx(wi,{className:"animate-spin",size:16}):f.jsxs(f.Fragment,{children:[f.jsx(M1,{size:16})," Publicar Opinin"]})})})]}):f.jsx("div",{className:"text-center py-4",children:f.jsx("p",{className:"text-white/60 mb-2",children:"Inicia sesin para dejar tu opinin"})})}),f.jsx("div",{className:"space-y-4",children:c?f.jsx("div",{className:"flex justify-center py-8",children:f.jsx(wi,{className:"animate-spin text-white/30"})}):f.jsx(Qe,{children:n.length>0?n.map(m=>{var g;return f.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-white/5 border border-white/5 rounded-2xl p-5",children:[f.jsxs("div",{className:"flex justify-between items-start mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white",children:f.jsx(da,{size:20})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-white text-sm",children:((g=m.user_email)==null?void 0:g.split("@")[0])||"Usuario"}),f.jsx("span",{className:"text-white/30 text-xs",children:new Date(m.created_at).toLocaleDateString()})]})]}),f.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((b,_)=>f.jsx(xi,{size:14,fill:_<m.rating?"#fbbf24":"none",className:_<m.rating?"text-yellow-400":"text-white/10"},_))})]}),f.jsx("p",{className:"text-white/80 text-sm leading-relaxed pl-[52px]",children:m.comment}),v&&v.id===m.user_id&&f.jsx("div",{className:"flex justify-end mt-2",children:f.jsx("button",{onClick:()=>y(m.id),className:"text-white/20 hover:text-red-400 transition-colors p-2",children:f.jsx(Ny,{size:14})})})]},m.id)}):f.jsx("div",{className:"text-center py-12 text-white/30 italic",children:"S el primero en opinar sobre esta pelcula."})})})]})},BC=({movie:e,onClose:t,isListed:n,onToggleList:r})=>{var l,u,c,d,h;const[s,i]=E.useState(null),[o,a]=E.useState(!0);return E.useEffect(()=>{(async()=>{var v,w,x;a(!0);try{const y=e.media_type==="tv"||!e.title?"tv":"movie",[m,g]=await Promise.all([Up.getProviders(y,e.id),Up.getVideos(y,e.id)]),b=(v=g.results)==null?void 0:v.find(S=>S.type==="Trailer"&&S.site==="YouTube"),_=((x=(w=m.results)==null?void 0:w.ES)==null?void 0:x.flatrate)||[];i({trailer:b,providers:_})}catch(y){console.error("Error fetching details",y)}finally{a(!1)}})()},[e]),f.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:f.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-5xl max-h-[90vh] overflow-y-auto rounded-[3rem] bg-[#121212] shadow-2xl border border-white/10 scrollbar-hide",children:[f.jsx("button",{onClick:t,className:"absolute top-6 right-6 z-50 p-2 rounded-full bg-black/50 hover:bg-white text-white hover:text-black transition-all",children:f.jsx(ps,{size:24})}),f.jsxs("div",{className:"relative h-[50vh]",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#121212] via-transparent to-transparent z-10"}),f.jsx("img",{src:e.backdrop_path?`${PT}${e.backdrop_path}`:`${Vp}${e.poster_path}`,alt:e.title,className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute bottom-0 left-0 p-8 z-20 w-full",children:[f.jsx("h2",{className:"text-5xl font-black text-white mb-4 drop-shadow-xl",children:e.title||e.name}),f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsxs($l,{className:"bg-green-500/20 text-green-400 border-green-500/30",children:[Math.round(e.vote_average*10),"% Match"]}),f.jsx("span",{className:"text-white/60",children:((l=e.release_date)==null?void 0:l.split("-")[0])||((u=e.first_air_date)==null?void 0:u.split("-")[0])}),f.jsx($l,{className:"border-white/20",children:"HD"})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs(va,{className:"px-8 py-3 rounded-xl font-bold text-lg bg-white text-black hover:bg-white/90 border-none",children:[f.jsx(xd,{size:20,fill:"black"})," Reproducir"]}),f.jsxs(va,{onClick:()=>r(e),className:"px-8 py-3 rounded-xl font-bold text-lg bg-white/10 hover:bg-white/20",children:[n?f.jsx(Di,{size:20}):f.jsx(Fu,{size:20})," Mi Lista"]})]})]})]}),f.jsxs("div",{className:"p-8 grid md:grid-cols-[2fr_1fr] gap-12",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-lg text-white/80 leading-relaxed font-light mb-8",children:e.overview}),((c=s==null?void 0:s.providers)==null?void 0:c.length)>0&&f.jsxs("div",{className:"mb-8",children:[f.jsx("h3",{className:"text-white/40 font-bold uppercase text-sm mb-4",children:"Disponible en"}),f.jsx("div",{className:"flex gap-4",children:s.providers.map(p=>f.jsx("img",{src:`${Vp}${p.logo_path}`,alt:p.provider_name,className:"w-12 h-12 rounded-xl shadow-lg",title:p.provider_name},p.provider_id))})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-white/40 text-sm block mb-1",children:"Gneros"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:(d=e.genre_ids)==null?void 0:d.map(p=>f.jsx($l,{className:"bg-white/5 border-white/5 text-white/60",children:p},p))})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-white/40 text-sm block mb-1",children:"Valoracin"}),f.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[f.jsx(xi,{fill:"currentColor",size:18}),f.jsx("span",{className:"text-white font-bold",children:(h=e.vote_average)==null?void 0:h.toFixed(1)})]})]})]})]}),f.jsx("div",{className:"px-8 pb-12",children:f.jsx(zC,{movieId:e.id,movieTitle:e.title||e.name})})]})})},FC=({onClose:e})=>{const[t,n]=E.useState(!0),[r,s]=E.useState(""),[i,o]=E.useState(""),[a,l]=E.useState(!1),[u,c]=E.useState(null),{signIn:d,signUp:h}=hh(),p=async v=>{v.preventDefault(),c(null),l(!0);try{t?await d(r,i):await h(r,i),e()}catch(w){c(w.message)}finally{l(!1)}};return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:f.jsxs(Ev,{className:"relative w-full max-w-md p-8 rounded-[2rem] bg-black/60",children:[f.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-white/40 hover:text-white transition",children:f.jsx(ps,{size:24})}),f.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-2",children:t?"Bienvenido":"Crear Cuenta"}),f.jsx("p",{className:"text-white/40 text-center mb-8 text-sm",children:t?"Inicia sesin para continuar":"nete a la comunidad de Flicker"}),u&&f.jsxs("div",{className:"mb-6 p-3 rounded-xl bg-red-500/20 border border-red-500/50 flex items-center gap-3 text-red-200 text-sm",children:[f.jsx(x1,{size:18}),u]}),f.jsxs("form",{onSubmit:p,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs font-bold text-white/60 uppercase tracking-wider ml-2",children:"Email"}),f.jsxs("div",{className:"relative",children:[f.jsx(N1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40",size:18}),f.jsx("input",{type:"email",name:"email",autoComplete:"username",value:r,onChange:v=>s(v.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-white/20 focus:border-white/40 focus:outline-none transition-colors",placeholder:"tu@email.com",required:!0})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs font-bold text-white/60 uppercase tracking-wider ml-2",children:"Contrasea"}),f.jsxs("div",{className:"relative",children:[f.jsx(A1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/40",size:18}),f.jsx("input",{type:"password",name:"password",autoComplete:t?"current-password":"new-password",value:i,onChange:v=>o(v.target.value),className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-12 pr-4 text-white placeholder-white/20 focus:border-white/40 focus:outline-none transition-colors",placeholder:"",required:!0,minLength:6})]})]}),f.jsx(va,{type:"submit",disabled:a,className:"w-full py-4 rounded-xl font-bold text-lg mt-6",children:a?f.jsx(wi,{className:"animate-spin"}):t?"Iniciar Sesin":"Registrarse"})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:()=>n(!t),className:"text-white/40 hover:text-white text-sm transition-colors",children:t?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})})]})})},WC=[{id:8,name:"Netflix",logo:"https://logo.clearbit.com/netflix.com"},{id:337,name:"Disney+",logo:"https://logo.clearbit.com/disneyplus.com"},{id:119,name:"Amazon Prime",logo:"https://logo.clearbit.com/primevideo.com"},{id:384,name:"HBO Max",logo:"https://logo.clearbit.com/hbomax.com"},{id:350,name:"Apple TV+",logo:"https://logo.clearbit.com/tv.apple.com"}],HC=({user:e,onClose:t,onLogout:n,theme:r,toggleTheme:s,currentProfile:i,onUpdateProfile:o})=>{const[a,l]=E.useState("account"),[u,c]=E.useState((i==null?void 0:i.providers)||[]),d=h=>{const p=u.includes(h)?u.filter(v=>v!==h):[...u,h];c(p),o({...i,providers:p})};return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:f.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:`relative w-full max-w-4xl h-[80vh] rounded-[2rem] shadow-2xl overflow-hidden flex flex-col md:flex-row transition-colors duration-300 ${r==="dark"?"bg-[#0a0a0a] border border-white/10":"bg-white border border-black/10"}`,children:[f.jsxs("div",{className:`w-full md:w-1/3 p-6 flex flex-col border-b md:border-b-0 md:border-r transition-colors duration-300 ${r==="dark"?"bg-white/5 border-white/5":"bg-gray-50 border-black/5"}`,children:[f.jsxs("h2",{className:`text-2xl font-bold mb-8 flex items-center gap-2 ${r==="dark"?"text-white":"text-black"}`,children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center text-white",children:f.jsx(da,{size:18})}),"Mi Cuenta"]}),f.jsxs("nav",{className:"space-y-2 flex-1",children:[f.jsxs("button",{onClick:()=>l("account"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${a==="account"?r==="dark"?"bg-white/10 text-white":"bg-black/5 text-black":r==="dark"?"text-white/60 hover:text-white hover:bg-white/5":"text-black/60 hover:text-black hover:bg-black/5"}`,children:[f.jsx(da,{size:18})," Perfil"]}),f.jsxs("button",{onClick:()=>l("settings"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${a==="settings"?r==="dark"?"bg-white/10 text-white":"bg-black/5 text-black":r==="dark"?"text-white/60 hover:text-white hover:bg-white/5":"text-black/60 hover:text-black hover:bg-black/5"}`,children:[f.jsx(I1,{size:18})," Configuracin"]}),f.jsxs("button",{onClick:()=>l("legal"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${a==="legal"?r==="dark"?"bg-white/10 text-white":"bg-black/5 text-black":r==="dark"?"text-white/60 hover:text-white hover:bg-white/5":"text-black/60 hover:text-black hover:bg-black/5"}`,children:[f.jsx(j1,{size:18})," Legal"]})]}),f.jsx("div",{className:`mt-auto pt-6 border-t ${r==="dark"?"border-white/10":"border-black/10"}`,children:f.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-500/10 transition-all",children:[f.jsx(O1,{size:18})," Cerrar Sesin"]})})]}),f.jsxs("div",{className:`flex-1 p-8 overflow-y-auto relative ${r==="dark"?"text-white":"text-black"}`,children:[f.jsx("button",{onClick:t,className:`absolute top-6 right-6 p-2 rounded-full transition-all ${r==="dark"?"bg-white/5 hover:bg-white/10 text-white":"bg-black/5 hover:bg-black/10 text-black"}`,children:f.jsx(ps,{size:20})}),f.jsxs("div",{className:"max-w-xl mx-auto",children:[f.jsxs(Qe,{mode:"wait",children:[a==="account"&&f.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[f.jsxs("section",{className:"mb-12",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Informacin Personal"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:`p-5 rounded-2xl border ${r==="dark"?"bg-white/5 border-white/5":"bg-gray-50 border-black/5"}`,children:[f.jsx("label",{className:`block text-xs font-bold uppercase tracking-wider mb-1 ${r==="dark"?"text-white/40":"text-black/40"}`,children:"Email"}),f.jsx("div",{className:"font-medium text-lg",children:e==null?void 0:e.email})]}),f.jsxs("div",{className:`p-5 rounded-2xl border ${r==="dark"?"bg-white/5 border-white/5":"bg-gray-50 border-black/5"}`,children:[f.jsx("label",{className:`block text-xs font-bold uppercase tracking-wider mb-1 ${r==="dark"?"text-white/40":"text-black/40"}`,children:"ID de Usuario"}),f.jsx("div",{className:`font-mono text-sm ${r==="dark"?"text-white/60":"text-black/60"}`,children:e==null?void 0:e.id})]})]})]}),f.jsxs("section",{className:"mb-12",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Suscripcin"}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-600/20 to-purple-600/20 p-6 rounded-2xl border border-blue-500/30 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-blue-500 font-bold mb-1",children:"Plan Premium"}),f.jsx("div",{className:`text-sm ${r==="dark"?"text-white/60":"text-black/60"}`,children:"Prxima facturacin: 22 Dic 2025"})]}),f.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-500 text-white text-xs font-bold",children:"ACTIVO"})]})]})]},"account"),a==="settings"&&f.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[f.jsxs("section",{className:"mb-12",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Apariencia"}),f.jsxs("div",{className:`p-5 rounded-2xl border flex items-center justify-between ${r==="dark"?"bg-white/5 border-white/5":"bg-gray-50 border-black/5"}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[r==="dark"?f.jsx(D1,{size:24,className:"text-purple-400"}):f.jsx(z1,{size:24,className:"text-orange-400"}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-bold",children:["Modo ",r==="dark"?"Oscuro":"Claro"]}),f.jsx("div",{className:`text-sm ${r==="dark"?"text-white/60":"text-black/60"}`,children:"Ajusta el tema de la aplicacin"})]})]}),f.jsx("button",{onClick:s,className:`relative w-14 h-8 rounded-full transition-colors duration-300 ${r==="dark"?"bg-purple-600":"bg-gray-300"}`,children:f.jsx("div",{className:`absolute top-1 w-6 h-6 rounded-full bg-white shadow-md transition-transform duration-300 ${r==="dark"?"left-7":"left-1"}`})})]})]}),f.jsxs("section",{className:"mb-12",children:[f.jsx("h3",{className:"text-xl font-bold mb-6",children:"Mis Plataformas"}),f.jsx("p",{className:`text-sm mb-4 ${r==="dark"?"text-white/60":"text-black/60"}`,children:"Selecciona los servicios que tienes contratados para personalizar tu catlogo."}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:WC.map(h=>f.jsxs("button",{onClick:()=>d(h.id),className:`relative p-3 rounded-xl border transition-all flex items-center gap-3 ${u.includes(h.id)?"bg-blue-500/10 border-blue-500":r==="dark"?"bg-white/5 border-white/10 hover:bg-white/10":"bg-gray-50 border-black/10 hover:bg-gray-100"}`,children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-white p-0.5 shadow-sm overflow-hidden flex items-center justify-center flex-shrink-0",children:f.jsx("img",{src:h.logo,alt:h.name,className:"w-full h-full object-contain"})}),f.jsx("span",{className:`text-sm font-medium ${u.includes(h.id)?r==="dark"?"text-white":"text-black":r==="dark"?"text-white/60":"text-black/60"}`,children:h.name}),u.includes(h.id)&&f.jsx("div",{className:"ml-auto w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:f.jsx(Di,{size:12,className:"text-white"})})]},h.id))})]})]},"settings"),a==="legal"&&f.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[f.jsxs("section",{className:"mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Trminos de Uso"}),f.jsx("p",{className:`text-sm leading-relaxed ${r==="dark"?"text-white/60":"text-black/60"}`,children:"Bienvenido a Flicker. Al utilizar nuestra plataforma, aceptas cumplir con estos trminos. El contenido mostrado es propiedad de sus respectivos dueos y se utiliza aqu con fines demostrativos."})]}),f.jsxs("section",{className:"mb-8",children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Poltica de Privacidad"}),f.jsx("p",{className:`text-sm leading-relaxed ${r==="dark"?"text-white/60":"text-black/60"}`,children:"Nos tomamos muy en serio tu privacidad. Solo recopilamos la informacin necesaria para gestionar tu cuenta y mejorar tu experiencia. No compartimos tus datos con terceros sin tu consentimiento explcito."})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-xl font-bold mb-4",children:"Licencias"}),f.jsx("p",{className:`text-sm leading-relaxed ${r==="dark"?"text-white/60":"text-black/60"}`,children:"Esta aplicacin utiliza la API de TMDB pero no est avalada ni certificada por TMDB. Iconos por Lucide React. Fuentes por Google Fonts."})]})]},"legal")]}),f.jsxs("div",{className:`mt-12 pt-8 border-t flex flex-col items-center text-center ${r==="dark"?"border-white/5":"border-black/5"}`,children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 flex items-center justify-center mb-4 shadow-lg shadow-purple-500/20",children:f.jsx(E1,{size:24,className:"text-white"})}),f.jsx("p",{className:`text-sm mb-1 ${r==="dark"?"text-white/40":"text-black/40"}`,children:"Diseado y Desarrollado por"}),f.jsx("h4",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-500 to-blue-400 tracking-tight mb-6",children:"Roberto"}),f.jsxs("div",{className:`flex gap-4 text-[10px] uppercase tracking-widest ${r==="dark"?"text-white/20":"text-black/20"}`,children:[f.jsx("span",{children:"v2.5.0"}),f.jsx("span",{children:""}),f.jsx("span",{children:"Madrid, ES"})]})]})]})]})]})})},KC=({movies:e,onComplete:t,onClose:n})=>{var d,h,p;const[r,s]=E.useState(0),[i,o]=E.useState(!0),[a,l]=E.useState(null);E.useEffect(()=>{if(!i||e.length===0)return;let v,w=50,x=0;const y=30,m=20,g=()=>{s(b=>(b+1)%e.length),x++,x>m&&(w+=30),x>=y?(o(!1),l(e[(r+1)%e.length])):v=setTimeout(g,w)};return v=setTimeout(g,w),()=>clearTimeout(v)},[i,e,r]);const u=()=>{a&&t(a)},c=e[r];return f.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-xl p-4 touch-none",children:[f.jsx("button",{onClick:n,className:"absolute top-6 right-6 p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-all z-10",children:f.jsx(ps,{size:24})}),f.jsxs("div",{className:"flex flex-col items-center w-full max-w-md max-h-[90vh]",children:[f.jsxs("div",{className:"mb-6 text-center",children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 mb-2",children:i?"Eligiendo para ti...":"Tenemos una ganadora!"}),f.jsx("p",{className:"text-white/60 text-sm md:text-base",children:i?"Explorando el catlogo...":"Creemos que te encantar esta opcin."})]}),f.jsx("div",{className:"relative w-full max-w-[280px] aspect-[2/3] rounded-3xl p-1 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 shadow-[0_0_50px_rgba(124,58,237,0.3)]",children:f.jsxs("div",{className:"w-full h-full rounded-[1.4rem] overflow-hidden bg-black relative",children:[f.jsx(Qe,{mode:"popLayout",children:f.jsx(Z.img,{initial:{y:50,opacity:0,filter:"blur(10px)"},animate:{y:0,opacity:1,filter:"blur(0px)"},exit:{y:-50,opacity:0,filter:"blur(10px)"},transition:{duration:.1},src:`https://image.tmdb.org/t/p/w500${c==null?void 0:c.poster_path}`,alt:"Movie Cover",className:"w-full h-full object-cover"},c==null?void 0:c.id)}),!i&&f.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent flex flex-col justify-end p-6",children:[f.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight drop-shadow-lg line-clamp-2",children:(c==null?void 0:c.title)||(c==null?void 0:c.name)}),f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsxs("span",{className:"px-2 py-1 rounded-md bg-yellow-500/20 text-yellow-400 text-xs font-bold border border-yellow-500/30",children:[" ",(d=c==null?void 0:c.vote_average)==null?void 0:d.toFixed(1)]}),f.jsx("span",{className:"text-white/60 text-xs",children:((h=c==null?void 0:c.release_date)==null?void 0:h.split("-")[0])||((p=c==null?void 0:c.first_air_date)==null?void 0:p.split("-")[0])})]})]})]})}),!i&&f.jsxs(Z.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"mt-8 px-8 py-4 rounded-2xl bg-white text-black font-bold text-lg shadow-xl flex items-center gap-2 hover:bg-gray-100 transition-colors",children:[f.jsx(xd,{size:20,fill:"black"})," Ver Ahora"]}),i&&f.jsxs("div",{className:"mt-8 flex gap-2",children:[f.jsx("div",{className:"w-3 h-3 rounded-full bg-white animate-bounce",style:{animationDelay:"0s"}}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-white animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-3 h-3 rounded-full bg-white animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})},Wn="e342997caa7411d20122efbf21285b51".trim(),Hn="https://api.themoviedb.org/3",GC="https://image.tmdb.org/t/p/w500",qC="https://image.tmdb.org/t/p/w1280",Sa=[{id:"hero",icon:f.jsx(q1,{size:32}),gradient:"from-slate-900 via-blue-900 to-slate-900",label:"Hroe"},{id:"villain",icon:f.jsx(U1,{size:32}),gradient:"from-slate-900 via-purple-900 to-slate-900",label:"Villano"},{id:"futurist",icon:f.jsx(k1,{size:32}),gradient:"from-slate-900 via-cyan-900 to-slate-900",label:"Futurista"},{id:"explorer",icon:f.jsx(L1,{size:32}),gradient:"from-slate-900 via-emerald-900 to-slate-900",label:"Explorador"},{id:"royal",icon:f.jsx(T1,{size:32}),gradient:"from-slate-900 via-amber-900 to-slate-900",label:"Premium"},{id:"mystic",icon:f.jsx(K1,{size:32}),gradient:"from-slate-900 via-indigo-900 to-slate-900",label:"Mstico"}],JC=[{id:8,name:"Netflix",logo:"https://logo.clearbit.com/netflix.com"},{id:337,name:"Disney+",logo:"https://logo.clearbit.com/disneyplus.com"},{id:119,name:"Amazon Prime",logo:"https://logo.clearbit.com/primevideo.com"},{id:384,name:"HBO Max",logo:"https://logo.clearbit.com/hbomax.com"},{id:350,name:"Apple TV+",logo:"https://logo.clearbit.com/tv.apple.com"}],QC=[{id:28,name:"Accin"},{id:35,name:"Comedia"},{id:878,name:"Ciencia Ficcin"},{id:18,name:"Drama"},{id:53,name:"Thriller"},{id:27,name:"Terror"}],YC=[{id:10759,name:"Accin y Aventura"},{id:18,name:"Drama"},{id:35,name:"Comedia"},{id:80,name:"Crimen"},{id:99,name:"Documental"},{id:10765,name:"Sci-Fi & Fantasa"}],wm=[{id:101,title:"Inception",overview:"Cobb, un ladrn experto en el arte de la extraccin peligrosa...",poster_path:"/9gk7admal44GcmOwCkACI26rYGh.jpg",backdrop_path:"/s3TBrRGB1iav7gFOCNx3H31MoES.jpg",vote_average:8.8,release_date:"2010-07-15",media_type:"movie",genre_ids:[878,28],providers:[{provider_id:8,provider_name:"Netflix",logo_path:"/pbpMk2JmcoNnQwx5JGpXngfoWtp.jpg"}],trailer:{key:"8hP9D6kZseM"}},{id:102,title:"Interstellar",overview:"Un equipo de exploradores viaja a travs de un agujero de gusano...",poster_path:"/gEU2QniL6C8z1dY4kdNON4RSmMn.jpg",backdrop_path:"/xBKGJQsAIeweesB79KC89FpBrVr.jpg",vote_average:8.6,release_date:"2014-11-05",media_type:"movie",genre_ids:[878,18],providers:[{provider_id:384,provider_name:"HBO Max",logo_path:"/zxrVdFj0zSKNutwwNoISAHmnEFF.jpg"}],trailer:{key:"zSWdZVtXT7E"}}],Ec=({children:e,className:t,...n})=>f.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:`backdrop-blur-2xl border shadow-[0_8px_32px_0_rgba(0,0,0,0.36)] ${t}`,...n,children:e}),ir=({children:e,className:t,variant:n="primary",...r})=>f.jsx(Z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`backdrop-blur-md border transition-all duration-300 shadow-lg flex items-center justify-center gap-2 ${n==="primary"?"bg-white text-black hover:bg-white/90 border-white/20":n==="glass"?"bg-white/10 text-white hover:bg-white/20 border-white/10":n==="danger"?"bg-red-500/80 text-white hover:bg-red-600 border-red-500/50":""} ${t}`,...r,children:e}),Rw=({children:e,className:t=""})=>f.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider backdrop-blur-md ${t}`,children:e}),ql=({size:e="normal",theme:t="dark"})=>f.jsxs("div",{className:`flex items-center group relative ${e==="large"?"scale-150":"scale-100"} transition-transform duration-500`,children:[f.jsx("div",{className:`relative z-10 drop-shadow-[0_0_15px_rgba(255,255,255,0.3)] ${t==="dark"?"text-white":"text-black"}`,children:f.jsx(F1,{size:28,strokeWidth:2.5,className:t==="dark"?"fill-white/10":"fill-black/10"})}),f.jsx("div",{className:"absolute left-6 top-1/2 -translate-y-1/2 h-16 w-40 bg-gradient-to-r from-blue-500/40 via-purple-500/40 to-transparent blur-xl -z-0 opacity-80"}),f.jsx("span",{className:`ml-3 font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-br text-2xl drop-shadow-2xl ${t==="dark"?"from-white via-white to-white/40":"from-black via-black to-black/40"}`,children:"FLICKER"})]});function XC(){const{user:e,loading:t,signOut:n}=hh(),[r,s]=E.useState(!1),[i,o]=E.useState(!1),[a,l]=E.useState(!1),[u,c]=E.useState("dark"),[d,h]=E.useState([]),[p,v]=E.useState(null),[w,x]=E.useState("loading"),[y,m]=E.useState(null),[g,b]=E.useState(null),[_,S]=E.useState("movies"),[j,k]=E.useState([]),[A,D]=E.useState({}),[K,je]=E.useState([]),[Ne,Ue]=E.useState(0),[Ie,Se]=E.useState(null),[G,T]=E.useState(!0),[M,$]=E.useState(!0),[J,se]=E.useState(""),[X,Q]=E.useState(null),[rt,Ge]=E.useState(null),[B,ks]=E.useState([]),[qe,Vn]=E.useState(!1),yr=E.useRef(null),on=C=>{m(C),setTimeout(()=>m(null),3e3)},Ow=()=>{c(C=>C==="dark"?"light":"dark")},Nw=()=>{Object.values(A).flatMap(z=>z.data).length>0?l(!0):on("No hay contenido para sortear")},Iw=C=>{l(!1),Q(C)};E.useEffect(()=>{if(K.length<=1)return;const C=setInterval(()=>{Ue(z=>(z+1)%K.length)},8e3);return()=>clearInterval(C)},[K]),E.useEffect(()=>{(async()=>{var z,we;if(K.length>0){const pt=K[Ne];try{const st=pt.media_type==="tv"?"tv":"movie",Wt=(z=(await(await fetch(`${Hn}/${st}/${pt.id}/videos?api_key=${Wn}&language=es-ES`)).json()).results)==null?void 0:z.find(an=>an.type==="Trailer"&&an.site==="YouTube");if(Wt)Se(Wt.key);else{const ln=(we=(await(await fetch(`${Hn}/${st}/${pt.id}/videos?api_key=${Wn}&language=en-US`)).json()).results)==null?void 0:we.find(Bi=>Bi.type==="Trailer"&&Bi.site==="YouTube");Se((ln==null?void 0:ln.key)||null)}}catch{Se(null)}}})()},[Ne,K]),E.useEffect(()=>{if(t)return;if(!e){x("landing"),v(null);return}const C=localStorage.getItem("flickerProfiles");let z=[];C&&(z=JSON.parse(C).map(pt=>({...pt,avatar:Sa.find(st=>st.id===pt.avatarId)||Sa[0]})),h(z)),z.length>0?p||x("profiles"):x("create-profile")},[e,t]),E.useEffect(()=>{p&&(_==="movies"||_==="series")&&fh(_)},[p,_]),E.useEffect(()=>{if(d.length>0){const C=d.map(z=>({...z,avatarId:z.avatar.id,avatar:null}));localStorage.setItem("flickerProfiles",JSON.stringify(C))}},[d]),E.useEffect(()=>{if(p){const C=localStorage.getItem(`flickerList_${p.id}`);ks(C?JSON.parse(C):[]),x("app"),S("movies")}},[p]),E.useEffect(()=>{p&&localStorage.setItem(`flickerList_${p.id}`,JSON.stringify(B))},[B,p]),E.useEffect(()=>{_==="search"&&(k([]),D({}),Ge(null),setTimeout(()=>{var C;return(C=yr.current)==null?void 0:C.focus()},100))},[_]),E.useEffect(()=>{if(_==="search"){const C=setTimeout(()=>{J.length>2?fh("search",J):J.length===0&&k([])},600);return()=>clearTimeout(C)}},[J,_]);const fh=async(C,z="")=>{var we,pt;$(!0),Vn(!1);try{const st=C==="movies"?"movie":C==="series"?"tv":"multi";let vr="";if(p!=null&&p.providers&&p.providers.length>0&&(vr=`&with_watch_providers=${p.providers.join("|")}&watch_region=ES`),C==="search"){const zi=`/search/multi?query=${z}&api_key=${Wn}&language=es-ES&include_adult=false`,Wt=await fetch(`${Hn}${zi}`);if(!Wt.ok)throw new Error("API Response Not OK");const Ga=(await Wt.json()).results.filter(ln=>ln.media_type!=="person"&&ln.poster_path);k(Ga),D({}),je([]);return}else{const zi=C==="movies"?QC:YC;let Wt=[];((we=p==null?void 0:p.providers)==null?void 0:we.length)>0?Wt=(await(await fetch(`${Hn}/discover/${st}?api_key=${Wn}&language=es-ES&sort_by=popularity.desc${vr}&page=1`)).json()).results.slice(0,6):Wt=(await(await fetch(`${Hn}/trending/all/week?api_key=${Wn}&language=es-ES`)).json()).results.filter(Wi=>Wi.backdrop_path).sort((Wi,qa)=>qa.popularity-Wi.popularity).slice(0,6),je(Wt),Ue(0);const an={},ln=await(await fetch(`${Hn}/discover/${st}?api_key=${Wn}&language=es-ES&sort_by=popularity.desc${vr}&page=1`)).json();an[9e3]={name:"Populares para ti",data:((pt=ln.results)==null?void 0:pt.filter(Je=>Je.poster_path))||[]};const Bi=zi.map(async Je=>{try{const Fi=[1,2,3,4,5].map(un=>fetch(`${Hn}/discover/${st}?api_key=${Wn}&language=es-ES&sort_by=popularity.desc&with_genres=${Je.id}${vr}&page=${un}`).then(zw=>zw.json())),qa=(await Promise.all(Fi)).flatMap(un=>un.results||[]),Uw=Array.from(new Map(qa.map(un=>[un.id,un])).values()).filter(un=>un.poster_path);return{genreId:Je.id,genreName:Je.name,results:Uw}}catch{return{genreId:Je.id,genreName:Je.name,results:[]}}});(await Promise.all(Bi)).forEach(Je=>{Je.results.length>0&&(an[Je.genreId]={name:Je.genreName,data:Je.results})}),D(an),k([])}}catch(st){console.log("Fallo API, usando modo respaldo:",st),Vn(!0),je([wm[0]]),D({9e3:{name:"Populares del Da (Demo)",data:wm}}),k([]),qe||on("Modo Offline Activado")}finally{$(!1)}},Dw=(C,z,we)=>{if(d.length>=8){on("Lmite de perfiles alcanzado");return}const pt={id:Date.now(),name:C,avatar:z,providers:we},st=[...d,pt];h(st),d.length===0?(v(pt),x("app")):(x("profiles"),v(null))},Lw=C=>{const z=d.map(we=>we.id===C.id?C:we);h(z),v(C)},Mw=C=>b(C),$w=()=>{if(g){const C=d.filter(z=>z.id!==g);h(C),localStorage.removeItem(`flickerList_${g}`),b(null),C.length===0?x("create-profile"):x("profiles")}},ph=(C,z,we)=>{Ge({id:C,name:z,data:we}),window.scrollTo({top:0,behavior:"smooth"})},Vw=(C,z)=>{z.offset.x<-50?Ue(we=>(we+1)%K.length):z.offset.x>50&&Ue(we=>(we-1+K.length)%K.length)},Ft=K[Ne];return f.jsxs("div",{className:`relative min-h-screen font-sans overflow-hidden selection:bg-blue-500/30 pb-24 md:pb-0 transition-colors duration-500 ${u==="dark"?"bg-[#050505] text-gray-100 selection:text-white":"bg-gray-100 text-gray-900 selection:text-black"}`,children:[f.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[f.jsx("div",{className:`absolute top-[-20%] left-[-10%] w-[70%] h-[70%] rounded-full blur-[120px] animate-pulse ${u==="dark"?"bg-blue-600/10":"bg-blue-400/20"}`}),f.jsx("div",{className:`absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] rounded-full blur-[120px] animate-pulse delay-1000 ${u==="dark"?"bg-purple-600/10":"bg-purple-400/20"}`}),f.jsx("div",{className:`absolute top-[40%] left-[30%] w-[40%] h-[40%] rounded-full blur-[150px] ${u==="dark"?"bg-emerald-600/5":"bg-emerald-400/10"}`})]}),f.jsx(Qe,{children:y&&f.jsx(Z.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-6 left-1/2 -translate-x-1/2 z-[100]",children:f.jsxs("div",{className:`px-6 py-3 rounded-full backdrop-blur-xl border flex items-center gap-3 ${u==="dark"?"bg-black/60 border-white/10":"bg-white/80 border-black/10 shadow-lg"}`,children:[f.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),f.jsx("span",{className:`text-sm font-bold ${u==="dark"?"text-white":"text-black"}`,children:y})]})})}),f.jsx(Qe,{mode:"wait",children:w==="landing"&&f.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative z-10 flex flex-col items-center justify-center min-h-screen p-6",children:[f.jsx(ql,{size:"large",theme:u}),f.jsxs("h1",{className:`text-4xl md:text-6xl font-bold text-center mt-12 mb-6 leading-tight ${u==="dark"?"text-white":"text-black"}`,children:["Tu cine, ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600",children:"sin lmites"}),"."]}),f.jsx("p",{className:`text-lg md:text-xl text-center max-w-2xl mb-12 ${u==="dark"?"text-white/60":"text-black/60"}`,children:"Disfruta de miles de pelculas y series. Crea perfiles para toda la familia y comparte tus opiniones con el mundo."}),f.jsx("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md",children:f.jsxs(ir,{onClick:()=>s(!0),className:`flex-1 py-4 rounded-2xl font-bold text-lg ${u==="dark"?"bg-white text-black":"bg-black text-white"}`,children:[f.jsx(R1,{size:20})," Iniciar Sesin / Registrarse"]})})]},"landing")}),f.jsx(Qe,{mode:"wait",children:w==="app"&&f.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"relative z-10",children:[f.jsxs("header",{style:{paddingTop:"env(safe-area-inset-top)"},className:`fixed top-0 left-0 right-0 md:top-6 md:left-8 md:right-8 h-24 md:h-16 md:rounded-2xl z-[80] flex items-center justify-between px-6 transition-all duration-300 backdrop-blur-xl border-b md:border shadow-lg ${u==="dark"?"bg-black/60 md:bg-black/20 border-white/5":"bg-white/60 md:bg-white/20 border-black/5"}`,children:[f.jsx("div",{onClick:()=>S("movies"),className:"cursor-pointer mt-2 md:mt-0",children:f.jsx(ql,{theme:u})}),f.jsx("nav",{className:`hidden md:flex items-center gap-2 p-1.5 rounded-full border backdrop-blur-md ${u==="dark"?"bg-white/5 border-white/5":"bg-black/5 border-black/5"}`,children:["movies","series","search","mylist"].map(C=>f.jsx("button",{onClick:()=>S(C),className:`px-5 py-2 rounded-full text-xs font-bold tracking-wide transition-all duration-300 ${_===C?u==="dark"?"bg-white text-black shadow-[0_0_20px_rgba(255,255,255,0.3)]":"bg-black text-white shadow-[0_0_20px_rgba(0,0,0,0.3)]":u==="dark"?"text-gray-400 hover:text-white hover:bg-white/5":"text-gray-500 hover:text-black hover:bg-black/5"}`,children:C==="movies"?"CINE":C==="series"?"SERIES":C==="search"?"EXPLORAR":"MI LISTA"},C))}),f.jsxs("div",{className:"flex items-center gap-4 mt-2 md:mt-0",children:[f.jsx("button",{onClick:Nw,className:`p-2 rounded-full transition-all ${u==="dark"?"bg-white/5 hover:bg-white/10 text-white/60 hover:text-white":"bg-black/5 hover:bg-black/10 text-black/60 hover:text-black"}`,title:"Sorprndeme",children:f.jsx(V1,{size:18})}),e&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:()=>{x("profiles"),v(null)},className:`flex items-center gap-3 pl-3 pr-2 py-1 rounded-full border transition-all group ${u==="dark"?"bg-white/5 border-white/10 hover:bg-white/10":"bg-black/5 border-black/10 hover:bg-black/10"}`,children:[f.jsx("span",{className:`text-[10px] md:text-xs font-bold max-w-[60px] md:max-w-none truncate ${u==="dark"?"text-gray-300 group-hover:text-white":"text-gray-600 group-hover:text-black"}`,children:(p==null?void 0:p.name)||"Perfil"}),f.jsx("div",{className:`w-8 h-8 flex-shrink-0 rounded-full flex items-center justify-center text-sm bg-gradient-to-br ${(p==null?void 0:p.avatar.gradient)||"from-gray-700 to-gray-900"} shadow-inner text-white`,children:(p==null?void 0:p.avatar.icon)||f.jsx(da,{size:14})})]}),f.jsx("button",{onClick:()=>o(!0),className:`p-2 rounded-full transition-all ${u==="dark"?"bg-white/5 hover:bg-white/10 text-white/60 hover:text-white":"bg-black/5 hover:bg-black/10 text-black/60 hover:text-black"}`,title:"Configuracin",children:f.jsx($1,{size:18})})]})]})]}),f.jsxs("main",{className:"pt-28 md:pt-32 px-4 md:px-12 max-w-[1600px] mx-auto min-h-screen",children:[qe&&f.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 z-50 bg-yellow-500/20 border border-yellow-500/50 text-yellow-500 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 backdrop-blur-md",children:[f.jsx(G1,{size:18}),"Modo Demo: Fallo al conectar con la API."]}),_==="search"&&f.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center pt-8",children:[f.jsxs("div",{className:"relative w-full max-w-3xl group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-3xl blur-xl opacity-20 group-focus-within:opacity-40 transition-opacity duration-500"}),f.jsxs("div",{className:`relative flex items-center px-6 py-5 rounded-3xl backdrop-blur-xl border transition-all group-focus-within:border-opacity-50 ${u==="dark"?"bg-white/5 border-white/10":"bg-black/5 border-black/10"}`,children:[f.jsx(Ef,{className:`mr-4 ${u==="dark"?"text-white/50":"text-black/50"}`,size:24}),f.jsx("input",{ref:yr,type:"text",placeholder:"Escribe para buscar...",className:`bg-transparent border-none outline-none text-xl w-full font-light ${u==="dark"?"text-white placeholder-white/20":"text-black placeholder-black/20"}`,value:J,onChange:C=>se(C.target.value)}),M&&f.jsx(wi,{className:`animate-spin ${u==="dark"?"text-white/50":"text-black/50"}`,size:24})]})]}),f.jsx("div",{className:"mt-16 w-full grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:j.map(C=>f.jsx(Uo,{movie:C,onClick:()=>Q(C),usingBackup:qe,theme:u},C.id))})]}),rt&&(_==="movies"||_==="series")&&f.jsxs(Z.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},children:[f.jsxs("button",{onClick:()=>Ge(null),className:`mb-8 flex items-center gap-2 transition ${u==="dark"?"text-white/60 hover:text-white":"text-black/60 hover:text-black"}`,children:[f.jsx(_1,{size:20})," Volver"]}),f.jsx("h1",{className:`text-2xl md:text-4xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r ${u==="dark"?"from-white to-white/60":"from-black to-black/60"}`,children:rt.name}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:rt.data.map(C=>f.jsx(Uo,{movie:C,onClick:()=>Q(C),isListed:B.some(z=>z.id===C.id),usingBackup:qe,theme:u},C.id))})]}),!rt&&(_==="movies"||_==="series")&&f.jsxs("div",{className:"animate-in fade-in duration-700",children:[!M&&Ft&&f.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},drag:"x",dragConstraints:{left:0,right:0},onDragEnd:Vw,className:"relative mb-16 group touch-pan-y",children:[f.jsxs("div",{onClick:()=>Q(Ft),className:`relative h-[55vh] md:h-[70vh] w-full rounded-[3rem] overflow-hidden cursor-pointer shadow-[0_20px_50px_rgba(0,0,0,0.5)] border ${u==="dark"?"border-white/10":"border-black/10"}`,children:[Ie?f.jsx("div",{className:"absolute inset-0 w-full h-full",children:f.jsx("iframe",{className:"w-full h-full scale-150 pointer-events-none opacity-60",src:`https://www.youtube.com/embed/${Ie}?autoplay=1&mute=${G?1:0}&controls=0&showinfo=0&rel=0&loop=1&playlist=${Ie}`,title:"Trailer",allow:"autoplay; encrypted-media"})}):f.jsx(Z.img,{initial:{scale:1},whileHover:{scale:1.05},transition:{duration:10},src:Ft.backdrop_path?`${qC}${Ft.backdrop_path}`:`${GC}${Ft.poster_path}`,alt:"Hero",className:"absolute inset-0 w-full h-full object-cover pointer-events-none"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent z-10"}),Ie&&f.jsx("div",{className:"absolute top-8 right-8 z-40",children:f.jsx("button",{onClick:C=>{C.stopPropagation(),T(!G)},className:"p-3 rounded-full bg-black/40 hover:bg-black/60 backdrop-blur-md text-white/80 hover:text-white transition-all border border-white/10",children:G?f.jsx(H1,{size:20}):f.jsx(W1,{size:20})})}),f.jsxs("div",{className:"absolute bottom-0 left-0 p-8 md:p-16 z-20 max-w-4xl pointer-events-none",children:[f.jsxs(Rw,{className:"mb-6 bg-red-500/20 text-red-300 border-red-500/30 backdrop-blur-xl",children:["#",Ne+1," en Tendencias"]}),f.jsx("h1",{className:"text-4xl md:text-8xl font-black text-white mb-6 drop-shadow-2xl leading-[0.9] tracking-tight",children:Ft.title||Ft.name}),f.jsx("p",{className:"text-white/80 text-base md:text-xl line-clamp-2 max-w-2xl drop-shadow-md font-light mb-8 backdrop-blur-sm rounded-xl p-2 -ml-2",children:Ft.overview}),f.jsx("div",{className:"flex gap-4 pointer-events-auto",children:f.jsxs(ir,{className:"px-8 py-4 rounded-2xl font-bold text-lg",children:[f.jsx(xd,{size:24,fill:"black"})," Ver Ahora"]})})]})]}),f.jsx("div",{className:"absolute bottom-8 right-8 z-30 flex gap-2",children:K.map((C,z)=>f.jsx("button",{onClick:we=>{we.stopPropagation(),Ue(z)},className:`h-2 rounded-full transition-all duration-300 ${z===Ne?"w-8 bg-white":"w-2 bg-white/30 hover:bg-white/60"}`},z))})]},Ft.id),M?f.jsx("div",{className:"flex items-center justify-center h-40",children:f.jsx(wi,{size:48,className:`animate-spin ${u==="dark"?"text-white/50":"text-black/50"}`})}):f.jsxs(f.Fragment,{children:[Object.keys(A).includes("9000")&&f.jsx(Jl,{section:A[9e3],myList:B,setSelectedMovie:Q,usingBackup:qe,icon:f.jsx(xi,{size:20,className:"text-yellow-400"}),onTitleClick:()=>ph(9e3,A[9e3].name,A[9e3].data),theme:u},"9000"),f.jsx(Jl,{section:{name:"Mi Lista",data:B,isEmpty:B.length===0},myList:B,setSelectedMovie:Q,usingBackup:qe,icon:B.length>0?f.jsx(Di,{size:20,className:"text-green-400"}):f.jsx(Oy,{size:20,className:u==="dark"?"text-white/40":"text-black/40"}),onTitleClick:()=>S("mylist"),theme:u},"mylist-row"),Object.keys(A).filter(C=>C!=="9000").map(C=>{const z=A[C];return!z||z.data.length===0?null:f.jsx(Jl,{section:z,myList:B,setSelectedMovie:Q,usingBackup:qe,icon:f.jsx("span",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-500 rounded-full"}),onTitleClick:()=>ph(C,z.name,z.data),theme:u},C)})]})]}),_==="mylist"&&f.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},children:[f.jsx("h1",{className:`text-4xl font-bold mb-12 text-transparent bg-clip-text bg-gradient-to-r ${u==="dark"?"from-white to-white/60":"from-black to-black/60"}`,children:"Mi Coleccin"}),B.length>0?f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-6",children:B.map(C=>f.jsx(Uo,{movie:C,onClick:()=>Q(C),isListed:!0,usingBackup:qe,theme:u},C.id))}):f.jsxs("div",{className:`flex flex-col items-center justify-center py-32 rounded-[3rem] border border-dashed ${u==="dark"?"bg-white/5 border-white/20":"bg-black/5 border-black/20"}`,children:[f.jsx(Fu,{size:64,className:"mb-6 opacity-20"}),f.jsx("p",{className:`text-xl font-light ${u==="dark"?"text-white/40":"text-black/40"}`,children:"Tu coleccin est vaca."})]})]})]}),f.jsx("div",{style:{paddingBottom:"env(safe-area-inset-bottom)"},className:"md:hidden fixed bottom-0 left-0 right-0 z-[90] p-4",children:f.jsx("div",{className:`backdrop-blur-xl border rounded-3xl shadow-[0_8px_32px_0_rgba(0,0,0,0.36)] flex items-center justify-around py-4 px-6 ${u==="dark"?"bg-black/80 border-white/10":"bg-white/90 border-black/10"}`,children:["search","movies","series","mylist"].map(C=>f.jsxs("button",{onClick:()=>S(C),className:`relative flex flex-col items-center justify-center w-12 h-12 rounded-2xl transition-all duration-300 ${_===C?u==="dark"?"text-black bg-white shadow-[0_0_15px_rgba(255,255,255,0.4)] scale-110":"text-white bg-black shadow-[0_0_15px_rgba(0,0,0,0.4)] scale-110":u==="dark"?"text-white/60 hover:text-white":"text-black/60 hover:text-black"}`,children:[C==="search"&&f.jsx(Ef,{size:22}),C==="movies"&&f.jsx(C1,{size:22}),C==="series"&&f.jsx(B1,{size:22}),C==="mylist"&&f.jsx(P1,{size:22,fill:_==="mylist"?"currentColor":"none"})]},C))})})]},"app")}),f.jsx(Qe,{children:a&&f.jsx(KC,{movies:Object.values(A).flatMap(C=>C.data),onComplete:Iw,onClose:()=>l(!1)})}),f.jsx(Qe,{children:g&&f.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4",children:f.jsxs(Ec,{className:"w-full max-w-sm p-8 rounded-[2rem] bg-black/80 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center text-red-500 mb-6",children:f.jsx(b1,{size:32})}),f.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Borrar perfil?"}),f.jsx("p",{className:"text-white/60 mb-8 text-sm",children:"Esta accin eliminar el historial y la lista de favoritos."}),f.jsxs("div",{className:"flex gap-3 w-full",children:[f.jsx(ir,{onClick:()=>b(null),variant:"glass",className:"flex-1 py-3 rounded-xl font-bold text-sm",children:"Cancelar"}),f.jsx(ir,{onClick:$w,variant:"danger",className:"flex-1 py-3 rounded-xl font-bold text-sm",children:"Borrar"})]})]})})}),f.jsx(Qe,{children:w==="profiles"&&f.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/90 backdrop-blur-xl",children:f.jsxs(Ec,{className:"w-full max-w-5xl p-8 md:p-24 rounded-[3rem] flex flex-col items-center relative bg-black/40 overflow-y-auto max-h-screen",children:[d.length>0&&f.jsx("button",{onClick:()=>p?x("app"):null,className:`absolute top-8 right-8 p-3 rounded-full bg-white/10 hover:bg-white/20 text-white transition-all ${!p&&"hidden"}`,children:f.jsx(ps,{size:24})}),f.jsx(ql,{size:"large",theme:"dark"}),f.jsx("h2",{className:"text-3xl font-light text-white/80 mt-12 mb-16 tracking-wide text-center",children:"Quin est viendo?"}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-6 md:gap-16",children:[d.map(C=>f.jsxs("div",{className:"group flex flex-col items-center gap-4 relative",children:[f.jsx(Z.button,{whileHover:{scale:1.1,y:-10},onClick:()=>{v(C),x("app")},className:`w-24 h-24 md:w-40 md:h-40 rounded-[2rem] flex items-center justify-center text-white shadow-2xl ring-4 ring-transparent hover:ring-white/50 bg-gradient-to-br ${C.avatar.gradient}`,children:C.avatar.icon}),f.jsx("span",{className:"text-lg md:text-xl font-medium text-white/60 group-hover:text-white transition-colors",children:C.name}),f.jsx("button",{onClick:()=>Mw(C.id),className:"absolute -top-2 -right-2 p-2 rounded-full bg-red-500/80 text-white opacity-0 group-hover:opacity-100 transition-all hover:scale-110",children:f.jsx(Ny,{size:16})})]},C.id)),d.length<8&&f.jsxs("div",{className:"flex flex-col items-center gap-4 group",children:[f.jsx(Z.button,{whileHover:{scale:1.1},onClick:()=>x("create-profile"),className:"w-24 h-24 md:w-40 md:h-40 rounded-[2rem] flex items-center justify-center bg-white/5 border-2 border-dashed border-white/20 text-white/40 hover:text-white hover:border-white hover:bg-white/10",children:f.jsx(Fu,{size:40})}),f.jsx("span",{className:"text-lg md:text-xl font-medium text-white/40 group-hover:text-white transition-colors",children:"Crear"})]})]})]})})}),f.jsx(Qe,{children:w==="create-profile"&&f.jsx(eP,{onSave:Dw,onCancel:()=>d.length>0&&x("profiles")})}),f.jsx(Qe,{children:X&&f.jsx(BC,{movie:X,onClose:()=>Q(null),isListed:B.some(C=>C.id===X.id),onToggleList:()=>{const C=B.some(z=>z.id===X.id);ks(C?B.filter(z=>z.id!==X.id):[...B,X])},usingBackup:qe})}),f.jsx(Qe,{children:r&&f.jsx(FC,{onClose:()=>s(!1)})}),f.jsx(Qe,{children:i&&f.jsx(HC,{user:e,onClose:()=>o(!1),onLogout:()=>{n(),o(!1),x("landing")},theme:u,toggleTheme:Ow,currentProfile:p,onUpdateProfile:Lw})})]})}function ZC(){return f.jsx(UC,{children:f.jsx(XC,{})})}const Uo=({movie:e,onClick:t,isListed:n,usingBackup:r,theme:s})=>{var i;return f.jsxs(Z.div,{onClick:t,whileHover:{scale:1.05,zIndex:10},className:`group relative aspect-[2/3] rounded-3xl overflow-hidden cursor-pointer shadow-lg ring-1 ${s==="dark"?"ring-white/10 bg-[#1a1a1a]":"ring-black/10 bg-gray-200"}`,children:[f.jsx("img",{src:e.poster_path?r?`https://image.tmdb.org/t/p/w500${e.poster_path}`:`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750",alt:e.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col justify-end p-4",children:f.jsxs("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[f.jsx("p",{className:"text-white font-bold text-lg leading-tight mb-2 drop-shadow-lg line-clamp-2",children:e.title||e.name}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Rw,{className:"bg-yellow-500/80 text-black border-none flex items-center gap-1",children:[f.jsx(xi,{size:8,fill:"black"})," ",(i=e.vote_average)==null?void 0:i.toFixed(1)]}),n&&f.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:f.jsx(Di,{size:14,className:"text-black"})})]})]})})]})},Jl=({section:e,myList:t,setSelectedMovie:n,usingBackup:r,icon:s,onTitleClick:i,theme:o})=>f.jsxs(Z.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"mb-12",children:[f.jsxs("button",{onClick:i,className:`group flex items-center gap-2 mb-6 px-2 text-2xl font-bold transition-colors ${o==="dark"?"text-white hover:text-blue-400":"text-black hover:text-blue-600"}`,children:[s,f.jsx("span",{children:e.name}),f.jsxs("div",{className:`flex items-center text-sm font-normal transition-all ml-2 ${o==="dark"?"text-white/40 group-hover:text-white":"text-black/40 group-hover:text-black"} group-hover:translate-x-2`,children:["Ver todo ",f.jsx(S1,{size:16})]})]}),e.isEmpty?f.jsxs("div",{className:`flex flex-col items-center justify-center h-48 rounded-[2rem] border border-dashed mx-auto w-[90%] md:w-full ${o==="dark"?"bg-white/5 border-white/20":"bg-black/5 border-black/20"}`,children:[f.jsx(Oy,{size:48,className:"mb-4 opacity-20"}),f.jsx("p",{className:`text-lg font-light ${o==="dark"?"text-white/40":"text-black/40"}`,children:"Tu lista est vaca."})]}):f.jsx("div",{className:"flex gap-4 overflow-x-scroll pb-8 -mx-4 px-4 md:-mx-12 md:px-12 scrollbar-hide snap-x snap-mandatory",style:{maskImage:"linear-gradient(to right, transparent, black 5%, black 95%, transparent)",WebkitMaskImage:"linear-gradient(to right, transparent, black 5%, black 95%, transparent)"},children:e.data.map(a=>f.jsx("div",{className:"min-w-[160px] w-[160px] md:min-w-[220px] md:w-[220px] snap-start",children:f.jsx(Uo,{movie:a,onClick:()=>n(a),isListed:t.some(l=>l.id===a.id),usingBackup:r,theme:o})},`section-${a.id}`))})]}),eP=({onSave:e,onCancel:t})=>{const[n,r]=E.useState(1),[s,i]=E.useState(""),[o,a]=E.useState(Sa[0]),[l,u]=E.useState([]),c=d=>{l.includes(d)?u(l.filter(h=>h!==d)):u([...l,d])};return f.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:f.jsxs(Ec,{className:"relative w-full max-w-2xl p-10 rounded-[3rem] bg-black/60",children:[f.jsx("button",{onClick:t,className:"absolute top-8 right-8 text-white/40 hover:text-white transition",children:f.jsx(ps,{size:24})}),f.jsxs("div",{className:"mb-8 flex justify-center gap-2",children:[f.jsx("div",{className:`h-1 w-8 rounded-full transition-all ${n>=1?"bg-blue-500":"bg-white/10"}`}),f.jsx("div",{className:`h-1 w-8 rounded-full transition-all ${n>=2?"bg-blue-500":"bg-white/10"}`})]}),f.jsx(Qe,{mode:"wait",children:n===1?f.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},children:[f.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-10",children:"Nuevo Perfil"}),f.jsx("div",{className:"flex justify-center mb-10",children:f.jsx("div",{className:`w-40 h-40 rounded-[2.5rem] flex items-center justify-center text-white text-7xl bg-gradient-to-br ${o.gradient} shadow-[0_20px_50px_rgba(0,0,0,0.5)] ring-4 ring-white/10`,children:o.icon})}),f.jsx("div",{className:"grid grid-cols-4 gap-4 mb-10",children:Sa.map(d=>f.jsx("button",{onClick:()=>a(d),className:`aspect-square rounded-2xl flex items-center justify-center text-white transition-all duration-300 hover:scale-110 bg-gradient-to-br ${d.gradient} ${o.id===d.id?"ring-4 ring-white shadow-lg scale-110":"opacity-40 hover:opacity-100"}`,children:f.jsx("div",{className:"scale-75",children:d.icon})},d.id))}),f.jsx("input",{type:"text",value:s,onChange:d=>i(d.target.value),className:"w-full p-5 rounded-2xl text-center text-xl font-bold mb-8 bg-black/20 border border-white/10 text-white focus:border-white/50 outline-none",placeholder:"Nombre del perfil",autoFocus:!0}),f.jsx(ir,{onClick:()=>s&&r(2),disabled:!s,className:"w-full py-4 rounded-2xl font-bold text-lg",children:"Siguiente"})]},"step1"):f.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[f.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-4",children:"Tus Plataformas"}),f.jsx("p",{className:"text-white/60 text-center mb-10",children:"Selecciona tus suscripciones para personalizar el catlogo."}),f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-10",children:JC.map(d=>f.jsxs("button",{onClick:()=>c(d.id),className:`relative p-4 rounded-2xl border transition-all flex flex-col items-center gap-3 ${l.includes(d.id)?"bg-blue-500/20 border-blue-500":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[f.jsx("div",{className:"w-12 h-12 rounded-xl bg-white p-1 shadow-lg overflow-hidden flex items-center justify-center",children:f.jsx("img",{src:d.logo,alt:d.name,className:"w-full h-full object-contain"})}),f.jsx("span",{className:`text-sm font-medium ${l.includes(d.id)?"text-white":"text-white/60"}`,children:d.name}),l.includes(d.id)&&f.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full bg-blue-500 flex items-center justify-center",children:f.jsx(Di,{size:12,className:"text-white"})})]},d.id))}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx(ir,{onClick:()=>r(1),variant:"glass",className:"flex-1 py-4 rounded-2xl font-bold text-lg",children:"Atrs"}),f.jsx(ir,{onClick:()=>e(s,o,l),className:"flex-[2] py-4 rounded-2xl font-bold text-lg",children:"Crear Perfil"})]})]},"step2")})]})})};Ql.createRoot(document.getElementById("root")).render(f.jsx(ox.StrictMode,{children:f.jsx(ZC,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registrado:",e)}).catch(e=>{console.log("SW fall:",e)})});
